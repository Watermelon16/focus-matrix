function gR(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function vE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var yE={exports:{}},jh={},wE={exports:{}},xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ac=Symbol.for("react.element"),vR=Symbol.for("react.portal"),yR=Symbol.for("react.fragment"),wR=Symbol.for("react.strict_mode"),_R=Symbol.for("react.profiler"),xR=Symbol.for("react.provider"),ER=Symbol.for("react.context"),TR=Symbol.for("react.forward_ref"),bR=Symbol.for("react.suspense"),SR=Symbol.for("react.memo"),CR=Symbol.for("react.lazy"),b0=Symbol.iterator;function IR(t){return t===null||typeof t!="object"?null:(t=b0&&t[b0]||t["@@iterator"],typeof t=="function"?t:null)}var _E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xE=Object.assign,EE={};function Va(t,e,n){this.props=t,this.context=e,this.refs=EE,this.updater=n||_E}Va.prototype.isReactComponent={};Va.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Va.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function TE(){}TE.prototype=Va.prototype;function ev(t,e,n){this.props=t,this.context=e,this.refs=EE,this.updater=n||_E}var tv=ev.prototype=new TE;tv.constructor=ev;xE(tv,Va.prototype);tv.isPureReactComponent=!0;var S0=Array.isArray,bE=Object.prototype.hasOwnProperty,nv={current:null},SE={key:!0,ref:!0,__self:!0,__source:!0};function CE(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)bE.call(e,r)&&!SE.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),d=0;d<a;d++)l[d]=arguments[d+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Ac,type:t,key:i,ref:o,props:s,_owner:nv.current}}function NR(t,e){return{$$typeof:Ac,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function rv(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ac}function kR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var C0=/\/+/g;function am(t,e){return typeof t=="object"&&t!==null&&t.key!=null?kR(""+t.key):e.toString(36)}function ed(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ac:case vR:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+am(o,0):r,S0(s)?(n="",t!=null&&(n=t.replace(C0,"$&/")+"/"),ed(s,e,n,"",function(d){return d})):s!=null&&(rv(s)&&(s=NR(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(C0,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",S0(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+am(i,a);o+=ed(i,e,n,l,s)}else if(l=IR(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+am(i,a++),o+=ed(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function xu(t,e,n){if(t==null)return t;var r=[],s=0;return ed(t,r,"","",function(i){return e.call(n,i,s++)}),r}function PR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var tn={current:null},td={transition:null},RR={ReactCurrentDispatcher:tn,ReactCurrentBatchConfig:td,ReactCurrentOwner:nv};function IE(){throw Error("act(...) is not supported in production builds of React.")}xe.Children={map:xu,forEach:function(t,e,n){xu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return xu(t,function(){e++}),e},toArray:function(t){return xu(t,function(e){return e})||[]},only:function(t){if(!rv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};xe.Component=Va;xe.Fragment=yR;xe.Profiler=_R;xe.PureComponent=ev;xe.StrictMode=wR;xe.Suspense=bR;xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RR;xe.act=IE;xe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=xE({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=nv.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)bE.call(e,l)&&!SE.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var d=0;d<l;d++)a[d]=arguments[d+2];r.children=a}return{$$typeof:Ac,type:t.type,key:s,ref:i,props:r,_owner:o}};xe.createContext=function(t){return t={$$typeof:ER,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:xR,_context:t},t.Consumer=t};xe.createElement=CE;xe.createFactory=function(t){var e=CE.bind(null,t);return e.type=t,e};xe.createRef=function(){return{current:null}};xe.forwardRef=function(t){return{$$typeof:TR,render:t}};xe.isValidElement=rv;xe.lazy=function(t){return{$$typeof:CR,_payload:{_status:-1,_result:t},_init:PR}};xe.memo=function(t,e){return{$$typeof:SR,type:t,compare:e===void 0?null:e}};xe.startTransition=function(t){var e=td.transition;td.transition={};try{t()}finally{td.transition=e}};xe.unstable_act=IE;xe.useCallback=function(t,e){return tn.current.useCallback(t,e)};xe.useContext=function(t){return tn.current.useContext(t)};xe.useDebugValue=function(){};xe.useDeferredValue=function(t){return tn.current.useDeferredValue(t)};xe.useEffect=function(t,e){return tn.current.useEffect(t,e)};xe.useId=function(){return tn.current.useId()};xe.useImperativeHandle=function(t,e,n){return tn.current.useImperativeHandle(t,e,n)};xe.useInsertionEffect=function(t,e){return tn.current.useInsertionEffect(t,e)};xe.useLayoutEffect=function(t,e){return tn.current.useLayoutEffect(t,e)};xe.useMemo=function(t,e){return tn.current.useMemo(t,e)};xe.useReducer=function(t,e,n){return tn.current.useReducer(t,e,n)};xe.useRef=function(t){return tn.current.useRef(t)};xe.useState=function(t){return tn.current.useState(t)};xe.useSyncExternalStore=function(t,e,n){return tn.current.useSyncExternalStore(t,e,n)};xe.useTransition=function(){return tn.current.useTransition()};xe.version="18.3.1";wE.exports=xe;var v=wE.exports;const q=vE(v),NE=gR({__proto__:null,default:q},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AR=v,DR=Symbol.for("react.element"),MR=Symbol.for("react.fragment"),OR=Object.prototype.hasOwnProperty,jR=AR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,LR={key:!0,ref:!0,__self:!0,__source:!0};function kE(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)OR.call(e,r)&&!LR.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:DR,type:t,key:i,ref:o,props:s,_owner:jR.current}}jh.Fragment=MR;jh.jsx=kE;jh.jsxs=kE;yE.exports=jh;var c=yE.exports,fp={},PE={exports:{}},In={},RE={exports:{}},AE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,L){var H=j.length;j.push(L);e:for(;0<H;){var te=H-1>>>1,ee=j[te];if(0<s(ee,L))j[te]=L,j[H]=ee,H=te;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var L=j[0],H=j.pop();if(H!==L){j[0]=H;e:for(var te=0,ee=j.length,pe=ee>>>1;te<pe;){var ae=2*(te+1)-1,De=j[ae],Me=ae+1,G=j[Me];if(0>s(De,H))Me<ee&&0>s(G,De)?(j[te]=G,j[Me]=H,te=Me):(j[te]=De,j[ae]=H,te=ae);else if(Me<ee&&0>s(G,H))j[te]=G,j[Me]=H,te=Me;else break e}}return L}function s(j,L){var H=j.sortIndex-L.sortIndex;return H!==0?H:j.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],d=[],h=1,f=null,m=3,p=!1,S=!1,y=!1,E=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(j){for(var L=n(d);L!==null;){if(L.callback===null)r(d);else if(L.startTime<=j)r(d),L.sortIndex=L.expirationTime,e(l,L);else break;L=n(d)}}function R(j){if(y=!1,T(j),!S)if(n(l)!==null)S=!0,Q(M);else{var L=n(d);L!==null&&B(R,L.startTime-j)}}function M(j,L){S=!1,y&&(y=!1,x(C),C=-1),p=!0;var H=m;try{for(T(L),f=n(l);f!==null&&(!(f.expirationTime>L)||j&&!A());){var te=f.callback;if(typeof te=="function"){f.callback=null,m=f.priorityLevel;var ee=te(f.expirationTime<=L);L=t.unstable_now(),typeof ee=="function"?f.callback=ee:f===n(l)&&r(l),T(L)}else r(l);f=n(l)}if(f!==null)var pe=!0;else{var ae=n(d);ae!==null&&B(R,ae.startTime-L),pe=!1}return pe}finally{f=null,m=H,p=!1}}var O=!1,b=null,C=-1,I=5,k=-1;function A(){return!(t.unstable_now()-k<I)}function D(){if(b!==null){var j=t.unstable_now();k=j;var L=!0;try{L=b(!0,j)}finally{L?P():(O=!1,b=null)}}else O=!1}var P;if(typeof _=="function")P=function(){_(D)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,Y=W.port2;W.port1.onmessage=D,P=function(){Y.postMessage(null)}}else P=function(){E(D,0)};function Q(j){b=j,O||(O=!0,P())}function B(j,L){C=E(function(){j(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){S||p||(S=!0,Q(M))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(j){switch(m){case 1:case 2:case 3:var L=3;break;default:L=m}var H=m;m=L;try{return j()}finally{m=H}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,L){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var H=m;m=j;try{return L()}finally{m=H}},t.unstable_scheduleCallback=function(j,L,H){var te=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?te+H:te):H=te,j){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=H+ee,j={id:h++,callback:L,priorityLevel:j,startTime:H,expirationTime:ee,sortIndex:-1},H>te?(j.sortIndex=H,e(d,j),n(l)===null&&j===n(d)&&(y?(x(C),C=-1):y=!0,B(R,H-te))):(j.sortIndex=ee,e(l,j),S||p||(S=!0,Q(M))),j},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(j){var L=m;return function(){var H=m;m=L;try{return j.apply(this,arguments)}finally{m=H}}}})(AE);RE.exports=AE;var VR=RE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FR=v,Cn=VR;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var DE=new Set,Ql={};function _o(t,e){va(t,e),va(t+"Capture",e)}function va(t,e){for(Ql[t]=e,t=0;t<e.length;t++)DE.add(e[t])}var os=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mp=Object.prototype.hasOwnProperty,UR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,I0={},N0={};function $R(t){return mp.call(N0,t)?!0:mp.call(I0,t)?!1:UR.test(t)?N0[t]=!0:(I0[t]=!0,!1)}function BR(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function zR(t,e,n,r){if(e===null||typeof e>"u"||BR(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function nn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Lt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Lt[t]=new nn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Lt[e]=new nn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Lt[t]=new nn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Lt[t]=new nn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Lt[t]=new nn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Lt[t]=new nn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Lt[t]=new nn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Lt[t]=new nn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Lt[t]=new nn(t,5,!1,t.toLowerCase(),null,!1,!1)});var sv=/[\-:]([a-z])/g;function iv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(sv,iv);Lt[e]=new nn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(sv,iv);Lt[e]=new nn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(sv,iv);Lt[e]=new nn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Lt[t]=new nn(t,1,!1,t.toLowerCase(),null,!1,!1)});Lt.xlinkHref=new nn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Lt[t]=new nn(t,1,!1,t.toLowerCase(),null,!0,!0)});function ov(t,e,n,r){var s=Lt.hasOwnProperty(e)?Lt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(zR(e,n,s,r)&&(n=null),r||s===null?$R(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ys=FR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Eu=Symbol.for("react.element"),Bo=Symbol.for("react.portal"),zo=Symbol.for("react.fragment"),av=Symbol.for("react.strict_mode"),pp=Symbol.for("react.profiler"),ME=Symbol.for("react.provider"),OE=Symbol.for("react.context"),lv=Symbol.for("react.forward_ref"),gp=Symbol.for("react.suspense"),vp=Symbol.for("react.suspense_list"),cv=Symbol.for("react.memo"),Ls=Symbol.for("react.lazy"),jE=Symbol.for("react.offscreen"),k0=Symbol.iterator;function ml(t){return t===null||typeof t!="object"?null:(t=k0&&t[k0]||t["@@iterator"],typeof t=="function"?t:null)}var rt=Object.assign,lm;function bl(t){if(lm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);lm=e&&e[1]||""}return`
`+lm+t}var cm=!1;function um(t,e){if(!t||cm)return"";cm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{cm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?bl(t):""}function WR(t){switch(t.tag){case 5:return bl(t.type);case 16:return bl("Lazy");case 13:return bl("Suspense");case 19:return bl("SuspenseList");case 0:case 2:case 15:return t=um(t.type,!1),t;case 11:return t=um(t.type.render,!1),t;case 1:return t=um(t.type,!0),t;default:return""}}function yp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case zo:return"Fragment";case Bo:return"Portal";case pp:return"Profiler";case av:return"StrictMode";case gp:return"Suspense";case vp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case OE:return(t.displayName||"Context")+".Consumer";case ME:return(t._context.displayName||"Context")+".Provider";case lv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case cv:return e=t.displayName||null,e!==null?e:yp(t.type)||"Memo";case Ls:e=t._payload,t=t._init;try{return yp(t(e))}catch{}}return null}function HR(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return yp(e);case 8:return e===av?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ui(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function LE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function qR(t){var e=LE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Tu(t){t._valueTracker||(t._valueTracker=qR(t))}function VE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=LE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function kd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function wp(t,e){var n=e.checked;return rt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function P0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ui(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function FE(t,e){e=e.checked,e!=null&&ov(t,"checked",e,!1)}function _p(t,e){FE(t,e);var n=ui(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?xp(t,e.type,n):e.hasOwnProperty("defaultValue")&&xp(t,e.type,ui(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function R0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function xp(t,e,n){(e!=="number"||kd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Sl=Array.isArray;function ta(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ui(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Ep(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return rt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function A0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(Sl(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ui(n)}}function UE(t,e){var n=ui(e.value),r=ui(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function D0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function $E(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Tp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?$E(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var bu,BE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(bu=bu||document.createElement("div"),bu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=bu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Yl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ml={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},GR=["Webkit","ms","Moz","O"];Object.keys(Ml).forEach(function(t){GR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ml[e]=Ml[t]})});function zE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ml.hasOwnProperty(t)&&Ml[t]?(""+e).trim():e+"px"}function WE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=zE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var KR=rt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bp(t,e){if(e){if(KR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function Sp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cp=null;function uv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ip=null,na=null,ra=null;function M0(t){if(t=Oc(t)){if(typeof Ip!="function")throw Error(z(280));var e=t.stateNode;e&&(e=$h(e),Ip(t.stateNode,t.type,e))}}function HE(t){na?ra?ra.push(t):ra=[t]:na=t}function qE(){if(na){var t=na,e=ra;if(ra=na=null,M0(t),e)for(t=0;t<e.length;t++)M0(e[t])}}function GE(t,e){return t(e)}function KE(){}var dm=!1;function QE(t,e,n){if(dm)return t(e,n);dm=!0;try{return GE(t,e,n)}finally{dm=!1,(na!==null||ra!==null)&&(KE(),qE())}}function Xl(t,e){var n=t.stateNode;if(n===null)return null;var r=$h(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var Np=!1;if(os)try{var pl={};Object.defineProperty(pl,"passive",{get:function(){Np=!0}}),window.addEventListener("test",pl,pl),window.removeEventListener("test",pl,pl)}catch{Np=!1}function QR(t,e,n,r,s,i,o,a,l){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(h){this.onError(h)}}var Ol=!1,Pd=null,Rd=!1,kp=null,YR={onError:function(t){Ol=!0,Pd=t}};function XR(t,e,n,r,s,i,o,a,l){Ol=!1,Pd=null,QR.apply(YR,arguments)}function JR(t,e,n,r,s,i,o,a,l){if(XR.apply(this,arguments),Ol){if(Ol){var d=Pd;Ol=!1,Pd=null}else throw Error(z(198));Rd||(Rd=!0,kp=d)}}function xo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function YE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function O0(t){if(xo(t)!==t)throw Error(z(188))}function ZR(t){var e=t.alternate;if(!e){if(e=xo(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return O0(s),t;if(i===r)return O0(s),e;i=i.sibling}throw Error(z(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function XE(t){return t=ZR(t),t!==null?JE(t):null}function JE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=JE(t);if(e!==null)return e;t=t.sibling}return null}var ZE=Cn.unstable_scheduleCallback,j0=Cn.unstable_cancelCallback,eA=Cn.unstable_shouldYield,tA=Cn.unstable_requestPaint,lt=Cn.unstable_now,nA=Cn.unstable_getCurrentPriorityLevel,dv=Cn.unstable_ImmediatePriority,eT=Cn.unstable_UserBlockingPriority,Ad=Cn.unstable_NormalPriority,rA=Cn.unstable_LowPriority,tT=Cn.unstable_IdlePriority,Lh=null,br=null;function sA(t){if(br&&typeof br.onCommitFiberRoot=="function")try{br.onCommitFiberRoot(Lh,t,void 0,(t.current.flags&128)===128)}catch{}}var Xn=Math.clz32?Math.clz32:aA,iA=Math.log,oA=Math.LN2;function aA(t){return t>>>=0,t===0?32:31-(iA(t)/oA|0)|0}var Su=64,Cu=4194304;function Cl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Dd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Cl(a):(i&=o,i!==0&&(r=Cl(i)))}else o=n&~s,o!==0?r=Cl(o):i!==0&&(r=Cl(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Xn(e),s=1<<n,r|=t[n],e&=~s;return r}function lA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cA(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Xn(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=lA(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Pp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function nT(){var t=Su;return Su<<=1,!(Su&4194240)&&(Su=64),t}function hm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Dc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Xn(e),t[e]=n}function uA(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Xn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function hv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Xn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Ue=0;function rT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var sT,fv,iT,oT,aT,Rp=!1,Iu=[],Qs=null,Ys=null,Xs=null,Jl=new Map,Zl=new Map,Us=[],dA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function L0(t,e){switch(t){case"focusin":case"focusout":Qs=null;break;case"dragenter":case"dragleave":Ys=null;break;case"mouseover":case"mouseout":Xs=null;break;case"pointerover":case"pointerout":Jl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zl.delete(e.pointerId)}}function gl(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Oc(e),e!==null&&fv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function hA(t,e,n,r,s){switch(e){case"focusin":return Qs=gl(Qs,t,e,n,r,s),!0;case"dragenter":return Ys=gl(Ys,t,e,n,r,s),!0;case"mouseover":return Xs=gl(Xs,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Jl.set(i,gl(Jl.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Zl.set(i,gl(Zl.get(i)||null,t,e,n,r,s)),!0}return!1}function lT(t){var e=Hi(t.target);if(e!==null){var n=xo(e);if(n!==null){if(e=n.tag,e===13){if(e=YE(n),e!==null){t.blockedOn=e,aT(t.priority,function(){iT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function nd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ap(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Cp=r,n.target.dispatchEvent(r),Cp=null}else return e=Oc(n),e!==null&&fv(e),t.blockedOn=n,!1;e.shift()}return!0}function V0(t,e,n){nd(t)&&n.delete(e)}function fA(){Rp=!1,Qs!==null&&nd(Qs)&&(Qs=null),Ys!==null&&nd(Ys)&&(Ys=null),Xs!==null&&nd(Xs)&&(Xs=null),Jl.forEach(V0),Zl.forEach(V0)}function vl(t,e){t.blockedOn===e&&(t.blockedOn=null,Rp||(Rp=!0,Cn.unstable_scheduleCallback(Cn.unstable_NormalPriority,fA)))}function ec(t){function e(s){return vl(s,t)}if(0<Iu.length){vl(Iu[0],t);for(var n=1;n<Iu.length;n++){var r=Iu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Qs!==null&&vl(Qs,t),Ys!==null&&vl(Ys,t),Xs!==null&&vl(Xs,t),Jl.forEach(e),Zl.forEach(e),n=0;n<Us.length;n++)r=Us[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Us.length&&(n=Us[0],n.blockedOn===null);)lT(n),n.blockedOn===null&&Us.shift()}var sa=ys.ReactCurrentBatchConfig,Md=!0;function mA(t,e,n,r){var s=Ue,i=sa.transition;sa.transition=null;try{Ue=1,mv(t,e,n,r)}finally{Ue=s,sa.transition=i}}function pA(t,e,n,r){var s=Ue,i=sa.transition;sa.transition=null;try{Ue=4,mv(t,e,n,r)}finally{Ue=s,sa.transition=i}}function mv(t,e,n,r){if(Md){var s=Ap(t,e,n,r);if(s===null)Em(t,e,r,Od,n),L0(t,r);else if(hA(s,t,e,n,r))r.stopPropagation();else if(L0(t,r),e&4&&-1<dA.indexOf(t)){for(;s!==null;){var i=Oc(s);if(i!==null&&sT(i),i=Ap(t,e,n,r),i===null&&Em(t,e,r,Od,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Em(t,e,r,null,n)}}var Od=null;function Ap(t,e,n,r){if(Od=null,t=uv(r),t=Hi(t),t!==null)if(e=xo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=YE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Od=t,null}function cT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nA()){case dv:return 1;case eT:return 4;case Ad:case rA:return 16;case tT:return 536870912;default:return 16}default:return 16}}var qs=null,pv=null,rd=null;function uT(){if(rd)return rd;var t,e=pv,n=e.length,r,s="value"in qs?qs.value:qs.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return rd=s.slice(t,1<r?1-r:void 0)}function sd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Nu(){return!0}function F0(){return!1}function Nn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Nu:F0,this.isPropagationStopped=F0,this}return rt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Nu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Nu)},persist:function(){},isPersistent:Nu}),e}var Fa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gv=Nn(Fa),Mc=rt({},Fa,{view:0,detail:0}),gA=Nn(Mc),fm,mm,yl,Vh=rt({},Mc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==yl&&(yl&&t.type==="mousemove"?(fm=t.screenX-yl.screenX,mm=t.screenY-yl.screenY):mm=fm=0,yl=t),fm)},movementY:function(t){return"movementY"in t?t.movementY:mm}}),U0=Nn(Vh),vA=rt({},Vh,{dataTransfer:0}),yA=Nn(vA),wA=rt({},Mc,{relatedTarget:0}),pm=Nn(wA),_A=rt({},Fa,{animationName:0,elapsedTime:0,pseudoElement:0}),xA=Nn(_A),EA=rt({},Fa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),TA=Nn(EA),bA=rt({},Fa,{data:0}),$0=Nn(bA),SA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},CA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},IA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function NA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=IA[t])?!!e[t]:!1}function vv(){return NA}var kA=rt({},Mc,{key:function(t){if(t.key){var e=SA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=sd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?CA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vv,charCode:function(t){return t.type==="keypress"?sd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?sd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),PA=Nn(kA),RA=rt({},Vh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),B0=Nn(RA),AA=rt({},Mc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vv}),DA=Nn(AA),MA=rt({},Fa,{propertyName:0,elapsedTime:0,pseudoElement:0}),OA=Nn(MA),jA=rt({},Vh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),LA=Nn(jA),VA=[9,13,27,32],yv=os&&"CompositionEvent"in window,jl=null;os&&"documentMode"in document&&(jl=document.documentMode);var FA=os&&"TextEvent"in window&&!jl,dT=os&&(!yv||jl&&8<jl&&11>=jl),z0=" ",W0=!1;function hT(t,e){switch(t){case"keyup":return VA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Wo=!1;function UA(t,e){switch(t){case"compositionend":return fT(e);case"keypress":return e.which!==32?null:(W0=!0,z0);case"textInput":return t=e.data,t===z0&&W0?null:t;default:return null}}function $A(t,e){if(Wo)return t==="compositionend"||!yv&&hT(t,e)?(t=uT(),rd=pv=qs=null,Wo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return dT&&e.locale!=="ko"?null:e.data;default:return null}}var BA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function H0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!BA[t.type]:e==="textarea"}function mT(t,e,n,r){HE(r),e=jd(e,"onChange"),0<e.length&&(n=new gv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ll=null,tc=null;function zA(t){ST(t,0)}function Fh(t){var e=Go(t);if(VE(e))return t}function WA(t,e){if(t==="change")return e}var pT=!1;if(os){var gm;if(os){var vm="oninput"in document;if(!vm){var q0=document.createElement("div");q0.setAttribute("oninput","return;"),vm=typeof q0.oninput=="function"}gm=vm}else gm=!1;pT=gm&&(!document.documentMode||9<document.documentMode)}function G0(){Ll&&(Ll.detachEvent("onpropertychange",gT),tc=Ll=null)}function gT(t){if(t.propertyName==="value"&&Fh(tc)){var e=[];mT(e,tc,t,uv(t)),QE(zA,e)}}function HA(t,e,n){t==="focusin"?(G0(),Ll=e,tc=n,Ll.attachEvent("onpropertychange",gT)):t==="focusout"&&G0()}function qA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fh(tc)}function GA(t,e){if(t==="click")return Fh(e)}function KA(t,e){if(t==="input"||t==="change")return Fh(e)}function QA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var er=typeof Object.is=="function"?Object.is:QA;function nc(t,e){if(er(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!mp.call(e,s)||!er(t[s],e[s]))return!1}return!0}function K0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Q0(t,e){var n=K0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=K0(n)}}function vT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?vT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function yT(){for(var t=window,e=kd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=kd(t.document)}return e}function wv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function YA(t){var e=yT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&vT(n.ownerDocument.documentElement,n)){if(r!==null&&wv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Q0(n,i);var o=Q0(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var XA=os&&"documentMode"in document&&11>=document.documentMode,Ho=null,Dp=null,Vl=null,Mp=!1;function Y0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Mp||Ho==null||Ho!==kd(r)||(r=Ho,"selectionStart"in r&&wv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Vl&&nc(Vl,r)||(Vl=r,r=jd(Dp,"onSelect"),0<r.length&&(e=new gv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ho)))}function ku(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var qo={animationend:ku("Animation","AnimationEnd"),animationiteration:ku("Animation","AnimationIteration"),animationstart:ku("Animation","AnimationStart"),transitionend:ku("Transition","TransitionEnd")},ym={},wT={};os&&(wT=document.createElement("div").style,"AnimationEvent"in window||(delete qo.animationend.animation,delete qo.animationiteration.animation,delete qo.animationstart.animation),"TransitionEvent"in window||delete qo.transitionend.transition);function Uh(t){if(ym[t])return ym[t];if(!qo[t])return t;var e=qo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in wT)return ym[t]=e[n];return t}var _T=Uh("animationend"),xT=Uh("animationiteration"),ET=Uh("animationstart"),TT=Uh("transitionend"),bT=new Map,X0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ei(t,e){bT.set(t,e),_o(e,[t])}for(var wm=0;wm<X0.length;wm++){var _m=X0[wm],JA=_m.toLowerCase(),ZA=_m[0].toUpperCase()+_m.slice(1);Ei(JA,"on"+ZA)}Ei(_T,"onAnimationEnd");Ei(xT,"onAnimationIteration");Ei(ET,"onAnimationStart");Ei("dblclick","onDoubleClick");Ei("focusin","onFocus");Ei("focusout","onBlur");Ei(TT,"onTransitionEnd");va("onMouseEnter",["mouseout","mouseover"]);va("onMouseLeave",["mouseout","mouseover"]);va("onPointerEnter",["pointerout","pointerover"]);va("onPointerLeave",["pointerout","pointerover"]);_o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));_o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));_o("onBeforeInput",["compositionend","keypress","textInput","paste"]);_o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));_o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));_o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),e2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Il));function J0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,JR(r,e,void 0,t),t.currentTarget=null}function ST(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,d=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;J0(s,a,d),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,d=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;J0(s,a,d),i=l}}}if(Rd)throw t=kp,Rd=!1,kp=null,t}function Ye(t,e){var n=e[Fp];n===void 0&&(n=e[Fp]=new Set);var r=t+"__bubble";n.has(r)||(CT(e,t,2,!1),n.add(r))}function xm(t,e,n){var r=0;e&&(r|=4),CT(n,t,r,e)}var Pu="_reactListening"+Math.random().toString(36).slice(2);function rc(t){if(!t[Pu]){t[Pu]=!0,DE.forEach(function(n){n!=="selectionchange"&&(e2.has(n)||xm(n,!1,t),xm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Pu]||(e[Pu]=!0,xm("selectionchange",!1,e))}}function CT(t,e,n,r){switch(cT(e)){case 1:var s=mA;break;case 4:s=pA;break;default:s=mv}n=s.bind(null,e,n,t),s=void 0,!Np||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Em(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Hi(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}QE(function(){var d=i,h=uv(n),f=[];e:{var m=bT.get(t);if(m!==void 0){var p=gv,S=t;switch(t){case"keypress":if(sd(n)===0)break e;case"keydown":case"keyup":p=PA;break;case"focusin":S="focus",p=pm;break;case"focusout":S="blur",p=pm;break;case"beforeblur":case"afterblur":p=pm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=U0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=yA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=DA;break;case _T:case xT:case ET:p=xA;break;case TT:p=OA;break;case"scroll":p=gA;break;case"wheel":p=LA;break;case"copy":case"cut":case"paste":p=TA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=B0}var y=(e&4)!==0,E=!y&&t==="scroll",x=y?m!==null?m+"Capture":null:m;y=[];for(var _=d,T;_!==null;){T=_;var R=T.stateNode;if(T.tag===5&&R!==null&&(T=R,x!==null&&(R=Xl(_,x),R!=null&&y.push(sc(_,R,T)))),E)break;_=_.return}0<y.length&&(m=new p(m,S,null,n,h),f.push({event:m,listeners:y}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",m&&n!==Cp&&(S=n.relatedTarget||n.fromElement)&&(Hi(S)||S[as]))break e;if((p||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,p?(S=n.relatedTarget||n.toElement,p=d,S=S?Hi(S):null,S!==null&&(E=xo(S),S!==E||S.tag!==5&&S.tag!==6)&&(S=null)):(p=null,S=d),p!==S)){if(y=U0,R="onMouseLeave",x="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(y=B0,R="onPointerLeave",x="onPointerEnter",_="pointer"),E=p==null?m:Go(p),T=S==null?m:Go(S),m=new y(R,_+"leave",p,n,h),m.target=E,m.relatedTarget=T,R=null,Hi(h)===d&&(y=new y(x,_+"enter",S,n,h),y.target=T,y.relatedTarget=E,R=y),E=R,p&&S)t:{for(y=p,x=S,_=0,T=y;T;T=Ao(T))_++;for(T=0,R=x;R;R=Ao(R))T++;for(;0<_-T;)y=Ao(y),_--;for(;0<T-_;)x=Ao(x),T--;for(;_--;){if(y===x||x!==null&&y===x.alternate)break t;y=Ao(y),x=Ao(x)}y=null}else y=null;p!==null&&Z0(f,m,p,y,!1),S!==null&&E!==null&&Z0(f,E,S,y,!0)}}e:{if(m=d?Go(d):window,p=m.nodeName&&m.nodeName.toLowerCase(),p==="select"||p==="input"&&m.type==="file")var M=WA;else if(H0(m))if(pT)M=KA;else{M=qA;var O=HA}else(p=m.nodeName)&&p.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(M=GA);if(M&&(M=M(t,d))){mT(f,M,n,h);break e}O&&O(t,m,d),t==="focusout"&&(O=m._wrapperState)&&O.controlled&&m.type==="number"&&xp(m,"number",m.value)}switch(O=d?Go(d):window,t){case"focusin":(H0(O)||O.contentEditable==="true")&&(Ho=O,Dp=d,Vl=null);break;case"focusout":Vl=Dp=Ho=null;break;case"mousedown":Mp=!0;break;case"contextmenu":case"mouseup":case"dragend":Mp=!1,Y0(f,n,h);break;case"selectionchange":if(XA)break;case"keydown":case"keyup":Y0(f,n,h)}var b;if(yv)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Wo?hT(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(dT&&n.locale!=="ko"&&(Wo||C!=="onCompositionStart"?C==="onCompositionEnd"&&Wo&&(b=uT()):(qs=h,pv="value"in qs?qs.value:qs.textContent,Wo=!0)),O=jd(d,C),0<O.length&&(C=new $0(C,t,null,n,h),f.push({event:C,listeners:O}),b?C.data=b:(b=fT(n),b!==null&&(C.data=b)))),(b=FA?UA(t,n):$A(t,n))&&(d=jd(d,"onBeforeInput"),0<d.length&&(h=new $0("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:d}),h.data=b))}ST(f,e)})}function sc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function jd(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Xl(t,n),i!=null&&r.unshift(sc(t,i,s)),i=Xl(t,e),i!=null&&r.push(sc(t,i,s))),t=t.return}return r}function Ao(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Z0(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,d=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&d!==null&&(a=d,s?(l=Xl(n,i),l!=null&&o.unshift(sc(n,l,a))):s||(l=Xl(n,i),l!=null&&o.push(sc(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var t2=/\r\n?/g,n2=/\u0000|\uFFFD/g;function e_(t){return(typeof t=="string"?t:""+t).replace(t2,`
`).replace(n2,"")}function Ru(t,e,n){if(e=e_(e),e_(t)!==e&&n)throw Error(z(425))}function Ld(){}var Op=null,jp=null;function Lp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Vp=typeof setTimeout=="function"?setTimeout:void 0,r2=typeof clearTimeout=="function"?clearTimeout:void 0,t_=typeof Promise=="function"?Promise:void 0,s2=typeof queueMicrotask=="function"?queueMicrotask:typeof t_<"u"?function(t){return t_.resolve(null).then(t).catch(i2)}:Vp;function i2(t){setTimeout(function(){throw t})}function Tm(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),ec(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ec(e)}function Js(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function n_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ua=Math.random().toString(36).slice(2),vr="__reactFiber$"+Ua,ic="__reactProps$"+Ua,as="__reactContainer$"+Ua,Fp="__reactEvents$"+Ua,o2="__reactListeners$"+Ua,a2="__reactHandles$"+Ua;function Hi(t){var e=t[vr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[as]||n[vr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=n_(t);t!==null;){if(n=t[vr])return n;t=n_(t)}return e}t=n,n=t.parentNode}return null}function Oc(t){return t=t[vr]||t[as],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Go(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function $h(t){return t[ic]||null}var Up=[],Ko=-1;function Ti(t){return{current:t}}function Je(t){0>Ko||(t.current=Up[Ko],Up[Ko]=null,Ko--)}function qe(t,e){Ko++,Up[Ko]=t.current,t.current=e}var di={},qt=Ti(di),fn=Ti(!1),to=di;function ya(t,e){var n=t.type.contextTypes;if(!n)return di;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function mn(t){return t=t.childContextTypes,t!=null}function Vd(){Je(fn),Je(qt)}function r_(t,e,n){if(qt.current!==di)throw Error(z(168));qe(qt,e),qe(fn,n)}function IT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(z(108,HR(t)||"Unknown",s));return rt({},n,r)}function Fd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||di,to=qt.current,qe(qt,t),qe(fn,fn.current),!0}function s_(t,e,n){var r=t.stateNode;if(!r)throw Error(z(169));n?(t=IT(t,e,to),r.__reactInternalMemoizedMergedChildContext=t,Je(fn),Je(qt),qe(qt,t)):Je(fn),qe(fn,n)}var Jr=null,Bh=!1,bm=!1;function NT(t){Jr===null?Jr=[t]:Jr.push(t)}function l2(t){Bh=!0,NT(t)}function bi(){if(!bm&&Jr!==null){bm=!0;var t=0,e=Ue;try{var n=Jr;for(Ue=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Jr=null,Bh=!1}catch(s){throw Jr!==null&&(Jr=Jr.slice(t+1)),ZE(dv,bi),s}finally{Ue=e,bm=!1}}return null}var Qo=[],Yo=0,Ud=null,$d=0,Rn=[],An=0,no=null,Zr=1,es="";function Ui(t,e){Qo[Yo++]=$d,Qo[Yo++]=Ud,Ud=t,$d=e}function kT(t,e,n){Rn[An++]=Zr,Rn[An++]=es,Rn[An++]=no,no=t;var r=Zr;t=es;var s=32-Xn(r)-1;r&=~(1<<s),n+=1;var i=32-Xn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Zr=1<<32-Xn(e)+s|n<<s|r,es=i+t}else Zr=1<<i|n<<s|r,es=t}function _v(t){t.return!==null&&(Ui(t,1),kT(t,1,0))}function xv(t){for(;t===Ud;)Ud=Qo[--Yo],Qo[Yo]=null,$d=Qo[--Yo],Qo[Yo]=null;for(;t===no;)no=Rn[--An],Rn[An]=null,es=Rn[--An],Rn[An]=null,Zr=Rn[--An],Rn[An]=null}var bn=null,En=null,Ze=!1,Qn=null;function PT(t,e){var n=Mn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function i_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,bn=t,En=Js(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,bn=t,En=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=no!==null?{id:Zr,overflow:es}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Mn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,bn=t,En=null,!0):!1;default:return!1}}function $p(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Bp(t){if(Ze){var e=En;if(e){var n=e;if(!i_(t,e)){if($p(t))throw Error(z(418));e=Js(n.nextSibling);var r=bn;e&&i_(t,e)?PT(r,n):(t.flags=t.flags&-4097|2,Ze=!1,bn=t)}}else{if($p(t))throw Error(z(418));t.flags=t.flags&-4097|2,Ze=!1,bn=t}}}function o_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;bn=t}function Au(t){if(t!==bn)return!1;if(!Ze)return o_(t),Ze=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Lp(t.type,t.memoizedProps)),e&&(e=En)){if($p(t))throw RT(),Error(z(418));for(;e;)PT(t,e),e=Js(e.nextSibling)}if(o_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){En=Js(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}En=null}}else En=bn?Js(t.stateNode.nextSibling):null;return!0}function RT(){for(var t=En;t;)t=Js(t.nextSibling)}function wa(){En=bn=null,Ze=!1}function Ev(t){Qn===null?Qn=[t]:Qn.push(t)}var c2=ys.ReactCurrentBatchConfig;function wl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function Du(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function a_(t){var e=t._init;return e(t._payload)}function AT(t){function e(x,_){if(t){var T=x.deletions;T===null?(x.deletions=[_],x.flags|=16):T.push(_)}}function n(x,_){if(!t)return null;for(;_!==null;)e(x,_),_=_.sibling;return null}function r(x,_){for(x=new Map;_!==null;)_.key!==null?x.set(_.key,_):x.set(_.index,_),_=_.sibling;return x}function s(x,_){return x=ni(x,_),x.index=0,x.sibling=null,x}function i(x,_,T){return x.index=T,t?(T=x.alternate,T!==null?(T=T.index,T<_?(x.flags|=2,_):T):(x.flags|=2,_)):(x.flags|=1048576,_)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,_,T,R){return _===null||_.tag!==6?(_=Rm(T,x.mode,R),_.return=x,_):(_=s(_,T),_.return=x,_)}function l(x,_,T,R){var M=T.type;return M===zo?h(x,_,T.props.children,R,T.key):_!==null&&(_.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Ls&&a_(M)===_.type)?(R=s(_,T.props),R.ref=wl(x,_,T),R.return=x,R):(R=dd(T.type,T.key,T.props,null,x.mode,R),R.ref=wl(x,_,T),R.return=x,R)}function d(x,_,T,R){return _===null||_.tag!==4||_.stateNode.containerInfo!==T.containerInfo||_.stateNode.implementation!==T.implementation?(_=Am(T,x.mode,R),_.return=x,_):(_=s(_,T.children||[]),_.return=x,_)}function h(x,_,T,R,M){return _===null||_.tag!==7?(_=Xi(T,x.mode,R,M),_.return=x,_):(_=s(_,T),_.return=x,_)}function f(x,_,T){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Rm(""+_,x.mode,T),_.return=x,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Eu:return T=dd(_.type,_.key,_.props,null,x.mode,T),T.ref=wl(x,null,_),T.return=x,T;case Bo:return _=Am(_,x.mode,T),_.return=x,_;case Ls:var R=_._init;return f(x,R(_._payload),T)}if(Sl(_)||ml(_))return _=Xi(_,x.mode,T,null),_.return=x,_;Du(x,_)}return null}function m(x,_,T,R){var M=_!==null?_.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return M!==null?null:a(x,_,""+T,R);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Eu:return T.key===M?l(x,_,T,R):null;case Bo:return T.key===M?d(x,_,T,R):null;case Ls:return M=T._init,m(x,_,M(T._payload),R)}if(Sl(T)||ml(T))return M!==null?null:h(x,_,T,R,null);Du(x,T)}return null}function p(x,_,T,R,M){if(typeof R=="string"&&R!==""||typeof R=="number")return x=x.get(T)||null,a(_,x,""+R,M);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Eu:return x=x.get(R.key===null?T:R.key)||null,l(_,x,R,M);case Bo:return x=x.get(R.key===null?T:R.key)||null,d(_,x,R,M);case Ls:var O=R._init;return p(x,_,T,O(R._payload),M)}if(Sl(R)||ml(R))return x=x.get(T)||null,h(_,x,R,M,null);Du(_,R)}return null}function S(x,_,T,R){for(var M=null,O=null,b=_,C=_=0,I=null;b!==null&&C<T.length;C++){b.index>C?(I=b,b=null):I=b.sibling;var k=m(x,b,T[C],R);if(k===null){b===null&&(b=I);break}t&&b&&k.alternate===null&&e(x,b),_=i(k,_,C),O===null?M=k:O.sibling=k,O=k,b=I}if(C===T.length)return n(x,b),Ze&&Ui(x,C),M;if(b===null){for(;C<T.length;C++)b=f(x,T[C],R),b!==null&&(_=i(b,_,C),O===null?M=b:O.sibling=b,O=b);return Ze&&Ui(x,C),M}for(b=r(x,b);C<T.length;C++)I=p(b,x,C,T[C],R),I!==null&&(t&&I.alternate!==null&&b.delete(I.key===null?C:I.key),_=i(I,_,C),O===null?M=I:O.sibling=I,O=I);return t&&b.forEach(function(A){return e(x,A)}),Ze&&Ui(x,C),M}function y(x,_,T,R){var M=ml(T);if(typeof M!="function")throw Error(z(150));if(T=M.call(T),T==null)throw Error(z(151));for(var O=M=null,b=_,C=_=0,I=null,k=T.next();b!==null&&!k.done;C++,k=T.next()){b.index>C?(I=b,b=null):I=b.sibling;var A=m(x,b,k.value,R);if(A===null){b===null&&(b=I);break}t&&b&&A.alternate===null&&e(x,b),_=i(A,_,C),O===null?M=A:O.sibling=A,O=A,b=I}if(k.done)return n(x,b),Ze&&Ui(x,C),M;if(b===null){for(;!k.done;C++,k=T.next())k=f(x,k.value,R),k!==null&&(_=i(k,_,C),O===null?M=k:O.sibling=k,O=k);return Ze&&Ui(x,C),M}for(b=r(x,b);!k.done;C++,k=T.next())k=p(b,x,C,k.value,R),k!==null&&(t&&k.alternate!==null&&b.delete(k.key===null?C:k.key),_=i(k,_,C),O===null?M=k:O.sibling=k,O=k);return t&&b.forEach(function(D){return e(x,D)}),Ze&&Ui(x,C),M}function E(x,_,T,R){if(typeof T=="object"&&T!==null&&T.type===zo&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Eu:e:{for(var M=T.key,O=_;O!==null;){if(O.key===M){if(M=T.type,M===zo){if(O.tag===7){n(x,O.sibling),_=s(O,T.props.children),_.return=x,x=_;break e}}else if(O.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Ls&&a_(M)===O.type){n(x,O.sibling),_=s(O,T.props),_.ref=wl(x,O,T),_.return=x,x=_;break e}n(x,O);break}else e(x,O);O=O.sibling}T.type===zo?(_=Xi(T.props.children,x.mode,R,T.key),_.return=x,x=_):(R=dd(T.type,T.key,T.props,null,x.mode,R),R.ref=wl(x,_,T),R.return=x,x=R)}return o(x);case Bo:e:{for(O=T.key;_!==null;){if(_.key===O)if(_.tag===4&&_.stateNode.containerInfo===T.containerInfo&&_.stateNode.implementation===T.implementation){n(x,_.sibling),_=s(_,T.children||[]),_.return=x,x=_;break e}else{n(x,_);break}else e(x,_);_=_.sibling}_=Am(T,x.mode,R),_.return=x,x=_}return o(x);case Ls:return O=T._init,E(x,_,O(T._payload),R)}if(Sl(T))return S(x,_,T,R);if(ml(T))return y(x,_,T,R);Du(x,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,_!==null&&_.tag===6?(n(x,_.sibling),_=s(_,T),_.return=x,x=_):(n(x,_),_=Rm(T,x.mode,R),_.return=x,x=_),o(x)):n(x,_)}return E}var _a=AT(!0),DT=AT(!1),Bd=Ti(null),zd=null,Xo=null,Tv=null;function bv(){Tv=Xo=zd=null}function Sv(t){var e=Bd.current;Je(Bd),t._currentValue=e}function zp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ia(t,e){zd=t,Tv=Xo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(dn=!0),t.firstContext=null)}function Vn(t){var e=t._currentValue;if(Tv!==t)if(t={context:t,memoizedValue:e,next:null},Xo===null){if(zd===null)throw Error(z(308));Xo=t,zd.dependencies={lanes:0,firstContext:t}}else Xo=Xo.next=t;return e}var qi=null;function Cv(t){qi===null?qi=[t]:qi.push(t)}function MT(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Cv(e)):(n.next=s.next,s.next=n),e.interleaved=n,ls(t,r)}function ls(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Vs=!1;function Iv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function OT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ss(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Zs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ae&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,ls(t,n)}return s=r.interleaved,s===null?(e.next=e,Cv(r)):(e.next=s.next,s.next=e),r.interleaved=e,ls(t,n)}function id(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,hv(t,n)}}function l_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Wd(t,e,n,r){var s=t.updateQueue;Vs=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,d=l.next;l.next=null,o===null?i=d:o.next=d,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=d:a.next=d,h.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,h=d=l=null,a=i;do{var m=a.lane,p=a.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var S=t,y=a;switch(m=e,p=n,y.tag){case 1:if(S=y.payload,typeof S=="function"){f=S.call(p,f,m);break e}f=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=y.payload,m=typeof S=="function"?S.call(p,f,m):S,m==null)break e;f=rt({},f,m);break e;case 2:Vs=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[a]:m.push(a))}else p={eventTime:p,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(d=h=p,l=f):h=h.next=p,o|=m;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(h===null&&(l=f),s.baseState=l,s.firstBaseUpdate=d,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);so|=o,t.lanes=o,t.memoizedState=f}}function c_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(z(191,s));s.call(r)}}}var jc={},Sr=Ti(jc),oc=Ti(jc),ac=Ti(jc);function Gi(t){if(t===jc)throw Error(z(174));return t}function Nv(t,e){switch(qe(ac,e),qe(oc,t),qe(Sr,jc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Tp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Tp(e,t)}Je(Sr),qe(Sr,e)}function xa(){Je(Sr),Je(oc),Je(ac)}function jT(t){Gi(ac.current);var e=Gi(Sr.current),n=Tp(e,t.type);e!==n&&(qe(oc,t),qe(Sr,n))}function kv(t){oc.current===t&&(Je(Sr),Je(oc))}var tt=Ti(0);function Hd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Sm=[];function Pv(){for(var t=0;t<Sm.length;t++)Sm[t]._workInProgressVersionPrimary=null;Sm.length=0}var od=ys.ReactCurrentDispatcher,Cm=ys.ReactCurrentBatchConfig,ro=0,nt=null,xt=null,Nt=null,qd=!1,Fl=!1,lc=0,u2=0;function Ft(){throw Error(z(321))}function Rv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!er(t[n],e[n]))return!1;return!0}function Av(t,e,n,r,s,i){if(ro=i,nt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,od.current=t===null||t.memoizedState===null?m2:p2,t=n(r,s),Fl){i=0;do{if(Fl=!1,lc=0,25<=i)throw Error(z(301));i+=1,Nt=xt=null,e.updateQueue=null,od.current=g2,t=n(r,s)}while(Fl)}if(od.current=Gd,e=xt!==null&&xt.next!==null,ro=0,Nt=xt=nt=null,qd=!1,e)throw Error(z(300));return t}function Dv(){var t=lc!==0;return lc=0,t}function pr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nt===null?nt.memoizedState=Nt=t:Nt=Nt.next=t,Nt}function Fn(){if(xt===null){var t=nt.alternate;t=t!==null?t.memoizedState:null}else t=xt.next;var e=Nt===null?nt.memoizedState:Nt.next;if(e!==null)Nt=e,xt=t;else{if(t===null)throw Error(z(310));xt=t,t={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},Nt===null?nt.memoizedState=Nt=t:Nt=Nt.next=t}return Nt}function cc(t,e){return typeof e=="function"?e(t):e}function Im(t){var e=Fn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=xt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,d=i;do{var h=d.lane;if((ro&h)===h)l!==null&&(l=l.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var f={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,nt.lanes|=h,so|=h}d=d.next}while(d!==null&&d!==i);l===null?o=r:l.next=a,er(r,e.memoizedState)||(dn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,nt.lanes|=i,so|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Nm(t){var e=Fn(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);er(i,e.memoizedState)||(dn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function LT(){}function VT(t,e){var n=nt,r=Fn(),s=e(),i=!er(r.memoizedState,s);if(i&&(r.memoizedState=s,dn=!0),r=r.queue,Mv($T.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Nt!==null&&Nt.memoizedState.tag&1){if(n.flags|=2048,uc(9,UT.bind(null,n,r,s,e),void 0,null),Rt===null)throw Error(z(349));ro&30||FT(n,e,s)}return s}function FT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=nt.updateQueue,e===null?(e={lastEffect:null,stores:null},nt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function UT(t,e,n,r){e.value=n,e.getSnapshot=r,BT(e)&&zT(t)}function $T(t,e,n){return n(function(){BT(e)&&zT(t)})}function BT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!er(t,n)}catch{return!0}}function zT(t){var e=ls(t,1);e!==null&&Jn(e,t,1,-1)}function u_(t){var e=pr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cc,lastRenderedState:t},e.queue=t,t=t.dispatch=f2.bind(null,nt,t),[e.memoizedState,t]}function uc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=nt.updateQueue,e===null?(e={lastEffect:null,stores:null},nt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function WT(){return Fn().memoizedState}function ad(t,e,n,r){var s=pr();nt.flags|=t,s.memoizedState=uc(1|e,n,void 0,r===void 0?null:r)}function zh(t,e,n,r){var s=Fn();r=r===void 0?null:r;var i=void 0;if(xt!==null){var o=xt.memoizedState;if(i=o.destroy,r!==null&&Rv(r,o.deps)){s.memoizedState=uc(e,n,i,r);return}}nt.flags|=t,s.memoizedState=uc(1|e,n,i,r)}function d_(t,e){return ad(8390656,8,t,e)}function Mv(t,e){return zh(2048,8,t,e)}function HT(t,e){return zh(4,2,t,e)}function qT(t,e){return zh(4,4,t,e)}function GT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function KT(t,e,n){return n=n!=null?n.concat([t]):null,zh(4,4,GT.bind(null,e,t),n)}function Ov(){}function QT(t,e){var n=Fn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Rv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function YT(t,e){var n=Fn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Rv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function XT(t,e,n){return ro&21?(er(n,e)||(n=nT(),nt.lanes|=n,so|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,dn=!0),t.memoizedState=n)}function d2(t,e){var n=Ue;Ue=n!==0&&4>n?n:4,t(!0);var r=Cm.transition;Cm.transition={};try{t(!1),e()}finally{Ue=n,Cm.transition=r}}function JT(){return Fn().memoizedState}function h2(t,e,n){var r=ti(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ZT(t))eb(e,n);else if(n=MT(t,e,n,r),n!==null){var s=en();Jn(n,t,r,s),tb(n,e,r)}}function f2(t,e,n){var r=ti(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ZT(t))eb(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,er(a,o)){var l=e.interleaved;l===null?(s.next=s,Cv(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=MT(t,e,s,r),n!==null&&(s=en(),Jn(n,t,r,s),tb(n,e,r))}}function ZT(t){var e=t.alternate;return t===nt||e!==null&&e===nt}function eb(t,e){Fl=qd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function tb(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,hv(t,n)}}var Gd={readContext:Vn,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useInsertionEffect:Ft,useLayoutEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useMutableSource:Ft,useSyncExternalStore:Ft,useId:Ft,unstable_isNewReconciler:!1},m2={readContext:Vn,useCallback:function(t,e){return pr().memoizedState=[t,e===void 0?null:e],t},useContext:Vn,useEffect:d_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ad(4194308,4,GT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ad(4194308,4,t,e)},useInsertionEffect:function(t,e){return ad(4,2,t,e)},useMemo:function(t,e){var n=pr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=pr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=h2.bind(null,nt,t),[r.memoizedState,t]},useRef:function(t){var e=pr();return t={current:t},e.memoizedState=t},useState:u_,useDebugValue:Ov,useDeferredValue:function(t){return pr().memoizedState=t},useTransition:function(){var t=u_(!1),e=t[0];return t=d2.bind(null,t[1]),pr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=nt,s=pr();if(Ze){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),Rt===null)throw Error(z(349));ro&30||FT(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,d_($T.bind(null,r,i,t),[t]),r.flags|=2048,uc(9,UT.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=pr(),e=Rt.identifierPrefix;if(Ze){var n=es,r=Zr;n=(r&~(1<<32-Xn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=lc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=u2++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},p2={readContext:Vn,useCallback:QT,useContext:Vn,useEffect:Mv,useImperativeHandle:KT,useInsertionEffect:HT,useLayoutEffect:qT,useMemo:YT,useReducer:Im,useRef:WT,useState:function(){return Im(cc)},useDebugValue:Ov,useDeferredValue:function(t){var e=Fn();return XT(e,xt.memoizedState,t)},useTransition:function(){var t=Im(cc)[0],e=Fn().memoizedState;return[t,e]},useMutableSource:LT,useSyncExternalStore:VT,useId:JT,unstable_isNewReconciler:!1},g2={readContext:Vn,useCallback:QT,useContext:Vn,useEffect:Mv,useImperativeHandle:KT,useInsertionEffect:HT,useLayoutEffect:qT,useMemo:YT,useReducer:Nm,useRef:WT,useState:function(){return Nm(cc)},useDebugValue:Ov,useDeferredValue:function(t){var e=Fn();return xt===null?e.memoizedState=t:XT(e,xt.memoizedState,t)},useTransition:function(){var t=Nm(cc)[0],e=Fn().memoizedState;return[t,e]},useMutableSource:LT,useSyncExternalStore:VT,useId:JT,unstable_isNewReconciler:!1};function qn(t,e){if(t&&t.defaultProps){e=rt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Wp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:rt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Wh={isMounted:function(t){return(t=t._reactInternals)?xo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=en(),s=ti(t),i=ss(r,s);i.payload=e,n!=null&&(i.callback=n),e=Zs(t,i,s),e!==null&&(Jn(e,t,s,r),id(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=en(),s=ti(t),i=ss(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Zs(t,i,s),e!==null&&(Jn(e,t,s,r),id(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=en(),r=ti(t),s=ss(n,r);s.tag=2,e!=null&&(s.callback=e),e=Zs(t,s,r),e!==null&&(Jn(e,t,r,n),id(e,t,r))}};function h_(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!nc(n,r)||!nc(s,i):!0}function nb(t,e,n){var r=!1,s=di,i=e.contextType;return typeof i=="object"&&i!==null?i=Vn(i):(s=mn(e)?to:qt.current,r=e.contextTypes,i=(r=r!=null)?ya(t,s):di),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Wh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function f_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Wh.enqueueReplaceState(e,e.state,null)}function Hp(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Iv(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Vn(i):(i=mn(e)?to:qt.current,s.context=ya(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Wp(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Wh.enqueueReplaceState(s,s.state,null),Wd(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Ea(t,e){try{var n="",r=e;do n+=WR(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function km(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function qp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var v2=typeof WeakMap=="function"?WeakMap:Map;function rb(t,e,n){n=ss(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Qd||(Qd=!0,ng=r),qp(t,e)},n}function sb(t,e,n){n=ss(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){qp(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){qp(t,e),typeof r!="function"&&(ei===null?ei=new Set([this]):ei.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function m_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new v2;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=R2.bind(null,t,e,n),e.then(t,t))}function p_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function g_(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ss(-1,1),e.tag=2,Zs(n,e,1))),n.lanes|=1),t)}var y2=ys.ReactCurrentOwner,dn=!1;function Jt(t,e,n,r){e.child=t===null?DT(e,null,n,r):_a(e,t.child,n,r)}function v_(t,e,n,r,s){n=n.render;var i=e.ref;return ia(e,s),r=Av(t,e,n,r,i,s),n=Dv(),t!==null&&!dn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,cs(t,e,s)):(Ze&&n&&_v(e),e.flags|=1,Jt(t,e,r,s),e.child)}function y_(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!zv(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,ib(t,e,i,r,s)):(t=dd(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:nc,n(o,r)&&t.ref===e.ref)return cs(t,e,s)}return e.flags|=1,t=ni(i,r),t.ref=e.ref,t.return=e,e.child=t}function ib(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(nc(i,r)&&t.ref===e.ref)if(dn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(dn=!0);else return e.lanes=t.lanes,cs(t,e,s)}return Gp(t,e,n,r,s)}function ob(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(Zo,wn),wn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,qe(Zo,wn),wn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,qe(Zo,wn),wn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,qe(Zo,wn),wn|=r;return Jt(t,e,s,n),e.child}function ab(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Gp(t,e,n,r,s){var i=mn(n)?to:qt.current;return i=ya(e,i),ia(e,s),n=Av(t,e,n,r,i,s),r=Dv(),t!==null&&!dn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,cs(t,e,s)):(Ze&&r&&_v(e),e.flags|=1,Jt(t,e,n,s),e.child)}function w_(t,e,n,r,s){if(mn(n)){var i=!0;Fd(e)}else i=!1;if(ia(e,s),e.stateNode===null)ld(t,e),nb(e,n,r),Hp(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=Vn(d):(d=mn(n)?to:qt.current,d=ya(e,d));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==d)&&f_(e,o,r,d),Vs=!1;var m=e.memoizedState;o.state=m,Wd(e,r,o,s),l=e.memoizedState,a!==r||m!==l||fn.current||Vs?(typeof h=="function"&&(Wp(e,n,h,r),l=e.memoizedState),(a=Vs||h_(e,n,a,r,m,l,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=d,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,OT(t,e),a=e.memoizedProps,d=e.type===e.elementType?a:qn(e.type,a),o.props=d,f=e.pendingProps,m=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Vn(l):(l=mn(n)?to:qt.current,l=ya(e,l));var p=n.getDerivedStateFromProps;(h=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||m!==l)&&f_(e,o,r,l),Vs=!1,m=e.memoizedState,o.state=m,Wd(e,r,o,s);var S=e.memoizedState;a!==f||m!==S||fn.current||Vs?(typeof p=="function"&&(Wp(e,n,p,r),S=e.memoizedState),(d=Vs||h_(e,n,d,r,m,S,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,S,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,S,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=S),o.props=r,o.state=S,o.context=l,r=d):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Kp(t,e,n,r,i,s)}function Kp(t,e,n,r,s,i){ab(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&s_(e,n,!1),cs(t,e,i);r=e.stateNode,y2.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=_a(e,t.child,null,i),e.child=_a(e,null,a,i)):Jt(t,e,a,i),e.memoizedState=r.state,s&&s_(e,n,!0),e.child}function lb(t){var e=t.stateNode;e.pendingContext?r_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&r_(t,e.context,!1),Nv(t,e.containerInfo)}function __(t,e,n,r,s){return wa(),Ev(s),e.flags|=256,Jt(t,e,n,r),e.child}var Qp={dehydrated:null,treeContext:null,retryLane:0};function Yp(t){return{baseLanes:t,cachePool:null,transitions:null}}function cb(t,e,n){var r=e.pendingProps,s=tt.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),qe(tt,s&1),t===null)return Bp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Gh(o,r,0,null),t=Xi(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Yp(n),e.memoizedState=Qp,t):jv(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return w2(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ni(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=ni(a,i):(i=Xi(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Yp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Qp,r}return i=t.child,t=i.sibling,r=ni(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function jv(t,e){return e=Gh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Mu(t,e,n,r){return r!==null&&Ev(r),_a(e,t.child,null,n),t=jv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function w2(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=km(Error(z(422))),Mu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Gh({mode:"visible",children:r.children},s,0,null),i=Xi(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&_a(e,t.child,null,o),e.child.memoizedState=Yp(o),e.memoizedState=Qp,i);if(!(e.mode&1))return Mu(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(z(419)),r=km(i,r,void 0),Mu(t,e,o,r)}if(a=(o&t.childLanes)!==0,dn||a){if(r=Rt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ls(t,s),Jn(r,t,s,-1))}return Bv(),r=km(Error(z(421))),Mu(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=A2.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,En=Js(s.nextSibling),bn=e,Ze=!0,Qn=null,t!==null&&(Rn[An++]=Zr,Rn[An++]=es,Rn[An++]=no,Zr=t.id,es=t.overflow,no=e),e=jv(e,r.children),e.flags|=4096,e)}function x_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),zp(t.return,e,n)}function Pm(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function ub(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Jt(t,e,r.children,n),r=tt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&x_(t,n,e);else if(t.tag===19)x_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(qe(tt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Hd(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Pm(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Hd(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Pm(e,!0,n,null,i);break;case"together":Pm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ld(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function cs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),so|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=ni(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ni(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function _2(t,e,n){switch(e.tag){case 3:lb(e),wa();break;case 5:jT(e);break;case 1:mn(e.type)&&Fd(e);break;case 4:Nv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;qe(Bd,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(qe(tt,tt.current&1),e.flags|=128,null):n&e.child.childLanes?cb(t,e,n):(qe(tt,tt.current&1),t=cs(t,e,n),t!==null?t.sibling:null);qe(tt,tt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return ub(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),qe(tt,tt.current),r)break;return null;case 22:case 23:return e.lanes=0,ob(t,e,n)}return cs(t,e,n)}var db,Xp,hb,fb;db=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Xp=function(){};hb=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Gi(Sr.current);var i=null;switch(n){case"input":s=wp(t,s),r=wp(t,r),i=[];break;case"select":s=rt({},s,{value:void 0}),r=rt({},r,{value:void 0}),i=[];break;case"textarea":s=Ep(t,s),r=Ep(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ld)}bp(n,r);var o;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var a=s[d];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Ql.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var l=r[d];if(a=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&l!==a&&(l!=null||a!=null))if(d==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(d,n)),n=l;else d==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(d,l)):d==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(d,""+l):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Ql.hasOwnProperty(d)?(l!=null&&d==="onScroll"&&Ye("scroll",t),i||a===l||(i=[])):(i=i||[]).push(d,l))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};fb=function(t,e,n,r){n!==r&&(e.flags|=4)};function _l(t,e){if(!Ze)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ut(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function x2(t,e,n){var r=e.pendingProps;switch(xv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(e),null;case 1:return mn(e.type)&&Vd(),Ut(e),null;case 3:return r=e.stateNode,xa(),Je(fn),Je(qt),Pv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Au(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Qn!==null&&(ig(Qn),Qn=null))),Xp(t,e),Ut(e),null;case 5:kv(e);var s=Gi(ac.current);if(n=e.type,t!==null&&e.stateNode!=null)hb(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(z(166));return Ut(e),null}if(t=Gi(Sr.current),Au(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[vr]=e,r[ic]=i,t=(e.mode&1)!==0,n){case"dialog":Ye("cancel",r),Ye("close",r);break;case"iframe":case"object":case"embed":Ye("load",r);break;case"video":case"audio":for(s=0;s<Il.length;s++)Ye(Il[s],r);break;case"source":Ye("error",r);break;case"img":case"image":case"link":Ye("error",r),Ye("load",r);break;case"details":Ye("toggle",r);break;case"input":P0(r,i),Ye("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ye("invalid",r);break;case"textarea":A0(r,i),Ye("invalid",r)}bp(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Ru(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Ru(r.textContent,a,t),s=["children",""+a]):Ql.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ye("scroll",r)}switch(n){case"input":Tu(r),R0(r,i,!0);break;case"textarea":Tu(r),D0(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ld)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=$E(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[vr]=e,t[ic]=r,db(t,e,!1,!1),e.stateNode=t;e:{switch(o=Sp(n,r),n){case"dialog":Ye("cancel",t),Ye("close",t),s=r;break;case"iframe":case"object":case"embed":Ye("load",t),s=r;break;case"video":case"audio":for(s=0;s<Il.length;s++)Ye(Il[s],t);s=r;break;case"source":Ye("error",t),s=r;break;case"img":case"image":case"link":Ye("error",t),Ye("load",t),s=r;break;case"details":Ye("toggle",t),s=r;break;case"input":P0(t,r),s=wp(t,r),Ye("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=rt({},r,{value:void 0}),Ye("invalid",t);break;case"textarea":A0(t,r),s=Ep(t,r),Ye("invalid",t);break;default:s=r}bp(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?WE(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&BE(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Yl(t,l):typeof l=="number"&&Yl(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ql.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Ye("scroll",t):l!=null&&ov(t,i,l,o))}switch(n){case"input":Tu(t),R0(t,r,!1);break;case"textarea":Tu(t),D0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ui(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?ta(t,!!r.multiple,i,!1):r.defaultValue!=null&&ta(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Ld)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ut(e),null;case 6:if(t&&e.stateNode!=null)fb(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(n=Gi(ac.current),Gi(Sr.current),Au(e)){if(r=e.stateNode,n=e.memoizedProps,r[vr]=e,(i=r.nodeValue!==n)&&(t=bn,t!==null))switch(t.tag){case 3:Ru(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ru(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[vr]=e,e.stateNode=r}return Ut(e),null;case 13:if(Je(tt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ze&&En!==null&&e.mode&1&&!(e.flags&128))RT(),wa(),e.flags|=98560,i=!1;else if(i=Au(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(z(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(z(317));i[vr]=e}else wa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ut(e),i=!1}else Qn!==null&&(ig(Qn),Qn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||tt.current&1?Et===0&&(Et=3):Bv())),e.updateQueue!==null&&(e.flags|=4),Ut(e),null);case 4:return xa(),Xp(t,e),t===null&&rc(e.stateNode.containerInfo),Ut(e),null;case 10:return Sv(e.type._context),Ut(e),null;case 17:return mn(e.type)&&Vd(),Ut(e),null;case 19:if(Je(tt),i=e.memoizedState,i===null)return Ut(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)_l(i,!1);else{if(Et!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Hd(t),o!==null){for(e.flags|=128,_l(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return qe(tt,tt.current&1|2),e.child}t=t.sibling}i.tail!==null&&lt()>Ta&&(e.flags|=128,r=!0,_l(i,!1),e.lanes=4194304)}else{if(!r)if(t=Hd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),_l(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ze)return Ut(e),null}else 2*lt()-i.renderingStartTime>Ta&&n!==1073741824&&(e.flags|=128,r=!0,_l(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=lt(),e.sibling=null,n=tt.current,qe(tt,r?n&1|2:n&1),e):(Ut(e),null);case 22:case 23:return $v(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?wn&1073741824&&(Ut(e),e.subtreeFlags&6&&(e.flags|=8192)):Ut(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function E2(t,e){switch(xv(e),e.tag){case 1:return mn(e.type)&&Vd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return xa(),Je(fn),Je(qt),Pv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return kv(e),null;case 13:if(Je(tt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));wa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Je(tt),null;case 4:return xa(),null;case 10:return Sv(e.type._context),null;case 22:case 23:return $v(),null;case 24:return null;default:return null}}var Ou=!1,Wt=!1,T2=typeof WeakSet=="function"?WeakSet:Set,Z=null;function Jo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ot(t,e,r)}else n.current=null}function Jp(t,e,n){try{n()}catch(r){ot(t,e,r)}}var E_=!1;function b2(t,e){if(Op=Md,t=yT(),wv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,d=0,h=0,f=t,m=null;t:for(;;){for(var p;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)m=f,f=p;for(;;){if(f===t)break t;if(m===n&&++d===s&&(a=o),m===i&&++h===r&&(l=o),(p=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(jp={focusedElem:t,selectionRange:n},Md=!1,Z=e;Z!==null;)if(e=Z,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Z=t;else for(;Z!==null;){e=Z;try{var S=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var y=S.memoizedProps,E=S.memoizedState,x=e.stateNode,_=x.getSnapshotBeforeUpdate(e.elementType===e.type?y:qn(e.type,y),E);x.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(R){ot(e,e.return,R)}if(t=e.sibling,t!==null){t.return=e.return,Z=t;break}Z=e.return}return S=E_,E_=!1,S}function Ul(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Jp(e,n,i)}s=s.next}while(s!==r)}}function Hh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Zp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function mb(t){var e=t.alternate;e!==null&&(t.alternate=null,mb(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[vr],delete e[ic],delete e[Fp],delete e[o2],delete e[a2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function pb(t){return t.tag===5||t.tag===3||t.tag===4}function T_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||pb(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function eg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ld));else if(r!==4&&(t=t.child,t!==null))for(eg(t,e,n),t=t.sibling;t!==null;)eg(t,e,n),t=t.sibling}function tg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(tg(t,e,n),t=t.sibling;t!==null;)tg(t,e,n),t=t.sibling}var Dt=null,Kn=!1;function Ns(t,e,n){for(n=n.child;n!==null;)gb(t,e,n),n=n.sibling}function gb(t,e,n){if(br&&typeof br.onCommitFiberUnmount=="function")try{br.onCommitFiberUnmount(Lh,n)}catch{}switch(n.tag){case 5:Wt||Jo(n,e);case 6:var r=Dt,s=Kn;Dt=null,Ns(t,e,n),Dt=r,Kn=s,Dt!==null&&(Kn?(t=Dt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Dt.removeChild(n.stateNode));break;case 18:Dt!==null&&(Kn?(t=Dt,n=n.stateNode,t.nodeType===8?Tm(t.parentNode,n):t.nodeType===1&&Tm(t,n),ec(t)):Tm(Dt,n.stateNode));break;case 4:r=Dt,s=Kn,Dt=n.stateNode.containerInfo,Kn=!0,Ns(t,e,n),Dt=r,Kn=s;break;case 0:case 11:case 14:case 15:if(!Wt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Jp(n,e,o),s=s.next}while(s!==r)}Ns(t,e,n);break;case 1:if(!Wt&&(Jo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ot(n,e,a)}Ns(t,e,n);break;case 21:Ns(t,e,n);break;case 22:n.mode&1?(Wt=(r=Wt)||n.memoizedState!==null,Ns(t,e,n),Wt=r):Ns(t,e,n);break;default:Ns(t,e,n)}}function b_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new T2),e.forEach(function(r){var s=D2.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function zn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Dt=a.stateNode,Kn=!1;break e;case 3:Dt=a.stateNode.containerInfo,Kn=!0;break e;case 4:Dt=a.stateNode.containerInfo,Kn=!0;break e}a=a.return}if(Dt===null)throw Error(z(160));gb(i,o,s),Dt=null,Kn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(d){ot(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)vb(e,t),e=e.sibling}function vb(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(zn(e,t),mr(t),r&4){try{Ul(3,t,t.return),Hh(3,t)}catch(y){ot(t,t.return,y)}try{Ul(5,t,t.return)}catch(y){ot(t,t.return,y)}}break;case 1:zn(e,t),mr(t),r&512&&n!==null&&Jo(n,n.return);break;case 5:if(zn(e,t),mr(t),r&512&&n!==null&&Jo(n,n.return),t.flags&32){var s=t.stateNode;try{Yl(s,"")}catch(y){ot(t,t.return,y)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&FE(s,i),Sp(a,o);var d=Sp(a,i);for(o=0;o<l.length;o+=2){var h=l[o],f=l[o+1];h==="style"?WE(s,f):h==="dangerouslySetInnerHTML"?BE(s,f):h==="children"?Yl(s,f):ov(s,h,f,d)}switch(a){case"input":_p(s,i);break;case"textarea":UE(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?ta(s,!!i.multiple,p,!1):m!==!!i.multiple&&(i.defaultValue!=null?ta(s,!!i.multiple,i.defaultValue,!0):ta(s,!!i.multiple,i.multiple?[]:"",!1))}s[ic]=i}catch(y){ot(t,t.return,y)}}break;case 6:if(zn(e,t),mr(t),r&4){if(t.stateNode===null)throw Error(z(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(y){ot(t,t.return,y)}}break;case 3:if(zn(e,t),mr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ec(e.containerInfo)}catch(y){ot(t,t.return,y)}break;case 4:zn(e,t),mr(t);break;case 13:zn(e,t),mr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Fv=lt())),r&4&&b_(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Wt=(d=Wt)||h,zn(e,t),Wt=d):zn(e,t),mr(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!h&&t.mode&1)for(Z=t,h=t.child;h!==null;){for(f=Z=h;Z!==null;){switch(m=Z,p=m.child,m.tag){case 0:case 11:case 14:case 15:Ul(4,m,m.return);break;case 1:Jo(m,m.return);var S=m.stateNode;if(typeof S.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,S.props=e.memoizedProps,S.state=e.memoizedState,S.componentWillUnmount()}catch(y){ot(r,n,y)}}break;case 5:Jo(m,m.return);break;case 22:if(m.memoizedState!==null){C_(f);continue}}p!==null?(p.return=m,Z=p):C_(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=zE("display",o))}catch(y){ot(t,t.return,y)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(y){ot(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:zn(e,t),mr(t),r&4&&b_(t);break;case 21:break;default:zn(e,t),mr(t)}}function mr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(pb(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Yl(s,""),r.flags&=-33);var i=T_(t);tg(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=T_(t);eg(t,a,o);break;default:throw Error(z(161))}}catch(l){ot(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function S2(t,e,n){Z=t,yb(t)}function yb(t,e,n){for(var r=(t.mode&1)!==0;Z!==null;){var s=Z,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Ou;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Wt;a=Ou;var d=Wt;if(Ou=o,(Wt=l)&&!d)for(Z=s;Z!==null;)o=Z,l=o.child,o.tag===22&&o.memoizedState!==null?I_(s):l!==null?(l.return=o,Z=l):I_(s);for(;i!==null;)Z=i,yb(i),i=i.sibling;Z=s,Ou=a,Wt=d}S_(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Z=i):S_(t)}}function S_(t){for(;Z!==null;){var e=Z;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Wt||Hh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Wt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:qn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&c_(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}c_(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&ec(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}Wt||e.flags&512&&Zp(e)}catch(m){ot(e,e.return,m)}}if(e===t){Z=null;break}if(n=e.sibling,n!==null){n.return=e.return,Z=n;break}Z=e.return}}function C_(t){for(;Z!==null;){var e=Z;if(e===t){Z=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Z=n;break}Z=e.return}}function I_(t){for(;Z!==null;){var e=Z;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Hh(4,e)}catch(l){ot(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){ot(e,s,l)}}var i=e.return;try{Zp(e)}catch(l){ot(e,i,l)}break;case 5:var o=e.return;try{Zp(e)}catch(l){ot(e,o,l)}}}catch(l){ot(e,e.return,l)}if(e===t){Z=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Z=a;break}Z=e.return}}var C2=Math.ceil,Kd=ys.ReactCurrentDispatcher,Lv=ys.ReactCurrentOwner,On=ys.ReactCurrentBatchConfig,Ae=0,Rt=null,mt=null,jt=0,wn=0,Zo=Ti(0),Et=0,dc=null,so=0,qh=0,Vv=0,$l=null,cn=null,Fv=0,Ta=1/0,Xr=null,Qd=!1,ng=null,ei=null,ju=!1,Gs=null,Yd=0,Bl=0,rg=null,cd=-1,ud=0;function en(){return Ae&6?lt():cd!==-1?cd:cd=lt()}function ti(t){return t.mode&1?Ae&2&&jt!==0?jt&-jt:c2.transition!==null?(ud===0&&(ud=nT()),ud):(t=Ue,t!==0||(t=window.event,t=t===void 0?16:cT(t.type)),t):1}function Jn(t,e,n,r){if(50<Bl)throw Bl=0,rg=null,Error(z(185));Dc(t,n,r),(!(Ae&2)||t!==Rt)&&(t===Rt&&(!(Ae&2)&&(qh|=n),Et===4&&$s(t,jt)),pn(t,r),n===1&&Ae===0&&!(e.mode&1)&&(Ta=lt()+500,Bh&&bi()))}function pn(t,e){var n=t.callbackNode;cA(t,e);var r=Dd(t,t===Rt?jt:0);if(r===0)n!==null&&j0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&j0(n),e===1)t.tag===0?l2(N_.bind(null,t)):NT(N_.bind(null,t)),s2(function(){!(Ae&6)&&bi()}),n=null;else{switch(rT(r)){case 1:n=dv;break;case 4:n=eT;break;case 16:n=Ad;break;case 536870912:n=tT;break;default:n=Ad}n=Cb(n,wb.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function wb(t,e){if(cd=-1,ud=0,Ae&6)throw Error(z(327));var n=t.callbackNode;if(oa()&&t.callbackNode!==n)return null;var r=Dd(t,t===Rt?jt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Xd(t,r);else{e=r;var s=Ae;Ae|=2;var i=xb();(Rt!==t||jt!==e)&&(Xr=null,Ta=lt()+500,Yi(t,e));do try{k2();break}catch(a){_b(t,a)}while(!0);bv(),Kd.current=i,Ae=s,mt!==null?e=0:(Rt=null,jt=0,e=Et)}if(e!==0){if(e===2&&(s=Pp(t),s!==0&&(r=s,e=sg(t,s))),e===1)throw n=dc,Yi(t,0),$s(t,r),pn(t,lt()),n;if(e===6)$s(t,r);else{if(s=t.current.alternate,!(r&30)&&!I2(s)&&(e=Xd(t,r),e===2&&(i=Pp(t),i!==0&&(r=i,e=sg(t,i))),e===1))throw n=dc,Yi(t,0),$s(t,r),pn(t,lt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(z(345));case 2:$i(t,cn,Xr);break;case 3:if($s(t,r),(r&130023424)===r&&(e=Fv+500-lt(),10<e)){if(Dd(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){en(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Vp($i.bind(null,t,cn,Xr),e);break}$i(t,cn,Xr);break;case 4:if($s(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Xn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=lt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*C2(r/1960))-r,10<r){t.timeoutHandle=Vp($i.bind(null,t,cn,Xr),r);break}$i(t,cn,Xr);break;case 5:$i(t,cn,Xr);break;default:throw Error(z(329))}}}return pn(t,lt()),t.callbackNode===n?wb.bind(null,t):null}function sg(t,e){var n=$l;return t.current.memoizedState.isDehydrated&&(Yi(t,e).flags|=256),t=Xd(t,e),t!==2&&(e=cn,cn=n,e!==null&&ig(e)),t}function ig(t){cn===null?cn=t:cn.push.apply(cn,t)}function I2(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!er(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function $s(t,e){for(e&=~Vv,e&=~qh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Xn(e),r=1<<n;t[n]=-1,e&=~r}}function N_(t){if(Ae&6)throw Error(z(327));oa();var e=Dd(t,0);if(!(e&1))return pn(t,lt()),null;var n=Xd(t,e);if(t.tag!==0&&n===2){var r=Pp(t);r!==0&&(e=r,n=sg(t,r))}if(n===1)throw n=dc,Yi(t,0),$s(t,e),pn(t,lt()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,$i(t,cn,Xr),pn(t,lt()),null}function Uv(t,e){var n=Ae;Ae|=1;try{return t(e)}finally{Ae=n,Ae===0&&(Ta=lt()+500,Bh&&bi())}}function io(t){Gs!==null&&Gs.tag===0&&!(Ae&6)&&oa();var e=Ae;Ae|=1;var n=On.transition,r=Ue;try{if(On.transition=null,Ue=1,t)return t()}finally{Ue=r,On.transition=n,Ae=e,!(Ae&6)&&bi()}}function $v(){wn=Zo.current,Je(Zo)}function Yi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,r2(n)),mt!==null)for(n=mt.return;n!==null;){var r=n;switch(xv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Vd();break;case 3:xa(),Je(fn),Je(qt),Pv();break;case 5:kv(r);break;case 4:xa();break;case 13:Je(tt);break;case 19:Je(tt);break;case 10:Sv(r.type._context);break;case 22:case 23:$v()}n=n.return}if(Rt=t,mt=t=ni(t.current,null),jt=wn=e,Et=0,dc=null,Vv=qh=so=0,cn=$l=null,qi!==null){for(e=0;e<qi.length;e++)if(n=qi[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}qi=null}return t}function _b(t,e){do{var n=mt;try{if(bv(),od.current=Gd,qd){for(var r=nt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}qd=!1}if(ro=0,Nt=xt=nt=null,Fl=!1,lc=0,Lv.current=null,n===null||n.return===null){Et=1,dc=e,mt=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=jt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var d=l,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=p_(o);if(p!==null){p.flags&=-257,g_(p,o,a,i,e),p.mode&1&&m_(i,d,e),e=p,l=d;var S=e.updateQueue;if(S===null){var y=new Set;y.add(l),e.updateQueue=y}else S.add(l);break e}else{if(!(e&1)){m_(i,d,e),Bv();break e}l=Error(z(426))}}else if(Ze&&a.mode&1){var E=p_(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),g_(E,o,a,i,e),Ev(Ea(l,a));break e}}i=l=Ea(l,a),Et!==4&&(Et=2),$l===null?$l=[i]:$l.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var x=rb(i,l,e);l_(i,x);break e;case 1:a=l;var _=i.type,T=i.stateNode;if(!(i.flags&128)&&(typeof _.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(ei===null||!ei.has(T)))){i.flags|=65536,e&=-e,i.lanes|=e;var R=sb(i,a,e);l_(i,R);break e}}i=i.return}while(i!==null)}Tb(n)}catch(M){e=M,mt===n&&n!==null&&(mt=n=n.return);continue}break}while(!0)}function xb(){var t=Kd.current;return Kd.current=Gd,t===null?Gd:t}function Bv(){(Et===0||Et===3||Et===2)&&(Et=4),Rt===null||!(so&268435455)&&!(qh&268435455)||$s(Rt,jt)}function Xd(t,e){var n=Ae;Ae|=2;var r=xb();(Rt!==t||jt!==e)&&(Xr=null,Yi(t,e));do try{N2();break}catch(s){_b(t,s)}while(!0);if(bv(),Ae=n,Kd.current=r,mt!==null)throw Error(z(261));return Rt=null,jt=0,Et}function N2(){for(;mt!==null;)Eb(mt)}function k2(){for(;mt!==null&&!eA();)Eb(mt)}function Eb(t){var e=Sb(t.alternate,t,wn);t.memoizedProps=t.pendingProps,e===null?Tb(t):mt=e,Lv.current=null}function Tb(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=E2(n,e),n!==null){n.flags&=32767,mt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Et=6,mt=null;return}}else if(n=x2(n,e,wn),n!==null){mt=n;return}if(e=e.sibling,e!==null){mt=e;return}mt=e=t}while(e!==null);Et===0&&(Et=5)}function $i(t,e,n){var r=Ue,s=On.transition;try{On.transition=null,Ue=1,P2(t,e,n,r)}finally{On.transition=s,Ue=r}return null}function P2(t,e,n,r){do oa();while(Gs!==null);if(Ae&6)throw Error(z(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(uA(t,i),t===Rt&&(mt=Rt=null,jt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ju||(ju=!0,Cb(Ad,function(){return oa(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=On.transition,On.transition=null;var o=Ue;Ue=1;var a=Ae;Ae|=4,Lv.current=null,b2(t,n),vb(n,t),YA(jp),Md=!!Op,jp=Op=null,t.current=n,S2(n),tA(),Ae=a,Ue=o,On.transition=i}else t.current=n;if(ju&&(ju=!1,Gs=t,Yd=s),i=t.pendingLanes,i===0&&(ei=null),sA(n.stateNode),pn(t,lt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Qd)throw Qd=!1,t=ng,ng=null,t;return Yd&1&&t.tag!==0&&oa(),i=t.pendingLanes,i&1?t===rg?Bl++:(Bl=0,rg=t):Bl=0,bi(),null}function oa(){if(Gs!==null){var t=rT(Yd),e=On.transition,n=Ue;try{if(On.transition=null,Ue=16>t?16:t,Gs===null)var r=!1;else{if(t=Gs,Gs=null,Yd=0,Ae&6)throw Error(z(331));var s=Ae;for(Ae|=4,Z=t.current;Z!==null;){var i=Z,o=i.child;if(Z.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var d=a[l];for(Z=d;Z!==null;){var h=Z;switch(h.tag){case 0:case 11:case 15:Ul(8,h,i)}var f=h.child;if(f!==null)f.return=h,Z=f;else for(;Z!==null;){h=Z;var m=h.sibling,p=h.return;if(mb(h),h===d){Z=null;break}if(m!==null){m.return=p,Z=m;break}Z=p}}}var S=i.alternate;if(S!==null){var y=S.child;if(y!==null){S.child=null;do{var E=y.sibling;y.sibling=null,y=E}while(y!==null)}}Z=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Z=o;else e:for(;Z!==null;){if(i=Z,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ul(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,Z=x;break e}Z=i.return}}var _=t.current;for(Z=_;Z!==null;){o=Z;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,Z=T;else e:for(o=_;Z!==null;){if(a=Z,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Hh(9,a)}}catch(M){ot(a,a.return,M)}if(a===o){Z=null;break e}var R=a.sibling;if(R!==null){R.return=a.return,Z=R;break e}Z=a.return}}if(Ae=s,bi(),br&&typeof br.onPostCommitFiberRoot=="function")try{br.onPostCommitFiberRoot(Lh,t)}catch{}r=!0}return r}finally{Ue=n,On.transition=e}}return!1}function k_(t,e,n){e=Ea(n,e),e=rb(t,e,1),t=Zs(t,e,1),e=en(),t!==null&&(Dc(t,1,e),pn(t,e))}function ot(t,e,n){if(t.tag===3)k_(t,t,n);else for(;e!==null;){if(e.tag===3){k_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ei===null||!ei.has(r))){t=Ea(n,t),t=sb(e,t,1),e=Zs(e,t,1),t=en(),e!==null&&(Dc(e,1,t),pn(e,t));break}}e=e.return}}function R2(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=en(),t.pingedLanes|=t.suspendedLanes&n,Rt===t&&(jt&n)===n&&(Et===4||Et===3&&(jt&130023424)===jt&&500>lt()-Fv?Yi(t,0):Vv|=n),pn(t,e)}function bb(t,e){e===0&&(t.mode&1?(e=Cu,Cu<<=1,!(Cu&130023424)&&(Cu=4194304)):e=1);var n=en();t=ls(t,e),t!==null&&(Dc(t,e,n),pn(t,n))}function A2(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),bb(t,n)}function D2(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(e),bb(t,n)}var Sb;Sb=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||fn.current)dn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return dn=!1,_2(t,e,n);dn=!!(t.flags&131072)}else dn=!1,Ze&&e.flags&1048576&&kT(e,$d,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ld(t,e),t=e.pendingProps;var s=ya(e,qt.current);ia(e,n),s=Av(null,e,r,t,s,n);var i=Dv();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,mn(r)?(i=!0,Fd(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Iv(e),s.updater=Wh,e.stateNode=s,s._reactInternals=e,Hp(e,r,t,n),e=Kp(null,e,r,!0,i,n)):(e.tag=0,Ze&&i&&_v(e),Jt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ld(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=O2(r),t=qn(r,t),s){case 0:e=Gp(null,e,r,t,n);break e;case 1:e=w_(null,e,r,t,n);break e;case 11:e=v_(null,e,r,t,n);break e;case 14:e=y_(null,e,r,qn(r.type,t),n);break e}throw Error(z(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:qn(r,s),Gp(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:qn(r,s),w_(t,e,r,s,n);case 3:e:{if(lb(e),t===null)throw Error(z(387));r=e.pendingProps,i=e.memoizedState,s=i.element,OT(t,e),Wd(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Ea(Error(z(423)),e),e=__(t,e,r,n,s);break e}else if(r!==s){s=Ea(Error(z(424)),e),e=__(t,e,r,n,s);break e}else for(En=Js(e.stateNode.containerInfo.firstChild),bn=e,Ze=!0,Qn=null,n=DT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(wa(),r===s){e=cs(t,e,n);break e}Jt(t,e,r,n)}e=e.child}return e;case 5:return jT(e),t===null&&Bp(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Lp(r,s)?o=null:i!==null&&Lp(r,i)&&(e.flags|=32),ab(t,e),Jt(t,e,o,n),e.child;case 6:return t===null&&Bp(e),null;case 13:return cb(t,e,n);case 4:return Nv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=_a(e,null,r,n):Jt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:qn(r,s),v_(t,e,r,s,n);case 7:return Jt(t,e,e.pendingProps,n),e.child;case 8:return Jt(t,e,e.pendingProps.children,n),e.child;case 12:return Jt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,qe(Bd,r._currentValue),r._currentValue=o,i!==null)if(er(i.value,o)){if(i.children===s.children&&!fn.current){e=cs(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=ss(-1,n&-n),l.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?l.next=l:(l.next=h.next,h.next=l),d.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),zp(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(z(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),zp(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Jt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,ia(e,n),s=Vn(s),r=r(s),e.flags|=1,Jt(t,e,r,n),e.child;case 14:return r=e.type,s=qn(r,e.pendingProps),s=qn(r.type,s),y_(t,e,r,s,n);case 15:return ib(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:qn(r,s),ld(t,e),e.tag=1,mn(r)?(t=!0,Fd(e)):t=!1,ia(e,n),nb(e,r,s),Hp(e,r,s,n),Kp(null,e,r,!0,t,n);case 19:return ub(t,e,n);case 22:return ob(t,e,n)}throw Error(z(156,e.tag))};function Cb(t,e){return ZE(t,e)}function M2(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(t,e,n,r){return new M2(t,e,n,r)}function zv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function O2(t){if(typeof t=="function")return zv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===lv)return 11;if(t===cv)return 14}return 2}function ni(t,e){var n=t.alternate;return n===null?(n=Mn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function dd(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")zv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case zo:return Xi(n.children,s,i,e);case av:o=8,s|=8;break;case pp:return t=Mn(12,n,e,s|2),t.elementType=pp,t.lanes=i,t;case gp:return t=Mn(13,n,e,s),t.elementType=gp,t.lanes=i,t;case vp:return t=Mn(19,n,e,s),t.elementType=vp,t.lanes=i,t;case jE:return Gh(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ME:o=10;break e;case OE:o=9;break e;case lv:o=11;break e;case cv:o=14;break e;case Ls:o=16,r=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=Mn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Xi(t,e,n,r){return t=Mn(7,t,r,e),t.lanes=n,t}function Gh(t,e,n,r){return t=Mn(22,t,r,e),t.elementType=jE,t.lanes=n,t.stateNode={isHidden:!1},t}function Rm(t,e,n){return t=Mn(6,t,null,e),t.lanes=n,t}function Am(t,e,n){return e=Mn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function j2(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hm(0),this.expirationTimes=hm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hm(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Wv(t,e,n,r,s,i,o,a,l){return t=new j2(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Mn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Iv(i),t}function L2(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Bo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Ib(t){if(!t)return di;t=t._reactInternals;e:{if(xo(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(mn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if(mn(n))return IT(t,n,e)}return e}function Nb(t,e,n,r,s,i,o,a,l){return t=Wv(n,r,!0,t,s,i,o,a,l),t.context=Ib(null),n=t.current,r=en(),s=ti(n),i=ss(r,s),i.callback=e??null,Zs(n,i,s),t.current.lanes=s,Dc(t,s,r),pn(t,r),t}function Kh(t,e,n,r){var s=e.current,i=en(),o=ti(s);return n=Ib(n),e.context===null?e.context=n:e.pendingContext=n,e=ss(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Zs(s,e,o),t!==null&&(Jn(t,s,o,i),id(t,s,o)),o}function Jd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function P_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Hv(t,e){P_(t,e),(t=t.alternate)&&P_(t,e)}function V2(){return null}var kb=typeof reportError=="function"?reportError:function(t){console.error(t)};function qv(t){this._internalRoot=t}Qh.prototype.render=qv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));Kh(t,e,null,null)};Qh.prototype.unmount=qv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;io(function(){Kh(null,t,null,null)}),e[as]=null}};function Qh(t){this._internalRoot=t}Qh.prototype.unstable_scheduleHydration=function(t){if(t){var e=oT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Us.length&&e!==0&&e<Us[n].priority;n++);Us.splice(n,0,t),n===0&&lT(t)}};function Gv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Yh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function R_(){}function F2(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=Jd(o);i.call(d)}}var o=Nb(e,r,t,0,null,!1,!1,"",R_);return t._reactRootContainer=o,t[as]=o.current,rc(t.nodeType===8?t.parentNode:t),io(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var d=Jd(l);a.call(d)}}var l=Wv(t,0,!1,null,null,!1,!1,"",R_);return t._reactRootContainer=l,t[as]=l.current,rc(t.nodeType===8?t.parentNode:t),io(function(){Kh(e,l,n,r)}),l}function Xh(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Jd(o);a.call(l)}}Kh(e,o,t,s)}else o=F2(n,e,t,s,r);return Jd(o)}sT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Cl(e.pendingLanes);n!==0&&(hv(e,n|1),pn(e,lt()),!(Ae&6)&&(Ta=lt()+500,bi()))}break;case 13:io(function(){var r=ls(t,1);if(r!==null){var s=en();Jn(r,t,1,s)}}),Hv(t,1)}};fv=function(t){if(t.tag===13){var e=ls(t,134217728);if(e!==null){var n=en();Jn(e,t,134217728,n)}Hv(t,134217728)}};iT=function(t){if(t.tag===13){var e=ti(t),n=ls(t,e);if(n!==null){var r=en();Jn(n,t,e,r)}Hv(t,e)}};oT=function(){return Ue};aT=function(t,e){var n=Ue;try{return Ue=t,e()}finally{Ue=n}};Ip=function(t,e,n){switch(e){case"input":if(_p(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=$h(r);if(!s)throw Error(z(90));VE(r),_p(r,s)}}}break;case"textarea":UE(t,n);break;case"select":e=n.value,e!=null&&ta(t,!!n.multiple,e,!1)}};GE=Uv;KE=io;var U2={usingClientEntryPoint:!1,Events:[Oc,Go,$h,HE,qE,Uv]},xl={findFiberByHostInstance:Hi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$2={bundleType:xl.bundleType,version:xl.version,rendererPackageName:xl.rendererPackageName,rendererConfig:xl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ys.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=XE(t),t===null?null:t.stateNode},findFiberByHostInstance:xl.findFiberByHostInstance||V2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lu.isDisabled&&Lu.supportsFiber)try{Lh=Lu.inject($2),br=Lu}catch{}}In.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U2;In.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gv(e))throw Error(z(200));return L2(t,e,null,n)};In.createRoot=function(t,e){if(!Gv(t))throw Error(z(299));var n=!1,r="",s=kb;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Wv(t,1,!1,null,null,n,!1,r,s),t[as]=e.current,rc(t.nodeType===8?t.parentNode:t),new qv(e)};In.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=XE(e),t=t===null?null:t.stateNode,t};In.flushSync=function(t){return io(t)};In.hydrate=function(t,e,n){if(!Yh(e))throw Error(z(200));return Xh(null,t,e,!0,n)};In.hydrateRoot=function(t,e,n){if(!Gv(t))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=kb;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Nb(e,null,t,1,n??null,s,!1,i,o),t[as]=e.current,rc(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Qh(e)};In.render=function(t,e,n){if(!Yh(e))throw Error(z(200));return Xh(null,t,e,!1,n)};In.unmountComponentAtNode=function(t){if(!Yh(t))throw Error(z(40));return t._reactRootContainer?(io(function(){Xh(null,null,t,!1,function(){t._reactRootContainer=null,t[as]=null})}),!0):!1};In.unstable_batchedUpdates=Uv;In.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Yh(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return Xh(t,e,n,!1,r)};In.version="18.3.1-next-f1338f8080-20240426";function Pb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Pb)}catch(t){console.error(t)}}Pb(),PE.exports=In;var $a=PE.exports;const Rb=vE($a);var A_=$a;fp.createRoot=A_.createRoot,fp.hydrateRoot=A_.hydrateRoot;class Jh{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){const n={listener:e};return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}const Kv=typeof window>"u"||"Deno"in window;function Gn(){}function B2(t,e){return typeof t=="function"?t(e):t}function z2(t){return typeof t=="number"&&t>=0&&t!==1/0}function W2(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Vu(t,e,n){return Zh(t)?typeof e=="function"?{...n,queryKey:t,queryFn:e}:{...e,queryKey:t}:t}function Fs(t,e,n){return Zh(t)?[{...e,queryKey:t},n]:[t||{},e]}function D_(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(Zh(o)){if(r){if(e.queryHash!==Qv(o,e.options))return!1}else if(!Zd(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||typeof s<"u"&&s!==e.state.fetchStatus||i&&!i(e))}function M_(t,e){const{exact:n,fetching:r,predicate:s,mutationKey:i}=t;if(Zh(i)){if(!e.options.mutationKey)return!1;if(n){if(Ki(e.options.mutationKey)!==Ki(i))return!1}else if(!Zd(e.options.mutationKey,i))return!1}return!(typeof r=="boolean"&&e.state.status==="loading"!==r||s&&!s(e))}function Qv(t,e){return((e==null?void 0:e.queryKeyHashFn)||Ki)(t)}function Ki(t){return JSON.stringify(t,(e,n)=>og(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Zd(t,e){return Ab(t,e)}function Ab(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Ab(t[n],e[n])):!1}function Db(t,e){if(t===e)return t;const n=O_(t)&&O_(e);if(n||og(t)&&og(e)){const r=n?t.length:Object.keys(t).length,s=n?e:Object.keys(e),i=s.length,o=n?[]:{};let a=0;for(let l=0;l<i;l++){const d=n?l:s[l];o[d]=Db(t[d],e[d]),o[d]===t[d]&&a++}return r===i&&a===r?t:o}return e}function O_(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function og(t){if(!j_(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const n=e.prototype;return!(!j_(n)||!n.hasOwnProperty("isPrototypeOf"))}function j_(t){return Object.prototype.toString.call(t)==="[object Object]"}function Zh(t){return Array.isArray(t)}function Mb(t){return new Promise(e=>{setTimeout(e,t)})}function L_(t){Mb(0).then(t)}function H2(){if(typeof AbortController=="function")return new AbortController}function q2(t,e,n){return n.isDataEqual!=null&&n.isDataEqual(t,e)?t:typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?Db(t,e):e}class G2 extends Jh{constructor(){super(),this.setup=e=>{if(!Kv&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),window.addEventListener("focus",n,!1),()=>{window.removeEventListener("visibilitychange",n),window.removeEventListener("focus",n)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var n;this.setup=e,(n=this.cleanup)==null||n.call(this),this.cleanup=e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()})}setFocused(e){this.focused!==e&&(this.focused=e,this.onFocus())}onFocus(){this.listeners.forEach(({listener:e})=>{e()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const ag=new G2,V_=["online","offline"];class K2 extends Jh{constructor(){super(),this.setup=e=>{if(!Kv&&window.addEventListener){const n=()=>e();return V_.forEach(r=>{window.addEventListener(r,n,!1)}),()=>{V_.forEach(r=>{window.removeEventListener(r,n)})}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var n;this.setup=e,(n=this.cleanup)==null||n.call(this),this.cleanup=e(r=>{typeof r=="boolean"?this.setOnline(r):this.onOnline()})}setOnline(e){this.online!==e&&(this.online=e,this.onOnline())}onOnline(){this.listeners.forEach(({listener:e})=>{e()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const eh=new K2;function Q2(t){return Math.min(1e3*2**t,3e4)}function Yv(t){return(t??"online")==="online"?eh.isOnline():!0}class Ob{constructor(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}}function Dm(t){return t instanceof Ob}function jb(t){let e=!1,n=0,r=!1,s,i,o;const a=new Promise((E,x)=>{i=E,o=x}),l=E=>{r||(p(new Ob(E)),t.abort==null||t.abort())},d=()=>{e=!0},h=()=>{e=!1},f=()=>!ag.isFocused()||t.networkMode!=="always"&&!eh.isOnline(),m=E=>{r||(r=!0,t.onSuccess==null||t.onSuccess(E),s==null||s(),i(E))},p=E=>{r||(r=!0,t.onError==null||t.onError(E),s==null||s(),o(E))},S=()=>new Promise(E=>{s=x=>{const _=r||!f();return _&&E(x),_},t.onPause==null||t.onPause()}).then(()=>{s=void 0,r||t.onContinue==null||t.onContinue()}),y=()=>{if(r)return;let E;try{E=t.fn()}catch(x){E=Promise.reject(x)}Promise.resolve(E).then(m).catch(x=>{var _,T;if(r)return;const R=(_=t.retry)!=null?_:3,M=(T=t.retryDelay)!=null?T:Q2,O=typeof M=="function"?M(n,x):M,b=R===!0||typeof R=="number"&&n<R||typeof R=="function"&&R(n,x);if(e||!b){p(x);return}n++,t.onFail==null||t.onFail(n,x),Mb(O).then(()=>{if(f())return S()}).then(()=>{e?p(x):y()})})};return Yv(t.networkMode)?y():S().then(y),{promise:a,cancel:l,continue:()=>(s==null?void 0:s())?a:Promise.resolve(),cancelRetry:d,continueRetry:h}}const Xv=console;function Y2(){let t=[],e=0,n=h=>{h()},r=h=>{h()};const s=h=>{let f;e++;try{f=h()}finally{e--,e||a()}return f},i=h=>{e?t.push(h):L_(()=>{n(h)})},o=h=>(...f)=>{i(()=>{h(...f)})},a=()=>{const h=t;t=[],h.length&&L_(()=>{r(()=>{h.forEach(f=>{n(f)})})})};return{batch:s,batchCalls:o,schedule:i,setNotifyFunction:h=>{n=h},setBatchNotifyFunction:h=>{r=h}}}const Zt=Y2();class Lb{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),z2(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(e){this.cacheTime=Math.max(this.cacheTime||0,e??(Kv?1/0:5*60*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}let X2=class extends Lb{constructor(e){super(),this.abortSignalConsumed=!1,this.defaultOptions=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.cache=e.cache,this.logger=e.logger||Xv,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.initialState=e.state||J2(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(e,n){const r=q2(this.state.data,e,this.options);return this.dispatch({data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){this.dispatch({type:"setState",state:e,setStateOptions:n})}cancel(e){var n;const r=this.promise;return(n=this.retryer)==null||n.cancel(e),r?r.then(Gn).catch(Gn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(e=>e.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(e=>e.getCurrentResult().isStale)}isStaleByTime(e=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!W2(this.state.dataUpdatedAt,e)}onFocus(){var e;const n=this.observers.find(r=>r.shouldFetchOnWindowFocus());n&&n.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}onOnline(){var e;const n=this.observers.find(r=>r.shouldFetchOnReconnect());n&&n.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(e,n){var r,s;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&n!=null&&n.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var i;return(i=this.retryer)==null||i.continueRetry(),this.promise}}if(e&&this.setOptions(e),!this.options.queryFn){const p=this.observers.find(S=>S.options.queryFn);p&&this.setOptions(p.options)}const o=H2(),a={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},l=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>{if(o)return this.abortSignalConsumed=!0,o.signal}})};l(a);const d=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(a)):Promise.reject("Missing queryFn for queryKey '"+this.options.queryHash+"'"),h={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:d};if(l(h),(r=this.options.behavior)==null||r.onFetch(h),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((s=h.fetchOptions)==null?void 0:s.meta)){var f;this.dispatch({type:"fetch",meta:(f=h.fetchOptions)==null?void 0:f.meta})}const m=p=>{if(Dm(p)&&p.silent||this.dispatch({type:"error",error:p}),!Dm(p)){var S,y,E,x;(S=(y=this.cache.config).onError)==null||S.call(y,p,this),(E=(x=this.cache.config).onSettled)==null||E.call(x,this.state.data,p,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=jb({fn:h.fetchFn,abort:o==null?void 0:o.abort.bind(o),onSuccess:p=>{var S,y,E,x;if(typeof p>"u"){m(new Error(this.queryHash+" data is undefined"));return}this.setData(p),(S=(y=this.cache.config).onSuccess)==null||S.call(y,p,this),(E=(x=this.cache.config).onSettled)==null||E.call(x,p,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:m,onFail:(p,S)=>{this.dispatch({type:"failed",failureCount:p,error:S})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:h.options.retry,retryDelay:h.options.retryDelay,networkMode:h.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(e){const n=r=>{var s,i;switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(s=e.meta)!=null?s:null,fetchStatus:Yv(this.options.networkMode)?"fetching":"paused",...!r.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(i=e.dataUpdatedAt)!=null?i:Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=e.error;return Dm(o)&&o.revert&&this.revertState?{...this.revertState,fetchStatus:"idle"}:{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),Zt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate(e)}),this.cache.notify({query:this,type:"updated",action:e})})}};function J2(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=typeof e<"u",r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"loading",fetchStatus:"idle"}}class Z2 extends Jh{constructor(e){super(),this.config=e||{},this.queries=[],this.queriesMap={}}build(e,n,r){var s;const i=n.queryKey,o=(s=n.queryHash)!=null?s:Qv(i,n);let a=this.get(o);return a||(a=new X2({cache:this,logger:e.getLogger(),queryKey:i,queryHash:o,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(a)),a}add(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"added",query:e}))}remove(e){const n=this.queriesMap[e.queryHash];n&&(e.destroy(),this.queries=this.queries.filter(r=>r!==e),n===e&&delete this.queriesMap[e.queryHash],this.notify({type:"removed",query:e}))}clear(){Zt.batch(()=>{this.queries.forEach(e=>{this.remove(e)})})}get(e){return this.queriesMap[e]}getAll(){return this.queries}find(e,n){const[r]=Fs(e,n);return typeof r.exact>"u"&&(r.exact=!0),this.queries.find(s=>D_(r,s))}findAll(e,n){const[r]=Fs(e,n);return Object.keys(r).length>0?this.queries.filter(s=>D_(r,s)):this.queries}notify(e){Zt.batch(()=>{this.listeners.forEach(({listener:n})=>{n(e)})})}onFocus(){Zt.batch(()=>{this.queries.forEach(e=>{e.onFocus()})})}onOnline(){Zt.batch(()=>{this.queries.forEach(e=>{e.onOnline()})})}}let eD=class extends Lb{constructor(e){super(),this.defaultOptions=e.defaultOptions,this.mutationId=e.mutationId,this.mutationCache=e.mutationCache,this.logger=e.logger||Xv,this.observers=[],this.state=e.state||tD(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(e){this.dispatch({type:"setState",state:e})}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.observers=this.observers.filter(n=>n!==e),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var e,n;return(e=(n=this.retryer)==null?void 0:n.continue())!=null?e:this.execute()}async execute(){const e=()=>{var b;return this.retryer=jb({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(C,I)=>{this.dispatch({type:"failed",failureCount:C,error:I})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(b=this.options.retry)!=null?b:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},n=this.state.status==="loading";try{var r,s,i,o,a,l,d,h;if(!n){var f,m,p,S;this.dispatch({type:"loading",variables:this.options.variables}),await((f=(m=this.mutationCache.config).onMutate)==null?void 0:f.call(m,this.state.variables,this));const C=await((p=(S=this.options).onMutate)==null?void 0:p.call(S,this.state.variables));C!==this.state.context&&this.dispatch({type:"loading",context:C,variables:this.state.variables})}const b=await e();return await((r=(s=this.mutationCache.config).onSuccess)==null?void 0:r.call(s,b,this.state.variables,this.state.context,this)),await((i=(o=this.options).onSuccess)==null?void 0:i.call(o,b,this.state.variables,this.state.context)),await((a=(l=this.mutationCache.config).onSettled)==null?void 0:a.call(l,b,null,this.state.variables,this.state.context,this)),await((d=(h=this.options).onSettled)==null?void 0:d.call(h,b,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:b}),b}catch(b){try{var y,E,x,_,T,R,M,O;throw await((y=(E=this.mutationCache.config).onError)==null?void 0:y.call(E,b,this.state.variables,this.state.context,this)),await((x=(_=this.options).onError)==null?void 0:x.call(_,b,this.state.variables,this.state.context)),await((T=(R=this.mutationCache.config).onSettled)==null?void 0:T.call(R,void 0,b,this.state.variables,this.state.context,this)),await((M=(O=this.options).onSettled)==null?void 0:M.call(O,void 0,b,this.state.variables,this.state.context)),b}finally{this.dispatch({type:"error",error:b})}}}dispatch(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"loading":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!Yv(this.options.networkMode),status:"loading",variables:e.variables};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"};case"setState":return{...r,...e.state}}};this.state=n(this.state),Zt.batch(()=>{this.observers.forEach(r=>{r.onMutationUpdate(e)}),this.mutationCache.notify({mutation:this,type:"updated",action:e})})}};function tD(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class nD extends Jh{constructor(e){super(),this.config=e||{},this.mutations=[],this.mutationId=0}build(e,n,r){const s=new eD({mutationCache:this,logger:e.getLogger(),mutationId:++this.mutationId,options:e.defaultMutationOptions(n),state:r,defaultOptions:n.mutationKey?e.getMutationDefaults(n.mutationKey):void 0});return this.add(s),s}add(e){this.mutations.push(e),this.notify({type:"added",mutation:e})}remove(e){this.mutations=this.mutations.filter(n=>n!==e),this.notify({type:"removed",mutation:e})}clear(){Zt.batch(()=>{this.mutations.forEach(e=>{this.remove(e)})})}getAll(){return this.mutations}find(e){return typeof e.exact>"u"&&(e.exact=!0),this.mutations.find(n=>M_(e,n))}findAll(e){return this.mutations.filter(n=>M_(e,n))}notify(e){Zt.batch(()=>{this.listeners.forEach(({listener:n})=>{n(e)})})}resumePausedMutations(){var e;return this.resuming=((e=this.resuming)!=null?e:Promise.resolve()).then(()=>{const n=this.mutations.filter(r=>r.state.isPaused);return Zt.batch(()=>n.reduce((r,s)=>r.then(()=>s.continue().catch(Gn)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}function rD(){return{onFetch:t=>{t.fetchFn=()=>{var e,n,r,s,i,o;const a=(e=t.fetchOptions)==null||(n=e.meta)==null?void 0:n.refetchPage,l=(r=t.fetchOptions)==null||(s=r.meta)==null?void 0:s.fetchMore,d=l==null?void 0:l.pageParam,h=(l==null?void 0:l.direction)==="forward",f=(l==null?void 0:l.direction)==="backward",m=((i=t.state.data)==null?void 0:i.pages)||[],p=((o=t.state.data)==null?void 0:o.pageParams)||[];let S=p,y=!1;const E=O=>{Object.defineProperty(O,"signal",{enumerable:!0,get:()=>{var b;if((b=t.signal)!=null&&b.aborted)y=!0;else{var C;(C=t.signal)==null||C.addEventListener("abort",()=>{y=!0})}return t.signal}})},x=t.options.queryFn||(()=>Promise.reject("Missing queryFn for queryKey '"+t.options.queryHash+"'")),_=(O,b,C,I)=>(S=I?[b,...S]:[...S,b],I?[C,...O]:[...O,C]),T=(O,b,C,I)=>{if(y)return Promise.reject("Cancelled");if(typeof C>"u"&&!b&&O.length)return Promise.resolve(O);const k={queryKey:t.queryKey,pageParam:C,meta:t.options.meta};E(k);const A=x(k);return Promise.resolve(A).then(P=>_(O,C,P,I))};let R;if(!m.length)R=T([]);else if(h){const O=typeof d<"u",b=O?d:F_(t.options,m);R=T(m,O,b)}else if(f){const O=typeof d<"u",b=O?d:sD(t.options,m);R=T(m,O,b,!0)}else{S=[];const O=typeof t.options.getNextPageParam>"u";R=(a&&m[0]?a(m[0],0,m):!0)?T([],O,p[0]):Promise.resolve(_([],p[0],m[0]));for(let C=1;C<m.length;C++)R=R.then(I=>{if(a&&m[C]?a(m[C],C,m):!0){const A=O?p[C]:F_(t.options,I);return T(I,O,A)}return Promise.resolve(_(I,p[C],m[C]))})}return R.then(O=>({pages:O,pageParams:S}))}}}}function F_(t,e){return t.getNextPageParam==null?void 0:t.getNextPageParam(e[e.length-1],e)}function sD(t,e){return t.getPreviousPageParam==null?void 0:t.getPreviousPageParam(e[0],e)}class iD{constructor(e={}){this.queryCache=e.queryCache||new Z2,this.mutationCache=e.mutationCache||new nD,this.logger=e.logger||Xv,this.defaultOptions=e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=ag.subscribe(()=>{ag.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=eh.subscribe(()=>{eh.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var e,n;this.mountCount--,this.mountCount===0&&((e=this.unsubscribeFocus)==null||e.call(this),this.unsubscribeFocus=void 0,(n=this.unsubscribeOnline)==null||n.call(this),this.unsubscribeOnline=void 0)}isFetching(e,n){const[r]=Fs(e,n);return r.fetchStatus="fetching",this.queryCache.findAll(r).length}isMutating(e){return this.mutationCache.findAll({...e,fetching:!0}).length}getQueryData(e,n){var r;return(r=this.queryCache.find(e,n))==null?void 0:r.state.data}ensureQueryData(e,n,r){const s=Vu(e,n,r),i=this.getQueryData(s.queryKey);return i?Promise.resolve(i):this.fetchQuery(s)}getQueriesData(e){return this.getQueryCache().findAll(e).map(({queryKey:n,state:r})=>{const s=r.data;return[n,s]})}setQueryData(e,n,r){const s=this.queryCache.find(e),i=s==null?void 0:s.state.data,o=B2(n,i);if(typeof o>"u")return;const a=Vu(e),l=this.defaultQueryOptions(a);return this.queryCache.build(this,l).setData(o,{...r,manual:!0})}setQueriesData(e,n,r){return Zt.batch(()=>this.getQueryCache().findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,n,r)]))}getQueryState(e,n){var r;return(r=this.queryCache.find(e,n))==null?void 0:r.state}removeQueries(e,n){const[r]=Fs(e,n),s=this.queryCache;Zt.batch(()=>{s.findAll(r).forEach(i=>{s.remove(i)})})}resetQueries(e,n,r){const[s,i]=Fs(e,n,r),o=this.queryCache,a={type:"active",...s};return Zt.batch(()=>(o.findAll(s).forEach(l=>{l.reset()}),this.refetchQueries(a,i)))}cancelQueries(e,n,r){const[s,i={}]=Fs(e,n,r);typeof i.revert>"u"&&(i.revert=!0);const o=Zt.batch(()=>this.queryCache.findAll(s).map(a=>a.cancel(i)));return Promise.all(o).then(Gn).catch(Gn)}invalidateQueries(e,n,r){const[s,i]=Fs(e,n,r);return Zt.batch(()=>{var o,a;if(this.queryCache.findAll(s).forEach(d=>{d.invalidate()}),s.refetchType==="none")return Promise.resolve();const l={...s,type:(o=(a=s.refetchType)!=null?a:s.type)!=null?o:"active"};return this.refetchQueries(l,i)})}refetchQueries(e,n,r){const[s,i]=Fs(e,n,r),o=Zt.batch(()=>this.queryCache.findAll(s).filter(l=>!l.isDisabled()).map(l=>{var d;return l.fetch(void 0,{...i,cancelRefetch:(d=i==null?void 0:i.cancelRefetch)!=null?d:!0,meta:{refetchPage:s.refetchPage}})}));let a=Promise.all(o).then(Gn);return i!=null&&i.throwOnError||(a=a.catch(Gn)),a}fetchQuery(e,n,r){const s=Vu(e,n,r),i=this.defaultQueryOptions(s);typeof i.retry>"u"&&(i.retry=!1);const o=this.queryCache.build(this,i);return o.isStaleByTime(i.staleTime)?o.fetch(i):Promise.resolve(o.state.data)}prefetchQuery(e,n,r){return this.fetchQuery(e,n,r).then(Gn).catch(Gn)}fetchInfiniteQuery(e,n,r){const s=Vu(e,n,r);return s.behavior=rD(),this.fetchQuery(s)}prefetchInfiniteQuery(e,n,r){return this.fetchInfiniteQuery(e,n,r).then(Gn).catch(Gn)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(e){this.defaultOptions=e}setQueryDefaults(e,n){const r=this.queryDefaults.find(s=>Ki(e)===Ki(s.queryKey));r?r.defaultOptions=n:this.queryDefaults.push({queryKey:e,defaultOptions:n})}getQueryDefaults(e){if(!e)return;const n=this.queryDefaults.find(r=>Zd(e,r.queryKey));return n==null?void 0:n.defaultOptions}setMutationDefaults(e,n){const r=this.mutationDefaults.find(s=>Ki(e)===Ki(s.mutationKey));r?r.defaultOptions=n:this.mutationDefaults.push({mutationKey:e,defaultOptions:n})}getMutationDefaults(e){if(!e)return;const n=this.mutationDefaults.find(r=>Zd(e,r.mutationKey));return n==null?void 0:n.defaultOptions}defaultQueryOptions(e){if(e!=null&&e._defaulted)return e;const n={...this.defaultOptions.queries,...this.getQueryDefaults(e==null?void 0:e.queryKey),...e,_defaulted:!0};return!n.queryHash&&n.queryKey&&(n.queryHash=Qv(n.queryKey,n)),typeof n.refetchOnReconnect>"u"&&(n.refetchOnReconnect=n.networkMode!=="always"),typeof n.useErrorBoundary>"u"&&(n.useErrorBoundary=!!n.suspense),n}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...this.defaultOptions.mutations,...this.getMutationDefaults(e==null?void 0:e.mutationKey),...e,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}const U_=v.createContext(void 0),oD=v.createContext(!1);function aD(t,e){return t||(e&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=U_),window.ReactQueryClientContext):U_)}const lD=({client:t,children:e,context:n,contextSharing:r=!1})=>{v.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]);const s=aD(n,r);return v.createElement(oD.Provider,{value:!n&&r},v.createElement(s.Provider,{value:t},e))};var cD=t=>{switch(t){case"success":return hD;case"info":return mD;case"warning":return fD;case"error":return pD;default:return null}},uD=Array(12).fill(0),dD=({visible:t,className:e})=>q.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},q.createElement("div",{className:"sonner-spinner"},uD.map((n,r)=>q.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),hD=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),fD=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),mD=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),pD=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),gD=q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},q.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),q.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),vD=()=>{let[t,e]=q.useState(document.hidden);return q.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},lg=1,yD=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:lg++,o=this.toasts.find(l=>l.id===i),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...e,id:i,title:r}),{...l,...e,id:i,dismissible:a,title:r}):l):this.addToast({title:r,...s,dismissible:a,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),i=r!==void 0,o,a=s.then(async d=>{if(o=["resolve",d],q.isValidElement(d))i=!1,this.create({id:r,type:"default",message:d});else if(_D(d)&&!d.ok){i=!1;let h=typeof n.error=="function"?await n.error(`HTTP error! status: ${d.status}`):n.error,f=typeof n.description=="function"?await n.description(`HTTP error! status: ${d.status}`):n.description;this.create({id:r,type:"error",message:h,description:f})}else if(n.success!==void 0){i=!1;let h=typeof n.success=="function"?await n.success(d):n.success,f=typeof n.description=="function"?await n.description(d):n.description;this.create({id:r,type:"success",message:h,description:f})}}).catch(async d=>{if(o=["reject",d],n.error!==void 0){i=!1;let h=typeof n.error=="function"?await n.error(d):n.error,f=typeof n.description=="function"?await n.description(d):n.description;this.create({id:r,type:"error",message:h,description:f})}}).finally(()=>{var d;i&&(this.dismiss(r),r=void 0),(d=n.finally)==null||d.call(n)}),l=()=>new Promise((d,h)=>a.then(()=>o[0]==="reject"?h(o[1]):d(o[1])).catch(h));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||lg++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},an=new yD,wD=(t,e)=>{let n=(e==null?void 0:e.id)||lg++;return an.addToast({title:t,...e,id:n}),n},_D=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",xD=wD,ED=()=>an.toasts,TD=()=>an.getActiveToasts(),ie=Object.assign(xD,{success:an.success,info:an.info,warning:an.warning,error:an.error,custom:an.custom,message:an.message,promise:an.promise,dismiss:an.dismiss,loading:an.loading},{getHistory:ED,getToasts:TD});function bD(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}bD(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Fu(t){return t.label!==void 0}var SD=3,CD="32px",ID="16px",$_=4e3,ND=356,kD=14,PD=20,RD=200;function Wn(...t){return t.filter(Boolean).join(" ")}function AD(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var DD=t=>{var e,n,r,s,i,o,a,l,d,h,f;let{invert:m,toast:p,unstyled:S,interacting:y,setHeights:E,visibleToasts:x,heights:_,index:T,toasts:R,expanded:M,removeToast:O,defaultRichColors:b,closeButton:C,style:I,cancelButtonStyle:k,actionButtonStyle:A,className:D="",descriptionClassName:P="",duration:W,position:Y,gap:Q,loadingIcon:B,expandByDefault:j,classNames:L,icons:H,closeButtonAriaLabel:te="Close toast",pauseWhenPageIsHidden:ee}=t,[pe,ae]=q.useState(null),[De,Me]=q.useState(null),[G,Ee]=q.useState(!1),[Ne,Te]=q.useState(!1),[be,ke]=q.useState(!1),[dt,Yt]=q.useState(!1),[Hr,kn]=q.useState(!1),[Un,_s]=q.useState(0),[et,bt]=q.useState(0),lr=q.useRef(p.duration||W||$_),lu=q.useRef(null),cr=q.useRef(null),Hf=T===0,Ai=T+1<=x,Xt=p.type,qr=p.dismissible!==!1,el=p.className||"",qf=p.descriptionClassName||"",Io=q.useMemo(()=>_.findIndex(le=>le.toastId===p.id)||0,[_,p.id]),cu=q.useMemo(()=>{var le;return(le=p.closeButton)!=null?le:C},[p.closeButton,C]),tl=q.useMemo(()=>p.duration||W||$_,[p.duration,W]),Gr=q.useRef(0),ur=q.useRef(0),No=q.useRef(0),sn=q.useRef(null),[uu,ko]=Y.split("-"),nl=q.useMemo(()=>_.reduce((le,je,We)=>We>=Io?le:le+je.height,0),[_,Io]),xs=vD(),du=p.invert||m,wt=Xt==="loading";ur.current=q.useMemo(()=>Io*Q+nl,[Io,nl]),q.useEffect(()=>{lr.current=tl},[tl]),q.useEffect(()=>{Ee(!0)},[]),q.useEffect(()=>{let le=cr.current;if(le){let je=le.getBoundingClientRect().height;return bt(je),E(We=>[{toastId:p.id,height:je,position:p.position},...We]),()=>E(We=>We.filter(St=>St.toastId!==p.id))}},[E,p.id]),q.useLayoutEffect(()=>{if(!G)return;let le=cr.current,je=le.style.height;le.style.height="auto";let We=le.getBoundingClientRect().height;le.style.height=je,bt(We),E(St=>St.find(vn=>vn.toastId===p.id)?St.map(vn=>vn.toastId===p.id?{...vn,height:We}:vn):[{toastId:p.id,height:We,position:p.position},...St])},[G,p.title,p.description,E,p.id]);let $n=q.useCallback(()=>{Te(!0),_s(ur.current),E(le=>le.filter(je=>je.toastId!==p.id)),setTimeout(()=>{O(p)},RD)},[p,O,E,ur]);q.useEffect(()=>{if(p.promise&&Xt==="loading"||p.duration===1/0||p.type==="loading")return;let le;return M||y||ee&&xs?(()=>{if(No.current<Gr.current){let je=new Date().getTime()-Gr.current;lr.current=lr.current-je}No.current=new Date().getTime()})():lr.current!==1/0&&(Gr.current=new Date().getTime(),le=setTimeout(()=>{var je;(je=p.onAutoClose)==null||je.call(p,p),$n()},lr.current)),()=>clearTimeout(le)},[M,y,p,Xt,ee,xs,$n]),q.useEffect(()=>{p.delete&&$n()},[$n,p.delete]);function Di(){var le,je,We;return H!=null&&H.loading?q.createElement("div",{className:Wn(L==null?void 0:L.loader,(le=p==null?void 0:p.classNames)==null?void 0:le.loader,"sonner-loader"),"data-visible":Xt==="loading"},H.loading):B?q.createElement("div",{className:Wn(L==null?void 0:L.loader,(je=p==null?void 0:p.classNames)==null?void 0:je.loader,"sonner-loader"),"data-visible":Xt==="loading"},B):q.createElement(dD,{className:Wn(L==null?void 0:L.loader,(We=p==null?void 0:p.classNames)==null?void 0:We.loader),visible:Xt==="loading"})}return q.createElement("li",{tabIndex:0,ref:cr,className:Wn(D,el,L==null?void 0:L.toast,(e=p==null?void 0:p.classNames)==null?void 0:e.toast,L==null?void 0:L.default,L==null?void 0:L[Xt],(n=p==null?void 0:p.classNames)==null?void 0:n[Xt]),"data-sonner-toast":"","data-rich-colors":(r=p.richColors)!=null?r:b,"data-styled":!(p.jsx||p.unstyled||S),"data-mounted":G,"data-promise":!!p.promise,"data-swiped":Hr,"data-removed":Ne,"data-visible":Ai,"data-y-position":uu,"data-x-position":ko,"data-index":T,"data-front":Hf,"data-swiping":be,"data-dismissible":qr,"data-type":Xt,"data-invert":du,"data-swipe-out":dt,"data-swipe-direction":De,"data-expanded":!!(M||j&&G),style:{"--index":T,"--toasts-before":T,"--z-index":R.length-T,"--offset":`${Ne?Un:ur.current}px`,"--initial-height":j?"auto":`${et}px`,...I,...p.style},onDragEnd:()=>{ke(!1),ae(null),sn.current=null},onPointerDown:le=>{wt||!qr||(lu.current=new Date,_s(ur.current),le.target.setPointerCapture(le.pointerId),le.target.tagName!=="BUTTON"&&(ke(!0),sn.current={x:le.clientX,y:le.clientY}))},onPointerUp:()=>{var le,je,We,St;if(dt||!qr)return;sn.current=null;let vn=Number(((le=cr.current)==null?void 0:le.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),dr=Number(((je=cr.current)==null?void 0:je.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Pn=new Date().getTime()-((We=lu.current)==null?void 0:We.getTime()),on=pe==="x"?vn:dr,Bn=Math.abs(on)/Pn;if(Math.abs(on)>=PD||Bn>.11){_s(ur.current),(St=p.onDismiss)==null||St.call(p,p),Me(pe==="x"?vn>0?"right":"left":dr>0?"down":"up"),$n(),Yt(!0),kn(!1);return}ke(!1),ae(null)},onPointerMove:le=>{var je,We,St,vn;if(!sn.current||!qr||((je=window.getSelection())==null?void 0:je.toString().length)>0)return;let dr=le.clientY-sn.current.y,Pn=le.clientX-sn.current.x,on=(We=t.swipeDirections)!=null?We:AD(Y);!pe&&(Math.abs(Pn)>1||Math.abs(dr)>1)&&ae(Math.abs(Pn)>Math.abs(dr)?"x":"y");let Bn={x:0,y:0};pe==="y"?(on.includes("top")||on.includes("bottom"))&&(on.includes("top")&&dr<0||on.includes("bottom")&&dr>0)&&(Bn.y=dr):pe==="x"&&(on.includes("left")||on.includes("right"))&&(on.includes("left")&&Pn<0||on.includes("right")&&Pn>0)&&(Bn.x=Pn),(Math.abs(Bn.x)>0||Math.abs(Bn.y)>0)&&kn(!0),(St=cr.current)==null||St.style.setProperty("--swipe-amount-x",`${Bn.x}px`),(vn=cr.current)==null||vn.style.setProperty("--swipe-amount-y",`${Bn.y}px`)}},cu&&!p.jsx?q.createElement("button",{"aria-label":te,"data-disabled":wt,"data-close-button":!0,onClick:wt||!qr?()=>{}:()=>{var le;$n(),(le=p.onDismiss)==null||le.call(p,p)},className:Wn(L==null?void 0:L.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},(i=H==null?void 0:H.close)!=null?i:gD):null,p.jsx||v.isValidElement(p.title)?p.jsx?p.jsx:typeof p.title=="function"?p.title():p.title:q.createElement(q.Fragment,null,Xt||p.icon||p.promise?q.createElement("div",{"data-icon":"",className:Wn(L==null?void 0:L.icon,(o=p==null?void 0:p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||Di():null,p.type!=="loading"?p.icon||(H==null?void 0:H[Xt])||cD(Xt):null):null,q.createElement("div",{"data-content":"",className:Wn(L==null?void 0:L.content,(a=p==null?void 0:p.classNames)==null?void 0:a.content)},q.createElement("div",{"data-title":"",className:Wn(L==null?void 0:L.title,(l=p==null?void 0:p.classNames)==null?void 0:l.title)},typeof p.title=="function"?p.title():p.title),p.description?q.createElement("div",{"data-description":"",className:Wn(P,qf,L==null?void 0:L.description,(d=p==null?void 0:p.classNames)==null?void 0:d.description)},typeof p.description=="function"?p.description():p.description):null),v.isValidElement(p.cancel)?p.cancel:p.cancel&&Fu(p.cancel)?q.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||k,onClick:le=>{var je,We;Fu(p.cancel)&&qr&&((We=(je=p.cancel).onClick)==null||We.call(je,le),$n())},className:Wn(L==null?void 0:L.cancelButton,(h=p==null?void 0:p.classNames)==null?void 0:h.cancelButton)},p.cancel.label):null,v.isValidElement(p.action)?p.action:p.action&&Fu(p.action)?q.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||A,onClick:le=>{var je,We;Fu(p.action)&&((We=(je=p.action).onClick)==null||We.call(je,le),!le.defaultPrevented&&$n())},className:Wn(L==null?void 0:L.actionButton,(f=p==null?void 0:p.classNames)==null?void 0:f.actionButton)},p.action.label):null))};function B_(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function MD(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",a=i?ID:CD;function l(d){["top","right","bottom","left"].forEach(h=>{n[`${o}-${h}`]=typeof d=="number"?`${d}px`:d})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(d=>{r[d]===void 0?n[`${o}-${d}`]=a:n[`${o}-${d}`]=typeof r[d]=="number"?`${r[d]}px`:r[d]}):l(a)}),n}var OD=v.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:l,mobileOffset:d,theme:h="light",richColors:f,duration:m,style:p,visibleToasts:S=SD,toastOptions:y,dir:E=B_(),gap:x=kD,loadingIcon:_,icons:T,containerAriaLabel:R="Notifications",pauseWhenPageIsHidden:M}=t,[O,b]=q.useState([]),C=q.useMemo(()=>Array.from(new Set([r].concat(O.filter(ee=>ee.position).map(ee=>ee.position)))),[O,r]),[I,k]=q.useState([]),[A,D]=q.useState(!1),[P,W]=q.useState(!1),[Y,Q]=q.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),B=q.useRef(null),j=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),L=q.useRef(null),H=q.useRef(!1),te=q.useCallback(ee=>{b(pe=>{var ae;return(ae=pe.find(De=>De.id===ee.id))!=null&&ae.delete||an.dismiss(ee.id),pe.filter(({id:De})=>De!==ee.id)})},[]);return q.useEffect(()=>an.subscribe(ee=>{if(ee.dismiss){b(pe=>pe.map(ae=>ae.id===ee.id?{...ae,delete:!0}:ae));return}setTimeout(()=>{Rb.flushSync(()=>{b(pe=>{let ae=pe.findIndex(De=>De.id===ee.id);return ae!==-1?[...pe.slice(0,ae),{...pe[ae],...ee},...pe.slice(ae+1)]:[ee,...pe]})})})}),[]),q.useEffect(()=>{if(h!=="system"){Q(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Q("dark"):Q("light")),typeof window>"u")return;let ee=window.matchMedia("(prefers-color-scheme: dark)");try{ee.addEventListener("change",({matches:pe})=>{Q(pe?"dark":"light")})}catch{ee.addListener(({matches:ae})=>{try{Q(ae?"dark":"light")}catch(De){console.error(De)}})}},[h]),q.useEffect(()=>{O.length<=1&&D(!1)},[O]),q.useEffect(()=>{let ee=pe=>{var ae,De;s.every(Me=>pe[Me]||pe.code===Me)&&(D(!0),(ae=B.current)==null||ae.focus()),pe.code==="Escape"&&(document.activeElement===B.current||(De=B.current)!=null&&De.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",ee),()=>document.removeEventListener("keydown",ee)},[s]),q.useEffect(()=>{if(B.current)return()=>{L.current&&(L.current.focus({preventScroll:!0}),L.current=null,H.current=!1)}},[B.current]),q.createElement("section",{ref:e,"aria-label":`${R} ${j}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},C.map((ee,pe)=>{var ae;let[De,Me]=ee.split("-");return O.length?q.createElement("ol",{key:ee,dir:E==="auto"?B_():E,tabIndex:-1,ref:B,className:a,"data-sonner-toaster":!0,"data-theme":Y,"data-y-position":De,"data-lifted":A&&O.length>1&&!i,"data-x-position":Me,style:{"--front-toast-height":`${((ae=I[0])==null?void 0:ae.height)||0}px`,"--width":`${ND}px`,"--gap":`${x}px`,...p,...MD(l,d)},onBlur:G=>{H.current&&!G.currentTarget.contains(G.relatedTarget)&&(H.current=!1,L.current&&(L.current.focus({preventScroll:!0}),L.current=null))},onFocus:G=>{G.target instanceof HTMLElement&&G.target.dataset.dismissible==="false"||H.current||(H.current=!0,L.current=G.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{P||D(!1)},onDragEnd:()=>D(!1),onPointerDown:G=>{G.target instanceof HTMLElement&&G.target.dataset.dismissible==="false"||W(!0)},onPointerUp:()=>W(!1)},O.filter(G=>!G.position&&pe===0||G.position===ee).map((G,Ee)=>{var Ne,Te;return q.createElement(DD,{key:G.id,icons:T,index:Ee,toast:G,defaultRichColors:f,duration:(Ne=y==null?void 0:y.duration)!=null?Ne:m,className:y==null?void 0:y.className,descriptionClassName:y==null?void 0:y.descriptionClassName,invert:n,visibleToasts:S,closeButton:(Te=y==null?void 0:y.closeButton)!=null?Te:o,interacting:P,position:ee,style:y==null?void 0:y.style,unstyled:y==null?void 0:y.unstyled,classNames:y==null?void 0:y.classNames,cancelButtonStyle:y==null?void 0:y.cancelButtonStyle,actionButtonStyle:y==null?void 0:y.actionButtonStyle,removeToast:te,toasts:O.filter(be=>be.position==G.position),heights:I.filter(be=>be.position==G.position),setHeights:k,expandByDefault:i,gap:x,loadingIcon:_,expanded:A,pauseWhenPageIsHidden:M,swipeDirections:t.swipeDirections})})):null}))});function jD(t={}){const{nonce:e,onScriptLoadSuccess:n,onScriptLoadError:r}=t,[s,i]=v.useState(!1),o=v.useRef(n);o.current=n;const a=v.useRef(r);return a.current=r,v.useEffect(()=>{const l=document.createElement("script");return l.src="https://accounts.google.com/gsi/client",l.async=!0,l.defer=!0,l.nonce=e,l.onload=()=>{var d;i(!0),(d=o.current)===null||d===void 0||d.call(o)},l.onerror=()=>{var d;i(!1),(d=a.current)===null||d===void 0||d.call(a)},document.body.appendChild(l),()=>{document.body.removeChild(l)}},[e]),s}const LD=v.createContext(null);function VD({clientId:t,nonce:e,onScriptLoadSuccess:n,onScriptLoadError:r,children:s}){const i=jD({nonce:e,onScriptLoadSuccess:n,onScriptLoadError:r}),o=v.useMemo(()=>({clientId:t,scriptLoadedSuccessfully:i}),[t,i]);return q.createElement(LD.Provider,{value:o},s)}function FD(){var t,e,n;(n=(e=(t=window==null?void 0:window.google)===null||t===void 0?void 0:t.accounts)===null||e===void 0?void 0:e.id)===null||n===void 0||n.disableAutoSelect()}const Vb=v.createContext(void 0);function UD({children:t}){const[e,n]=v.useState(null),[r,s]=v.useState(!0);v.useEffect(()=>{const a=localStorage.getItem("user");if(a)try{const l=JSON.parse(a);n(l)}catch{}s(!1)},[]);const i=a=>{n(a),localStorage.setItem("user",JSON.stringify(a))},o=()=>{n(null),localStorage.removeItem("user");try{FD()}catch{}};return c.jsx(Vb.Provider,{value:{user:e,loading:r,isAuthenticated:!!e,login:i,logout:o},children:t})}function ef(){const t=v.useContext(Vb);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}function z_(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function tf(...t){return e=>{let n=!1;const r=t.map(s=>{const i=z_(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():z_(t[s],null)}}}}function Oe(...t){return v.useCallback(tf(...t),t)}function hi(t){const e=BD(t),n=v.forwardRef((r,s)=>{const{children:i,...o}=r,a=v.Children.toArray(i),l=a.find(WD);if(l){const d=l.props.children,h=a.map(f=>f===l?v.Children.count(d)>1?v.Children.only(null):v.isValidElement(d)?d.props.children:null:f);return c.jsx(e,{...o,ref:s,children:v.isValidElement(d)?v.cloneElement(d,void 0,h):null})}return c.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var $D=hi("Slot");function BD(t){const e=v.forwardRef((n,r)=>{const{children:s,...i}=n;if(v.isValidElement(s)){const o=qD(s),a=HD(i,s.props);return s.type!==v.Fragment&&(a.ref=r?tf(r,o):o),v.cloneElement(s,a)}return v.Children.count(s)>1?v.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var zD=Symbol("radix.slottable");function WD(t){return v.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===zD}function HD(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function qD(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Fb(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=Fb(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ub(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=Fb(t))&&(r&&(r+=" "),r+=e);return r}const W_=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,H_=Ub,Jv=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return H_(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(d=>{const h=n==null?void 0:n[d],f=i==null?void 0:i[d];if(h===null)return null;const m=W_(h)||W_(f);return s[d][m]}),a=n&&Object.entries(n).reduce((d,h)=>{let[f,m]=h;return m===void 0||(d[f]=m),d},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,h)=>{let{class:f,className:m,...p}=h;return Object.entries(p).every(S=>{let[y,E]=S;return Array.isArray(E)?E.includes({...i,...a}[y]):{...i,...a}[y]===E})?[...d,f,m]:d},[]);return H_(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)},Zv="-",GD=t=>{const e=QD(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Zv);return a[0]===""&&a.length!==1&&a.shift(),$b(a,e)||KD(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},$b=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?$b(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Zv);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},q_=/^\[(.+)\]$/,KD=t=>{if(q_.test(t)){const e=q_.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},QD=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return XD(Object.entries(t.classGroups),n).forEach(([i,o])=>{cg(o,r,i,e)}),r},cg=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:G_(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(YD(s)){cg(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{cg(o,G_(e,i),n,r)})})},G_=(t,e)=>{let n=t;return e.split(Zv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},YD=t=>t.isThemeGetter,XD=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,JD=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},Bb="!",ZD=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let d=0,h=0,f;for(let E=0;E<a.length;E++){let x=a[E];if(d===0){if(x===s&&(r||a.slice(E,E+i)===e)){l.push(a.slice(h,E)),h=E+i;continue}if(x==="/"){f=E;continue}}x==="["?d++:x==="]"&&d--}const m=l.length===0?a:a.substring(h),p=m.startsWith(Bb),S=p?m.substring(1):m,y=f&&f>h?f-h:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:S,maybePostfixModifierPosition:y}};return n?a=>n({className:a,parseClassName:o}):o},eM=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},tM=t=>({cache:JD(t.cacheSize),parseClassName:ZD(t),...GD(t)}),nM=/\s+/,rM=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(nM);let a="";for(let l=o.length-1;l>=0;l-=1){const d=o[l],{modifiers:h,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:p}=n(d);let S=!!p,y=r(S?m.substring(0,p):m);if(!y){if(!S){a=d+(a.length>0?" "+a:a);continue}if(y=r(m),!y){a=d+(a.length>0?" "+a:a);continue}S=!1}const E=eM(h).join(":"),x=f?E+Bb:E,_=x+y;if(i.includes(_))continue;i.push(_);const T=s(y,S);for(let R=0;R<T.length;++R){const M=T[R];i.push(x+M)}a=d+(a.length>0?" "+a:a)}return a};function sM(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=zb(e))&&(r&&(r+=" "),r+=n);return r}const zb=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=zb(t[r]))&&(n&&(n+=" "),n+=e);return n};function iM(t,...e){let n,r,s,i=o;function o(l){const d=e.reduce((h,f)=>f(h),t());return n=tM(d),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const d=r(l);if(d)return d;const h=rM(l,n);return s(l,h),h}return function(){return i(sM.apply(null,arguments))}}const Qe=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Wb=/^\[(?:([a-z-]+):)?(.+)\]$/i,oM=/^\d+\/\d+$/,aM=new Set(["px","full","screen"]),lM=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,cM=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,uM=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,dM=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,hM=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Kr=t=>aa(t)||aM.has(t)||oM.test(t),ks=t=>Ba(t,"length",_M),aa=t=>!!t&&!Number.isNaN(Number(t)),Mm=t=>Ba(t,"number",aa),El=t=>!!t&&Number.isInteger(Number(t)),fM=t=>t.endsWith("%")&&aa(t.slice(0,-1)),ye=t=>Wb.test(t),Ps=t=>lM.test(t),mM=new Set(["length","size","percentage"]),pM=t=>Ba(t,mM,Hb),gM=t=>Ba(t,"position",Hb),vM=new Set(["image","url"]),yM=t=>Ba(t,vM,EM),wM=t=>Ba(t,"",xM),Tl=()=>!0,Ba=(t,e,n)=>{const r=Wb.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},_M=t=>cM.test(t)&&!uM.test(t),Hb=()=>!1,xM=t=>dM.test(t),EM=t=>hM.test(t),TM=()=>{const t=Qe("colors"),e=Qe("spacing"),n=Qe("blur"),r=Qe("brightness"),s=Qe("borderColor"),i=Qe("borderRadius"),o=Qe("borderSpacing"),a=Qe("borderWidth"),l=Qe("contrast"),d=Qe("grayscale"),h=Qe("hueRotate"),f=Qe("invert"),m=Qe("gap"),p=Qe("gradientColorStops"),S=Qe("gradientColorStopPositions"),y=Qe("inset"),E=Qe("margin"),x=Qe("opacity"),_=Qe("padding"),T=Qe("saturate"),R=Qe("scale"),M=Qe("sepia"),O=Qe("skew"),b=Qe("space"),C=Qe("translate"),I=()=>["auto","contain","none"],k=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto",ye,e],D=()=>[ye,e],P=()=>["",Kr,ks],W=()=>["auto",aa,ye],Y=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Q=()=>["solid","dashed","dotted","double","none"],B=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],j=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",ye],H=()=>["auto","avoid","all","avoid-page","page","left","right","column"],te=()=>[aa,ye];return{cacheSize:500,separator:":",theme:{colors:[Tl],spacing:[Kr,ks],blur:["none","",Ps,ye],brightness:te(),borderColor:[t],borderRadius:["none","","full",Ps,ye],borderSpacing:D(),borderWidth:P(),contrast:te(),grayscale:L(),hueRotate:te(),invert:L(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[fM,ks],inset:A(),margin:A(),opacity:te(),padding:D(),saturate:te(),scale:te(),sepia:L(),skew:te(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",ye]}],container:["container"],columns:[{columns:[Ps]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Y(),ye]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",El,ye]}],basis:[{basis:A()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ye]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",El,ye]}],"grid-cols":[{"grid-cols":[Tl]}],"col-start-end":[{col:["auto",{span:["full",El,ye]},ye]}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":[Tl]}],"row-start-end":[{row:["auto",{span:[El,ye]},ye]}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ye]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ye]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...j()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...j(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...j(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[E]}],mx:[{mx:[E]}],my:[{my:[E]}],ms:[{ms:[E]}],me:[{me:[E]}],mt:[{mt:[E]}],mr:[{mr:[E]}],mb:[{mb:[E]}],ml:[{ml:[E]}],"space-x":[{"space-x":[b]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[b]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ye,e]}],"min-w":[{"min-w":[ye,e,"min","max","fit"]}],"max-w":[{"max-w":[ye,e,"none","full","min","max","fit","prose",{screen:[Ps]},Ps]}],h:[{h:[ye,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ye,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ye,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ye,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ps,ks]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Mm]}],"font-family":[{font:[Tl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ye]}],"line-clamp":[{"line-clamp":["none",aa,Mm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Kr,ye]}],"list-image":[{"list-image":["none",ye]}],"list-style-type":[{list:["none","disc","decimal",ye]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Kr,ks]}],"underline-offset":[{"underline-offset":["auto",Kr,ye]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ye]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ye]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Y(),gM]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",pM]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},yM]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...Q(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:Q()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...Q()]}],"outline-offset":[{"outline-offset":[Kr,ye]}],"outline-w":[{outline:[Kr,ks]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Kr,ks]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ps,wM]}],"shadow-color":[{shadow:[Tl]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...B(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":B()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Ps,ye]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[T]}],sepia:[{sepia:[M]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[T]}],"backdrop-sepia":[{"backdrop-sepia":[M]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ye]}],duration:[{duration:te()}],ease:[{ease:["linear","in","out","in-out",ye]}],delay:[{delay:te()}],animate:[{animate:["none","spin","ping","pulse","bounce",ye]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[R]}],"scale-x":[{"scale-x":[R]}],"scale-y":[{"scale-y":[R]}],rotate:[{rotate:[El,ye]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ye]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ye]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ye]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Kr,ks,Mm]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},bM=iM(TM);function ue(...t){return bM(Ub(t))}const ug=Jv("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),re=v.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?$D:"button";return c.jsx(o,{className:ue(ug({variant:e,size:n,className:t})),ref:i,...s})});re.displayName="Button";const Be=v.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:ue("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Be.displayName="Card";const kt=v.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:ue("flex flex-col space-y-1.5 p-6",t),...e}));kt.displayName="CardHeader";const Pt=v.forwardRef(({className:t,...e},n)=>c.jsx("h3",{ref:n,className:ue("text-2xl font-semibold leading-none tracking-tight",t),...e}));Pt.displayName="CardTitle";const SM=v.forwardRef(({className:t,...e},n)=>c.jsx("p",{ref:n,className:ue("text-sm text-muted-foreground",t),...e}));SM.displayName="CardDescription";const ze=v.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:ue("p-6 pt-0",t),...e}));ze.displayName="CardContent";const CM=v.forwardRef(({className:t,...e},n)=>c.jsx("div",{ref:n,className:ue("flex items-center p-6 pt-0",t),...e}));CM.displayName="CardFooter";const K_="Focus Matrix",IM=()=>{};var Q_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},NM=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Gb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,d=l?t[s+2]:0,h=i>>2,f=(i&3)<<4|a>>4;let m=(a&15)<<2|d>>6,p=d&63;l||(p=64,o||(m=64)),r.push(n[h],n[f],n[m],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(qb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):NM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||d==null||f==null)throw new kM;const m=i<<2|a>>4;if(r.push(m),d!==64){const p=a<<4&240|d>>2;if(r.push(p),f!==64){const S=d<<6&192|f;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class kM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const PM=function(t){const e=qb(t);return Gb.encodeByteArray(e,!0)},th=function(t){return PM(t).replace(/\./g,"")},Kb=function(t){try{return Gb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AM=()=>RM().__FIREBASE_DEFAULTS__,DM=()=>{if(typeof process>"u"||typeof Q_>"u")return;const t=Q_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},MM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Kb(t[1]);return e&&JSON.parse(e)},nf=()=>{try{return IM()||AM()||DM()||MM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Qb=t=>{var e,n;return(n=(e=nf())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},OM=t=>{const e=Qb(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Yb=()=>{var t;return(t=nf())==null?void 0:t.config},Xb=t=>{var e;return(e=nf())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function za(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Jb(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LM(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[th(JSON.stringify(n)),th(JSON.stringify(o)),""].join(".")}const zl={};function VM(){const t={prod:[],emulator:[]};for(const e of Object.keys(zl))zl[e]?t.emulator.push(e):t.prod.push(e);return t}function FM(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Y_=!1;function Zb(t,e){if(typeof window>"u"||typeof document>"u"||!za(window.location.host)||zl[t]===e||zl[t]||Y_)return;zl[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",i=VM().prod.length>0;function o(){const m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function l(m,p){m.setAttribute("width","24"),m.setAttribute("id",p),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function d(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{Y_=!0,o()},m}function h(m,p){m.setAttribute("id",p),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function f(){const m=FM(r),p=n("text"),S=document.getElementById(p)||document.createElement("span"),y=n("learnmore"),E=document.getElementById(y)||document.createElement("a"),x=n("preprendIcon"),_=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const T=m.element;a(T),h(E,y);const R=d();l(_,x),T.append(_,S,E,R),document.body.appendChild(T)}i?(S.innerText="Preview backend disconnected.",_.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(_.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function UM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gt())}function $M(){var e;const t=(e=nf())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function BM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function zM(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function WM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function HM(){const t=Gt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function qM(){return!$M()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function GM(){try{return typeof indexedDB=="object"}catch{return!1}}function KM(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QM="FirebaseError";class ws extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=QM,Object.setPrototypeOf(this,ws.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lc.prototype.create)}}class Lc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?YM(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new ws(s,a,r)}}function YM(t,e){return t.replace(XM,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const XM=/\{\$([^}]+)}/g;function JM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function oo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(X_(i)&&X_(o)){if(!oo(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function X_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ZM(t,e){const n=new eO(t,e);return n.subscribe.bind(n)}class eO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");tO(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Om),s.error===void 0&&(s.error=Om),s.complete===void 0&&(s.complete=Om);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Om(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(t){return t&&t._delegate?t._delegate:t}class ao{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new jM;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(sO(e))try{this.getOrInitializeService({instanceIdentifier:Bi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Bi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bi){return this.instances.has(e)}getOptions(e=Bi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:rO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Bi){return this.component?this.component.multipleInstances?e:Bi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function rO(t){return t===Bi?void 0:t}function sO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new nO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Se;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Se||(Se={}));const oO={debug:Se.DEBUG,verbose:Se.VERBOSE,info:Se.INFO,warn:Se.WARN,error:Se.ERROR,silent:Se.SILENT},aO=Se.INFO,lO={[Se.DEBUG]:"log",[Se.VERBOSE]:"log",[Se.INFO]:"info",[Se.WARN]:"warn",[Se.ERROR]:"error"},cO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=lO[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ey{constructor(e){this.name=e,this._logLevel=aO,this._logHandler=cO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?oO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Se.DEBUG,...e),this._logHandler(this,Se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Se.VERBOSE,...e),this._logHandler(this,Se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Se.INFO,...e),this._logHandler(this,Se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Se.WARN,...e),this._logHandler(this,Se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Se.ERROR,...e),this._logHandler(this,Se.ERROR,...e)}}const uO=(t,e)=>e.some(n=>t instanceof n);let J_,Z_;function dO(){return J_||(J_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function hO(){return Z_||(Z_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const eS=new WeakMap,dg=new WeakMap,tS=new WeakMap,jm=new WeakMap,ty=new WeakMap;function fO(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(ri(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&eS.set(n,t)}).catch(()=>{}),ty.set(e,t),e}function mO(t){if(dg.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});dg.set(t,e)}let hg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return dg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||tS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ri(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function pO(t){hg=t(hg)}function gO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Lm(this),e,...n);return tS.set(r,e.sort?e.sort():[e]),ri(r)}:hO().includes(t)?function(...e){return t.apply(Lm(this),e),ri(eS.get(this))}:function(...e){return ri(t.apply(Lm(this),e))}}function vO(t){return typeof t=="function"?gO(t):(t instanceof IDBTransaction&&mO(t),uO(t,dO())?new Proxy(t,hg):t)}function ri(t){if(t instanceof IDBRequest)return fO(t);if(jm.has(t))return jm.get(t);const e=vO(t);return e!==t&&(jm.set(t,e),ty.set(e,t)),e}const Lm=t=>ty.get(t);function yO(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=ri(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ri(o.result),l.oldVersion,l.newVersion,ri(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}const wO=["get","getKey","getAll","getAllKeys","count"],_O=["put","add","delete","clear"],Vm=new Map;function ex(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Vm.get(e))return Vm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=_O.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||wO.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let d=l.store;return r&&(d=d.index(a.shift())),(await Promise.all([d[n](...a),s&&l.done]))[0]};return Vm.set(e,i),i}pO(t=>({...t,get:(e,n,r)=>ex(e,n)||t.get(e,n,r),has:(e,n)=>!!ex(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(EO(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function EO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const fg="@firebase/app",tx="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us=new ey("@firebase/app"),TO="@firebase/app-compat",bO="@firebase/analytics-compat",SO="@firebase/analytics",CO="@firebase/app-check-compat",IO="@firebase/app-check",NO="@firebase/auth",kO="@firebase/auth-compat",PO="@firebase/database",RO="@firebase/data-connect",AO="@firebase/database-compat",DO="@firebase/functions",MO="@firebase/functions-compat",OO="@firebase/installations",jO="@firebase/installations-compat",LO="@firebase/messaging",VO="@firebase/messaging-compat",FO="@firebase/performance",UO="@firebase/performance-compat",$O="@firebase/remote-config",BO="@firebase/remote-config-compat",zO="@firebase/storage",WO="@firebase/storage-compat",HO="@firebase/firestore",qO="@firebase/ai",GO="@firebase/firestore-compat",KO="firebase",QO="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mg="[DEFAULT]",YO={[fg]:"fire-core",[TO]:"fire-core-compat",[SO]:"fire-analytics",[bO]:"fire-analytics-compat",[IO]:"fire-app-check",[CO]:"fire-app-check-compat",[NO]:"fire-auth",[kO]:"fire-auth-compat",[PO]:"fire-rtdb",[RO]:"fire-data-connect",[AO]:"fire-rtdb-compat",[DO]:"fire-fn",[MO]:"fire-fn-compat",[OO]:"fire-iid",[jO]:"fire-iid-compat",[LO]:"fire-fcm",[VO]:"fire-fcm-compat",[FO]:"fire-perf",[UO]:"fire-perf-compat",[$O]:"fire-rc",[BO]:"fire-rc-compat",[zO]:"fire-gcs",[WO]:"fire-gcs-compat",[HO]:"fire-fst",[GO]:"fire-fst-compat",[qO]:"fire-vertex","fire-js":"fire-js",[KO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nh=new Map,XO=new Map,pg=new Map;function nx(t,e){try{t.container.addComponent(e)}catch(n){us.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ba(t){const e=t.name;if(pg.has(e))return us.debug(`There were multiple attempts to register component ${e}.`),!1;pg.set(e,t);for(const n of nh.values())nx(n,t);for(const n of XO.values())nx(n,t);return!0}function ny(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function yr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},si=new Lc("app","Firebase",JO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ao("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw si.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wa=QO;function nS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:mg,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw si.create("bad-app-name",{appName:String(s)});if(n||(n=Yb()),!n)throw si.create("no-options");const i=nh.get(s);if(i){if(oo(n,i.options)&&oo(r,i.config))return i;throw si.create("duplicate-app",{appName:s})}const o=new iO(s);for(const l of pg.values())o.addComponent(l);const a=new ZO(n,r,o);return nh.set(s,a),a}function rS(t=mg){const e=nh.get(t);if(!e&&t===mg&&Yb())return nS();if(!e)throw si.create("no-app",{appName:t});return e}function ii(t,e,n){let r=YO[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),us.warn(o.join(" "));return}ba(new ao(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ej="firebase-heartbeat-database",tj=1,hc="firebase-heartbeat-store";let Fm=null;function sS(){return Fm||(Fm=yO(ej,tj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(hc)}catch(n){console.warn(n)}}}}).catch(t=>{throw si.create("idb-open",{originalErrorMessage:t.message})})),Fm}async function nj(t){try{const n=(await sS()).transaction(hc),r=await n.objectStore(hc).get(iS(t));return await n.done,r}catch(e){if(e instanceof ws)us.warn(e.message);else{const n=si.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});us.warn(n.message)}}}async function rx(t,e){try{const r=(await sS()).transaction(hc,"readwrite");await r.objectStore(hc).put(e,iS(t)),await r.done}catch(n){if(n instanceof ws)us.warn(n.message);else{const r=si.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});us.warn(r.message)}}}function iS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rj=1024,sj=30;class ij{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new aj(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=sx();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>sj){const o=lj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){us.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=sx(),{heartbeatsToSend:r,unsentEntries:s}=oj(this._heartbeatsCache.heartbeats),i=th(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return us.warn(n),""}}}function sx(){return new Date().toISOString().substring(0,10)}function oj(t,e=rj){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),ix(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),ix(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class aj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return GM()?KM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await nj(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return rx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return rx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function ix(t){return th(JSON.stringify({version:2,heartbeats:t})).length}function lj(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cj(t){ba(new ao("platform-logger",e=>new xO(e),"PRIVATE")),ba(new ao("heartbeat",e=>new ij(e),"PRIVATE")),ii(fg,tx,t),ii(fg,tx,"esm2020"),ii("fire-js","")}cj("");var ox=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var oi,oS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,C){function I(){}I.prototype=C.prototype,b.F=C.prototype,b.prototype=new I,b.prototype.constructor=b,b.D=function(k,A,D){for(var P=Array(arguments.length-2),W=2;W<arguments.length;W++)P[W-2]=arguments[W];return C.prototype[A].apply(k,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(b,C,I){I||(I=0);const k=Array(16);if(typeof C=="string")for(var A=0;A<16;++A)k[A]=C.charCodeAt(I++)|C.charCodeAt(I++)<<8|C.charCodeAt(I++)<<16|C.charCodeAt(I++)<<24;else for(A=0;A<16;++A)k[A]=C[I++]|C[I++]<<8|C[I++]<<16|C[I++]<<24;C=b.g[0],I=b.g[1],A=b.g[2];let D=b.g[3],P;P=C+(D^I&(A^D))+k[0]+3614090360&4294967295,C=I+(P<<7&4294967295|P>>>25),P=D+(A^C&(I^A))+k[1]+3905402710&4294967295,D=C+(P<<12&4294967295|P>>>20),P=A+(I^D&(C^I))+k[2]+606105819&4294967295,A=D+(P<<17&4294967295|P>>>15),P=I+(C^A&(D^C))+k[3]+3250441966&4294967295,I=A+(P<<22&4294967295|P>>>10),P=C+(D^I&(A^D))+k[4]+4118548399&4294967295,C=I+(P<<7&4294967295|P>>>25),P=D+(A^C&(I^A))+k[5]+1200080426&4294967295,D=C+(P<<12&4294967295|P>>>20),P=A+(I^D&(C^I))+k[6]+2821735955&4294967295,A=D+(P<<17&4294967295|P>>>15),P=I+(C^A&(D^C))+k[7]+4249261313&4294967295,I=A+(P<<22&4294967295|P>>>10),P=C+(D^I&(A^D))+k[8]+1770035416&4294967295,C=I+(P<<7&4294967295|P>>>25),P=D+(A^C&(I^A))+k[9]+2336552879&4294967295,D=C+(P<<12&4294967295|P>>>20),P=A+(I^D&(C^I))+k[10]+4294925233&4294967295,A=D+(P<<17&4294967295|P>>>15),P=I+(C^A&(D^C))+k[11]+2304563134&4294967295,I=A+(P<<22&4294967295|P>>>10),P=C+(D^I&(A^D))+k[12]+1804603682&4294967295,C=I+(P<<7&4294967295|P>>>25),P=D+(A^C&(I^A))+k[13]+4254626195&4294967295,D=C+(P<<12&4294967295|P>>>20),P=A+(I^D&(C^I))+k[14]+2792965006&4294967295,A=D+(P<<17&4294967295|P>>>15),P=I+(C^A&(D^C))+k[15]+1236535329&4294967295,I=A+(P<<22&4294967295|P>>>10),P=C+(A^D&(I^A))+k[1]+4129170786&4294967295,C=I+(P<<5&4294967295|P>>>27),P=D+(I^A&(C^I))+k[6]+3225465664&4294967295,D=C+(P<<9&4294967295|P>>>23),P=A+(C^I&(D^C))+k[11]+643717713&4294967295,A=D+(P<<14&4294967295|P>>>18),P=I+(D^C&(A^D))+k[0]+3921069994&4294967295,I=A+(P<<20&4294967295|P>>>12),P=C+(A^D&(I^A))+k[5]+3593408605&4294967295,C=I+(P<<5&4294967295|P>>>27),P=D+(I^A&(C^I))+k[10]+38016083&4294967295,D=C+(P<<9&4294967295|P>>>23),P=A+(C^I&(D^C))+k[15]+3634488961&4294967295,A=D+(P<<14&4294967295|P>>>18),P=I+(D^C&(A^D))+k[4]+3889429448&4294967295,I=A+(P<<20&4294967295|P>>>12),P=C+(A^D&(I^A))+k[9]+568446438&4294967295,C=I+(P<<5&4294967295|P>>>27),P=D+(I^A&(C^I))+k[14]+3275163606&4294967295,D=C+(P<<9&4294967295|P>>>23),P=A+(C^I&(D^C))+k[3]+4107603335&4294967295,A=D+(P<<14&4294967295|P>>>18),P=I+(D^C&(A^D))+k[8]+1163531501&4294967295,I=A+(P<<20&4294967295|P>>>12),P=C+(A^D&(I^A))+k[13]+2850285829&4294967295,C=I+(P<<5&4294967295|P>>>27),P=D+(I^A&(C^I))+k[2]+4243563512&4294967295,D=C+(P<<9&4294967295|P>>>23),P=A+(C^I&(D^C))+k[7]+1735328473&4294967295,A=D+(P<<14&4294967295|P>>>18),P=I+(D^C&(A^D))+k[12]+2368359562&4294967295,I=A+(P<<20&4294967295|P>>>12),P=C+(I^A^D)+k[5]+4294588738&4294967295,C=I+(P<<4&4294967295|P>>>28),P=D+(C^I^A)+k[8]+2272392833&4294967295,D=C+(P<<11&4294967295|P>>>21),P=A+(D^C^I)+k[11]+1839030562&4294967295,A=D+(P<<16&4294967295|P>>>16),P=I+(A^D^C)+k[14]+4259657740&4294967295,I=A+(P<<23&4294967295|P>>>9),P=C+(I^A^D)+k[1]+2763975236&4294967295,C=I+(P<<4&4294967295|P>>>28),P=D+(C^I^A)+k[4]+1272893353&4294967295,D=C+(P<<11&4294967295|P>>>21),P=A+(D^C^I)+k[7]+4139469664&4294967295,A=D+(P<<16&4294967295|P>>>16),P=I+(A^D^C)+k[10]+3200236656&4294967295,I=A+(P<<23&4294967295|P>>>9),P=C+(I^A^D)+k[13]+681279174&4294967295,C=I+(P<<4&4294967295|P>>>28),P=D+(C^I^A)+k[0]+3936430074&4294967295,D=C+(P<<11&4294967295|P>>>21),P=A+(D^C^I)+k[3]+3572445317&4294967295,A=D+(P<<16&4294967295|P>>>16),P=I+(A^D^C)+k[6]+76029189&4294967295,I=A+(P<<23&4294967295|P>>>9),P=C+(I^A^D)+k[9]+3654602809&4294967295,C=I+(P<<4&4294967295|P>>>28),P=D+(C^I^A)+k[12]+3873151461&4294967295,D=C+(P<<11&4294967295|P>>>21),P=A+(D^C^I)+k[15]+530742520&4294967295,A=D+(P<<16&4294967295|P>>>16),P=I+(A^D^C)+k[2]+3299628645&4294967295,I=A+(P<<23&4294967295|P>>>9),P=C+(A^(I|~D))+k[0]+4096336452&4294967295,C=I+(P<<6&4294967295|P>>>26),P=D+(I^(C|~A))+k[7]+1126891415&4294967295,D=C+(P<<10&4294967295|P>>>22),P=A+(C^(D|~I))+k[14]+2878612391&4294967295,A=D+(P<<15&4294967295|P>>>17),P=I+(D^(A|~C))+k[5]+4237533241&4294967295,I=A+(P<<21&4294967295|P>>>11),P=C+(A^(I|~D))+k[12]+1700485571&4294967295,C=I+(P<<6&4294967295|P>>>26),P=D+(I^(C|~A))+k[3]+2399980690&4294967295,D=C+(P<<10&4294967295|P>>>22),P=A+(C^(D|~I))+k[10]+4293915773&4294967295,A=D+(P<<15&4294967295|P>>>17),P=I+(D^(A|~C))+k[1]+2240044497&4294967295,I=A+(P<<21&4294967295|P>>>11),P=C+(A^(I|~D))+k[8]+1873313359&4294967295,C=I+(P<<6&4294967295|P>>>26),P=D+(I^(C|~A))+k[15]+4264355552&4294967295,D=C+(P<<10&4294967295|P>>>22),P=A+(C^(D|~I))+k[6]+2734768916&4294967295,A=D+(P<<15&4294967295|P>>>17),P=I+(D^(A|~C))+k[13]+1309151649&4294967295,I=A+(P<<21&4294967295|P>>>11),P=C+(A^(I|~D))+k[4]+4149444226&4294967295,C=I+(P<<6&4294967295|P>>>26),P=D+(I^(C|~A))+k[11]+3174756917&4294967295,D=C+(P<<10&4294967295|P>>>22),P=A+(C^(D|~I))+k[2]+718787259&4294967295,A=D+(P<<15&4294967295|P>>>17),P=I+(D^(A|~C))+k[9]+3951481745&4294967295,b.g[0]=b.g[0]+C&4294967295,b.g[1]=b.g[1]+(A+(P<<21&4294967295|P>>>11))&4294967295,b.g[2]=b.g[2]+A&4294967295,b.g[3]=b.g[3]+D&4294967295}r.prototype.v=function(b,C){C===void 0&&(C=b.length);const I=C-this.blockSize,k=this.C;let A=this.h,D=0;for(;D<C;){if(A==0)for(;D<=I;)s(this,b,D),D+=this.blockSize;if(typeof b=="string"){for(;D<C;)if(k[A++]=b.charCodeAt(D++),A==this.blockSize){s(this,k),A=0;break}}else for(;D<C;)if(k[A++]=b[D++],A==this.blockSize){s(this,k),A=0;break}}this.h=A,this.o+=C},r.prototype.A=function(){var b=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);b[0]=128;for(var C=1;C<b.length-8;++C)b[C]=0;C=this.o*8;for(var I=b.length-8;I<b.length;++I)b[I]=C&255,C/=256;for(this.v(b),b=Array(16),C=0,I=0;I<4;++I)for(let k=0;k<32;k+=8)b[C++]=this.g[I]>>>k&255;return b};function i(b,C){var I=a;return Object.prototype.hasOwnProperty.call(I,b)?I[b]:I[b]=C(b)}function o(b,C){this.h=C;const I=[];let k=!0;for(let A=b.length-1;A>=0;A--){const D=b[A]|0;k&&D==C||(I[A]=D,k=!1)}this.g=I}var a={};function l(b){return-128<=b&&b<128?i(b,function(C){return new o([C|0],C<0?-1:0)}):new o([b|0],b<0?-1:0)}function d(b){if(isNaN(b)||!isFinite(b))return f;if(b<0)return E(d(-b));const C=[];let I=1;for(let k=0;b>=I;k++)C[k]=b/I|0,I*=4294967296;return new o(C,0)}function h(b,C){if(b.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(b.charAt(0)=="-")return E(h(b.substring(1),C));if(b.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=d(Math.pow(C,8));let k=f;for(let D=0;D<b.length;D+=8){var A=Math.min(8,b.length-D);const P=parseInt(b.substring(D,D+A),C);A<8?(A=d(Math.pow(C,A)),k=k.j(A).add(d(P))):(k=k.j(I),k=k.add(d(P)))}return k}var f=l(0),m=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(y(this))return-E(this).m();let b=0,C=1;for(let I=0;I<this.g.length;I++){const k=this.i(I);b+=(k>=0?k:4294967296+k)*C,C*=4294967296}return b},t.toString=function(b){if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(S(this))return"0";if(y(this))return"-"+E(this).toString(b);const C=d(Math.pow(b,6));var I=this;let k="";for(;;){const A=R(I,C).g;I=x(I,A.j(C));let D=((I.g.length>0?I.g[0]:I.h)>>>0).toString(b);if(I=A,S(I))return D+k;for(;D.length<6;)D="0"+D;k=D+k}},t.i=function(b){return b<0?0:b<this.g.length?this.g[b]:this.h};function S(b){if(b.h!=0)return!1;for(let C=0;C<b.g.length;C++)if(b.g[C]!=0)return!1;return!0}function y(b){return b.h==-1}t.l=function(b){return b=x(this,b),y(b)?-1:S(b)?0:1};function E(b){const C=b.g.length,I=[];for(let k=0;k<C;k++)I[k]=~b.g[k];return new o(I,~b.h).add(m)}t.abs=function(){return y(this)?E(this):this},t.add=function(b){const C=Math.max(this.g.length,b.g.length),I=[];let k=0;for(let A=0;A<=C;A++){let D=k+(this.i(A)&65535)+(b.i(A)&65535),P=(D>>>16)+(this.i(A)>>>16)+(b.i(A)>>>16);k=P>>>16,D&=65535,P&=65535,I[A]=P<<16|D}return new o(I,I[I.length-1]&-2147483648?-1:0)};function x(b,C){return b.add(E(C))}t.j=function(b){if(S(this)||S(b))return f;if(y(this))return y(b)?E(this).j(E(b)):E(E(this).j(b));if(y(b))return E(this.j(E(b)));if(this.l(p)<0&&b.l(p)<0)return d(this.m()*b.m());const C=this.g.length+b.g.length,I=[];for(var k=0;k<2*C;k++)I[k]=0;for(k=0;k<this.g.length;k++)for(let A=0;A<b.g.length;A++){const D=this.i(k)>>>16,P=this.i(k)&65535,W=b.i(A)>>>16,Y=b.i(A)&65535;I[2*k+2*A]+=P*Y,_(I,2*k+2*A),I[2*k+2*A+1]+=D*Y,_(I,2*k+2*A+1),I[2*k+2*A+1]+=P*W,_(I,2*k+2*A+1),I[2*k+2*A+2]+=D*W,_(I,2*k+2*A+2)}for(b=0;b<C;b++)I[b]=I[2*b+1]<<16|I[2*b];for(b=C;b<2*C;b++)I[b]=0;return new o(I,0)};function _(b,C){for(;(b[C]&65535)!=b[C];)b[C+1]+=b[C]>>>16,b[C]&=65535,C++}function T(b,C){this.g=b,this.h=C}function R(b,C){if(S(C))throw Error("division by zero");if(S(b))return new T(f,f);if(y(b))return C=R(E(b),C),new T(E(C.g),E(C.h));if(y(C))return C=R(b,E(C)),new T(E(C.g),C.h);if(b.g.length>30){if(y(b)||y(C))throw Error("slowDivide_ only works with positive integers.");for(var I=m,k=C;k.l(b)<=0;)I=M(I),k=M(k);var A=O(I,1),D=O(k,1);for(k=O(k,2),I=O(I,2);!S(k);){var P=D.add(k);P.l(b)<=0&&(A=A.add(I),D=P),k=O(k,1),I=O(I,1)}return C=x(b,A.j(C)),new T(A,C)}for(A=f;b.l(C)>=0;){for(I=Math.max(1,Math.floor(b.m()/C.m())),k=Math.ceil(Math.log(I)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),D=d(I),P=D.j(C);y(P)||P.l(b)>0;)I-=k,D=d(I),P=D.j(C);S(D)&&(D=m),A=A.add(D),b=x(b,P)}return new T(A,b)}t.B=function(b){return R(this,b).h},t.and=function(b){const C=Math.max(this.g.length,b.g.length),I=[];for(let k=0;k<C;k++)I[k]=this.i(k)&b.i(k);return new o(I,this.h&b.h)},t.or=function(b){const C=Math.max(this.g.length,b.g.length),I=[];for(let k=0;k<C;k++)I[k]=this.i(k)|b.i(k);return new o(I,this.h|b.h)},t.xor=function(b){const C=Math.max(this.g.length,b.g.length),I=[];for(let k=0;k<C;k++)I[k]=this.i(k)^b.i(k);return new o(I,this.h^b.h)};function M(b){const C=b.g.length+1,I=[];for(let k=0;k<C;k++)I[k]=b.i(k)<<1|b.i(k-1)>>>31;return new o(I,b.h)}function O(b,C){const I=C>>5;C%=32;const k=b.g.length-I,A=[];for(let D=0;D<k;D++)A[D]=C>0?b.i(D+I)>>>C|b.i(D+I+1)<<32-C:b.i(D+I);return new o(A,b.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,oS=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=h,oi=o}).apply(typeof ox<"u"?ox:typeof self<"u"?self:typeof window<"u"?window:{});var Uu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var aS,Nl,lS,hd,gg,cS,uS,dS;(function(){var t,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Uu=="object"&&Uu];for(var g=0;g<u.length;++g){var w=u[g];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=n(this);function s(u,g){if(g)e:{var w=r;u=u.split(".");for(var N=0;N<u.length-1;N++){var V=u[N];if(!(V in w))break e;w=w[V]}u=u[u.length-1],N=w[u],g=g(N),g!=N&&g!=null&&e(w,u,{configurable:!0,writable:!0,value:g})}}s("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(u){return u||function(g){var w=[],N;for(N in g)Object.prototype.hasOwnProperty.call(g,N)&&w.push([N,g[N]]);return w}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function a(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function l(u,g,w){return u.call.apply(u.bind,arguments)}function d(u,g,w){return d=l,d.apply(null,arguments)}function h(u,g){var w=Array.prototype.slice.call(arguments,1);return function(){var N=w.slice();return N.push.apply(N,arguments),u.apply(this,N)}}function f(u,g){function w(){}w.prototype=g.prototype,u.Z=g.prototype,u.prototype=new w,u.prototype.constructor=u,u.Ob=function(N,V,F){for(var K=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)K[_e-2]=arguments[_e];return g.prototype[V].apply(N,K)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function p(u){const g=u.length;if(g>0){const w=Array(g);for(let N=0;N<g;N++)w[N]=u[N];return w}return[]}function S(u,g){for(let N=1;N<arguments.length;N++){const V=arguments[N];var w=typeof V;if(w=w!="object"?w:V?Array.isArray(V)?"array":w:"null",w=="array"||w=="object"&&typeof V.length=="number"){w=u.length||0;const F=V.length||0;u.length=w+F;for(let K=0;K<F;K++)u[w+K]=V[K]}else u.push(V)}}class y{constructor(g,w){this.i=g,this.j=w,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function E(u){o.setTimeout(()=>{throw u},0)}function x(){var u=b;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class _{constructor(){this.h=this.g=null}add(g,w){const N=T.get();N.set(g,w),this.h?this.h.next=N:this.g=N,this.h=N}}var T=new y(()=>new R,u=>u.reset());class R{constructor(){this.next=this.g=this.h=null}set(g,w){this.h=g,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let M,O=!1,b=new _,C=()=>{const u=Promise.resolve(void 0);M=()=>{u.then(I)}};function I(){for(var u;u=x();){try{u.h.call(u.g)}catch(w){E(w)}var g=T;g.j(u),g.h<100&&(g.h++,u.next=g.g,g.g=u)}O=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function A(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}A.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const w=()=>{};o.addEventListener("test",w,g),o.removeEventListener("test",w,g)}catch{}return u}();function P(u){return/^[\s\xa0]*$/.test(u)}function W(u,g){A.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,g)}f(W,A),W.prototype.init=function(u,g){const w=this.type=u.type,N=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget,g||(w=="mouseover"?g=u.fromElement:w=="mouseout"&&(g=u.toElement)),this.relatedTarget=g,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&W.Z.h.call(this)},W.prototype.h=function(){W.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Y="closure_listenable_"+(Math.random()*1e6|0),Q=0;function B(u,g,w,N,V){this.listener=u,this.proxy=null,this.src=g,this.type=w,this.capture=!!N,this.ha=V,this.key=++Q,this.da=this.fa=!1}function j(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function L(u,g,w){for(const N in u)g.call(w,u[N],N,u)}function H(u,g){for(const w in u)g.call(void 0,u[w],w,u)}function te(u){const g={};for(const w in u)g[w]=u[w];return g}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pe(u,g){let w,N;for(let V=1;V<arguments.length;V++){N=arguments[V];for(w in N)u[w]=N[w];for(let F=0;F<ee.length;F++)w=ee[F],Object.prototype.hasOwnProperty.call(N,w)&&(u[w]=N[w])}}function ae(u){this.src=u,this.g={},this.h=0}ae.prototype.add=function(u,g,w,N,V){const F=u.toString();u=this.g[F],u||(u=this.g[F]=[],this.h++);const K=Me(u,g,N,V);return K>-1?(g=u[K],w||(g.fa=!1)):(g=new B(g,this.src,F,!!N,V),g.fa=w,u.push(g)),g};function De(u,g){const w=g.type;if(w in u.g){var N=u.g[w],V=Array.prototype.indexOf.call(N,g,void 0),F;(F=V>=0)&&Array.prototype.splice.call(N,V,1),F&&(j(g),u.g[w].length==0&&(delete u.g[w],u.h--))}}function Me(u,g,w,N){for(let V=0;V<u.length;++V){const F=u[V];if(!F.da&&F.listener==g&&F.capture==!!w&&F.ha==N)return V}return-1}var G="closure_lm_"+(Math.random()*1e6|0),Ee={};function Ne(u,g,w,N,V){if(Array.isArray(g)){for(let F=0;F<g.length;F++)Ne(u,g[F],w,N,V);return null}return w=_s(w),u&&u[Y]?u.J(g,w,a(N)?!!N.capture:!1,V):Te(u,g,w,!1,N,V)}function Te(u,g,w,N,V,F){if(!g)throw Error("Invalid event type");const K=a(V)?!!V.capture:!!V;let _e=kn(u);if(_e||(u[G]=_e=new ae(u)),w=_e.add(g,w,N,K,F),w.proxy)return w;if(N=be(),w.proxy=N,N.src=u,N.listener=w,u.addEventListener)D||(V=K),V===void 0&&(V=!1),u.addEventListener(g.toString(),N,V);else if(u.attachEvent)u.attachEvent(Yt(g.toString()),N);else if(u.addListener&&u.removeListener)u.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return w}function be(){function u(w){return g.call(u.src,u.listener,w)}const g=Hr;return u}function ke(u,g,w,N,V){if(Array.isArray(g))for(var F=0;F<g.length;F++)ke(u,g[F],w,N,V);else N=a(N)?!!N.capture:!!N,w=_s(w),u&&u[Y]?(u=u.i,F=String(g).toString(),F in u.g&&(g=u.g[F],w=Me(g,w,N,V),w>-1&&(j(g[w]),Array.prototype.splice.call(g,w,1),g.length==0&&(delete u.g[F],u.h--)))):u&&(u=kn(u))&&(g=u.g[g.toString()],u=-1,g&&(u=Me(g,w,N,V)),(w=u>-1?g[u]:null)&&dt(w))}function dt(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[Y])De(g.i,u);else{var w=u.type,N=u.proxy;g.removeEventListener?g.removeEventListener(w,N,u.capture):g.detachEvent?g.detachEvent(Yt(w),N):g.addListener&&g.removeListener&&g.removeListener(N),(w=kn(g))?(De(w,u),w.h==0&&(w.src=null,g[G]=null)):j(u)}}}function Yt(u){return u in Ee?Ee[u]:Ee[u]="on"+u}function Hr(u,g){if(u.da)u=!0;else{g=new W(g,this);const w=u.listener,N=u.ha||u.src;u.fa&&dt(u),u=w.call(N,g)}return u}function kn(u){return u=u[G],u instanceof ae?u:null}var Un="__closure_events_fn_"+(Math.random()*1e9>>>0);function _s(u){return typeof u=="function"?u:(u[Un]||(u[Un]=function(g){return u.handleEvent(g)}),u[Un])}function et(){k.call(this),this.i=new ae(this),this.M=this,this.G=null}f(et,k),et.prototype[Y]=!0,et.prototype.removeEventListener=function(u,g,w,N){ke(this,u,g,w,N)};function bt(u,g){var w,N=u.G;if(N)for(w=[];N;N=N.G)w.push(N);if(u=u.M,N=g.type||g,typeof g=="string")g=new A(g,u);else if(g instanceof A)g.target=g.target||u;else{var V=g;g=new A(N,u),pe(g,V)}V=!0;let F,K;if(w)for(K=w.length-1;K>=0;K--)F=g.g=w[K],V=lr(F,N,!0,g)&&V;if(F=g.g=u,V=lr(F,N,!0,g)&&V,V=lr(F,N,!1,g)&&V,w)for(K=0;K<w.length;K++)F=g.g=w[K],V=lr(F,N,!1,g)&&V}et.prototype.N=function(){if(et.Z.N.call(this),this.i){var u=this.i;for(const g in u.g){const w=u.g[g];for(let N=0;N<w.length;N++)j(w[N]);delete u.g[g],u.h--}}this.G=null},et.prototype.J=function(u,g,w,N){return this.i.add(String(u),g,!1,w,N)},et.prototype.K=function(u,g,w,N){return this.i.add(String(u),g,!0,w,N)};function lr(u,g,w,N){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();let V=!0;for(let F=0;F<g.length;++F){const K=g[F];if(K&&!K.da&&K.capture==w){const _e=K.listener,_t=K.ha||K.src;K.fa&&De(u.i,K),V=_e.call(_t,N)!==!1&&V}}return V&&!N.defaultPrevented}function lu(u,g){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=d(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:o.setTimeout(u,g||0)}function cr(u){u.g=lu(()=>{u.g=null,u.i&&(u.i=!1,cr(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class Hf extends k{constructor(g,w){super(),this.m=g,this.l=w,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:cr(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ai(u){k.call(this),this.h=u,this.g={}}f(Ai,k);var Xt=[];function qr(u){L(u.g,function(g,w){this.g.hasOwnProperty(w)&&dt(g)},u),u.g={}}Ai.prototype.N=function(){Ai.Z.N.call(this),qr(this)},Ai.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var el=o.JSON.stringify,qf=o.JSON.parse,Io=class{stringify(u){return o.JSON.stringify(u,void 0)}parse(u){return o.JSON.parse(u,void 0)}};function cu(){}function tl(){}var Gr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ur(){A.call(this,"d")}f(ur,A);function No(){A.call(this,"c")}f(No,A);var sn={},uu=null;function ko(){return uu=uu||new et}sn.Ia="serverreachability";function nl(u){A.call(this,sn.Ia,u)}f(nl,A);function xs(u){const g=ko();bt(g,new nl(g))}sn.STAT_EVENT="statevent";function du(u,g){A.call(this,sn.STAT_EVENT,u),this.stat=g}f(du,A);function wt(u){const g=ko();bt(g,new du(g,u))}sn.Ja="timingevent";function $n(u,g){A.call(this,sn.Ja,u),this.size=g}f($n,A);function Di(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){u()},g)}function le(){this.g=!0}le.prototype.ua=function(){this.g=!1};function je(u,g,w,N,V,F){u.info(function(){if(u.g)if(F){var K="",_e=F.split("&");for(let $e=0;$e<_e.length;$e++){var _t=_e[$e].split("=");if(_t.length>1){const Ct=_t[0];_t=_t[1];const fr=Ct.split("_");K=fr.length>=2&&fr[1]=="type"?K+(Ct+"="+_t+"&"):K+(Ct+"=redacted&")}}}else K=null;else K=F;return"XMLHTTP REQ ("+N+") [attempt "+V+"]: "+g+`
`+w+`
`+K})}function We(u,g,w,N,V,F,K){u.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+V+"]: "+g+`
`+w+`
`+F+" "+K})}function St(u,g,w,N){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+dr(u,w)+(N?" "+N:"")})}function vn(u,g){u.info(function(){return"TIMEOUT: "+g})}le.prototype.info=function(){};function dr(u,g){if(!u.g)return g;if(!g)return null;try{const F=JSON.parse(g);if(F){for(u=0;u<F.length;u++)if(Array.isArray(F[u])){var w=F[u];if(!(w.length<2)){var N=w[1];if(Array.isArray(N)&&!(N.length<1)){var V=N[0];if(V!="noop"&&V!="stop"&&V!="close")for(let K=1;K<N.length;K++)N[K]=""}}}}return el(F)}catch{return g}}var Pn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},on={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Bn;function Gf(){}f(Gf,cu),Gf.prototype.g=function(){return new XMLHttpRequest},Bn=new Gf;function rl(u){return encodeURIComponent(String(u))}function JP(u){var g=1;u=u.split(":");const w=[];for(;g>0&&u.length;)w.push(u.shift()),g--;return u.length&&w.push(u.join(":")),w}function Es(u,g,w,N){this.j=u,this.i=g,this.l=w,this.S=N||1,this.V=new Ai(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new $w}function $w(){this.i=null,this.g="",this.h=!1}var Bw={},Kf={};function Qf(u,g,w){u.M=1,u.A=fu(hr(g)),u.u=w,u.R=!0,zw(u,null)}function zw(u,g){u.F=Date.now(),hu(u),u.B=hr(u.A);var w=u.B,N=u.S;Array.isArray(N)||(N=[String(N)]),n0(w.i,"t",N),u.C=0,w=u.j.L,u.h=new $w,u.g=_0(u.j,w?g:null,!u.u),u.P>0&&(u.O=new Hf(d(u.Y,u,u.g),u.P)),g=u.V,w=u.g,N=u.ba;var V="readystatechange";Array.isArray(V)||(V&&(Xt[0]=V.toString()),V=Xt);for(let F=0;F<V.length;F++){const K=Ne(w,V[F],N||g.handleEvent,!1,g.h||g);if(!K)break;g.g[K.key]=K}g=u.J?te(u.J):{},u.u?(u.v||(u.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,g)):(u.v="GET",u.g.ea(u.B,u.v,null,g)),xs(),je(u.i,u.v,u.B,u.l,u.S,u.u)}Es.prototype.ba=function(u){u=u.target;const g=this.O;g&&Ss(u)==3?g.j():this.Y(u)},Es.prototype.Y=function(u){try{if(u==this.g)e:{const _e=Ss(this.g),_t=this.g.ya(),$e=this.g.ca();if(!(_e<3)&&(_e!=3||this.g&&(this.h.h||this.g.la()||c0(this.g)))){this.K||_e!=4||_t==7||(_t==8||$e<=0?xs(3):xs(2)),Yf(this);var g=this.g.ca();this.X=g;var w=ZP(this);if(this.o=g==200,We(this.i,this.v,this.B,this.l,this.S,_e,g),this.o){if(this.U&&!this.L){t:{if(this.g){var N,V=this.g;if((N=V.g?V.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(N)){var F=N;break t}}F=null}if(u=F)St(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Xf(this,u);else{this.o=!1,this.m=3,wt(12),Mi(this),sl(this);break e}}if(this.R){u=!0;let Ct;for(;!this.K&&this.C<w.length;)if(Ct=eR(this,w),Ct==Kf){_e==4&&(this.m=4,wt(14),u=!1),St(this.i,this.l,null,"[Incomplete Response]");break}else if(Ct==Bw){this.m=4,wt(15),St(this.i,this.l,w,"[Invalid Chunk]"),u=!1;break}else St(this.i,this.l,Ct,null),Xf(this,Ct);if(Ww(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_e!=4||w.length!=0||this.h.h||(this.m=1,wt(16),u=!1),this.o=this.o&&u,!u)St(this.i,this.l,w,"[Invalid Chunked Response]"),Mi(this),sl(this);else if(w.length>0&&!this.W){this.W=!0;var K=this.j;K.g==this&&K.aa&&!K.P&&(K.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),im(K),K.P=!0,wt(11))}}else St(this.i,this.l,w,null),Xf(this,w);_e==4&&Mi(this),this.o&&!this.K&&(_e==4?g0(this.j,this):(this.o=!1,hu(this)))}else mR(this.g),g==400&&w.indexOf("Unknown SID")>0?(this.m=3,wt(12)):(this.m=0,wt(13)),Mi(this),sl(this)}}}catch{}finally{}};function ZP(u){if(!Ww(u))return u.g.la();const g=c0(u.g);if(g==="")return"";let w="";const N=g.length,V=Ss(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Mi(u),sl(u),"";u.h.i=new o.TextDecoder}for(let F=0;F<N;F++)u.h.h=!0,w+=u.h.i.decode(g[F],{stream:!(V&&F==N-1)});return g.length=0,u.h.g+=w,u.C=0,u.h.g}function Ww(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function eR(u,g){var w=u.C,N=g.indexOf(`
`,w);return N==-1?Kf:(w=Number(g.substring(w,N)),isNaN(w)?Bw:(N+=1,N+w>g.length?Kf:(g=g.slice(N,N+w),u.C=N+w,g)))}Es.prototype.cancel=function(){this.K=!0,Mi(this)};function hu(u){u.T=Date.now()+u.H,Hw(u,u.H)}function Hw(u,g){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Di(d(u.aa,u),g)}function Yf(u){u.D&&(o.clearTimeout(u.D),u.D=null)}Es.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(vn(this.i,this.B),this.M!=2&&(xs(),wt(17)),Mi(this),this.m=2,sl(this)):Hw(this,this.T-u)};function sl(u){u.j.I==0||u.K||g0(u.j,u)}function Mi(u){Yf(u);var g=u.O;g&&typeof g.dispose=="function"&&g.dispose(),u.O=null,qr(u.V),u.g&&(g=u.g,u.g=null,g.abort(),g.dispose())}function Xf(u,g){try{var w=u.j;if(w.I!=0&&(w.g==u||Jf(w.h,u))){if(!u.L&&Jf(w.h,u)&&w.I==3){try{var N=w.Ba.g.parse(g)}catch{N=null}if(Array.isArray(N)&&N.length==3){var V=N;if(V[0]==0){e:if(!w.v){if(w.g)if(w.g.F+3e3<u.F)yu(w),gu(w);else break e;sm(w),wt(18)}}else w.xa=V[1],0<w.xa-w.K&&V[2]<37500&&w.F&&w.A==0&&!w.C&&(w.C=Di(d(w.Va,w),6e3));Kw(w.h)<=1&&w.ta&&(w.ta=void 0)}else ji(w,11)}else if((u.L||w.g==u)&&yu(w),!P(g))for(V=w.Ba.g.parse(g),g=0;g<V.length;g++){let $e=V[g];const Ct=$e[0];if(!(Ct<=w.K))if(w.K=Ct,$e=$e[1],w.I==2)if($e[0]=="c"){w.M=$e[1],w.ba=$e[2];const fr=$e[3];fr!=null&&(w.ka=fr,w.j.info("VER="+w.ka));const Li=$e[4];Li!=null&&(w.za=Li,w.j.info("SVER="+w.za));const Cs=$e[5];Cs!=null&&typeof Cs=="number"&&Cs>0&&(N=1.5*Cs,w.O=N,w.j.info("backChannelRequestTimeoutMs_="+N)),N=w;const Is=u.g;if(Is){const _u=Is.g?Is.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_u){var F=N.h;F.g||_u.indexOf("spdy")==-1&&_u.indexOf("quic")==-1&&_u.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Zf(F,F.h),F.h=null))}if(N.G){const om=Is.g?Is.g.getResponseHeader("X-HTTP-Session-Id"):null;om&&(N.wa=om,Ke(N.J,N.G,om))}}w.I=3,w.l&&w.l.ra(),w.aa&&(w.T=Date.now()-u.F,w.j.info("Handshake RTT: "+w.T+"ms")),N=w;var K=u;if(N.na=w0(N,N.L?N.ba:null,N.W),K.L){Qw(N.h,K);var _e=K,_t=N.O;_t&&(_e.H=_t),_e.D&&(Yf(_e),hu(_e)),N.g=K}else m0(N);w.i.length>0&&vu(w)}else $e[0]!="stop"&&$e[0]!="close"||ji(w,7);else w.I==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?ji(w,7):rm(w):$e[0]!="noop"&&w.l&&w.l.qa($e),w.A=0)}}xs(4)}catch{}}var tR=class{constructor(u,g){this.g=u,this.map=g}};function qw(u){this.l=u||10,o.PerformanceNavigationTiming?(u=o.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Gw(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Kw(u){return u.h?1:u.g?u.g.size:0}function Jf(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function Zf(u,g){u.g?u.g.add(g):u.h=g}function Qw(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}qw.prototype.cancel=function(){if(this.i=Yw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Yw(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const w of u.g.values())g=g.concat(w.G);return g}return p(u.i)}var Xw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function nR(u,g){if(u){u=u.split("&");for(let w=0;w<u.length;w++){const N=u[w].indexOf("=");let V,F=null;N>=0?(V=u[w].substring(0,N),F=u[w].substring(N+1)):V=u[w],g(V,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Ts(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;u instanceof Ts?(this.l=u.l,il(this,u.j),this.o=u.o,this.g=u.g,ol(this,u.u),this.h=u.h,em(this,r0(u.i)),this.m=u.m):u&&(g=String(u).match(Xw))?(this.l=!1,il(this,g[1]||"",!0),this.o=al(g[2]||""),this.g=al(g[3]||"",!0),ol(this,g[4]),this.h=al(g[5]||"",!0),em(this,g[6]||"",!0),this.m=al(g[7]||"")):(this.l=!1,this.i=new cl(null,this.l))}Ts.prototype.toString=function(){const u=[];var g=this.j;g&&u.push(ll(g,Jw,!0),":");var w=this.g;return(w||g=="file")&&(u.push("//"),(g=this.o)&&u.push(ll(g,Jw,!0),"@"),u.push(rl(w).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.u,w!=null&&u.push(":",String(w))),(w=this.h)&&(this.g&&w.charAt(0)!="/"&&u.push("/"),u.push(ll(w,w.charAt(0)=="/"?iR:sR,!0))),(w=this.i.toString())&&u.push("?",w),(w=this.m)&&u.push("#",ll(w,aR)),u.join("")},Ts.prototype.resolve=function(u){const g=hr(this);let w=!!u.j;w?il(g,u.j):w=!!u.o,w?g.o=u.o:w=!!u.g,w?g.g=u.g:w=u.u!=null;var N=u.h;if(w)ol(g,u.u);else if(w=!!u.h){if(N.charAt(0)!="/")if(this.g&&!this.h)N="/"+N;else{var V=g.h.lastIndexOf("/");V!=-1&&(N=g.h.slice(0,V+1)+N)}if(V=N,V==".."||V==".")N="";else if(V.indexOf("./")!=-1||V.indexOf("/.")!=-1){N=V.lastIndexOf("/",0)==0,V=V.split("/");const F=[];for(let K=0;K<V.length;){const _e=V[K++];_e=="."?N&&K==V.length&&F.push(""):_e==".."?((F.length>1||F.length==1&&F[0]!="")&&F.pop(),N&&K==V.length&&F.push("")):(F.push(_e),N=!0)}N=F.join("/")}else N=V}return w?g.h=N:w=u.i.toString()!=="",w?em(g,r0(u.i)):w=!!u.m,w&&(g.m=u.m),g};function hr(u){return new Ts(u)}function il(u,g,w){u.j=w?al(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function ol(u,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);u.u=g}else u.u=null}function em(u,g,w){g instanceof cl?(u.i=g,lR(u.i,u.l)):(w||(g=ll(g,oR)),u.i=new cl(g,u.l))}function Ke(u,g,w){u.i.set(g,w)}function fu(u){return Ke(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function al(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ll(u,g,w){return typeof u=="string"?(u=encodeURI(u).replace(g,rR),w&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function rR(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Jw=/[#\/\?@]/g,sR=/[#\?:]/g,iR=/[#\?]/g,oR=/[#\?@]/g,aR=/#/g;function cl(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function Oi(u){u.g||(u.g=new Map,u.h=0,u.i&&nR(u.i,function(g,w){u.add(decodeURIComponent(g.replace(/\+/g," ")),w)}))}t=cl.prototype,t.add=function(u,g){Oi(this),this.i=null,u=Po(this,u);let w=this.g.get(u);return w||this.g.set(u,w=[]),w.push(g),this.h+=1,this};function Zw(u,g){Oi(u),g=Po(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function e0(u,g){return Oi(u),g=Po(u,g),u.g.has(g)}t.forEach=function(u,g){Oi(this),this.g.forEach(function(w,N){w.forEach(function(V){u.call(g,V,N,this)},this)},this)};function t0(u,g){Oi(u);let w=[];if(typeof g=="string")e0(u,g)&&(w=w.concat(u.g.get(Po(u,g))));else for(u=Array.from(u.g.values()),g=0;g<u.length;g++)w=w.concat(u[g]);return w}t.set=function(u,g){return Oi(this),this.i=null,u=Po(this,u),e0(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},t.get=function(u,g){return u?(u=t0(this,u),u.length>0?String(u[0]):g):g};function n0(u,g,w){Zw(u,g),w.length>0&&(u.i=null,u.g.set(Po(u,g),p(w)),u.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(let N=0;N<g.length;N++){var w=g[N];const V=rl(w);w=t0(this,w);for(let F=0;F<w.length;F++){let K=V;w[F]!==""&&(K+="="+rl(w[F])),u.push(K)}}return this.i=u.join("&")};function r0(u){const g=new cl;return g.i=u.i,u.g&&(g.g=new Map(u.g),g.h=u.h),g}function Po(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function lR(u,g){g&&!u.j&&(Oi(u),u.i=null,u.g.forEach(function(w,N){const V=N.toLowerCase();N!=V&&(Zw(this,N),n0(this,V,w))},u)),u.j=g}function cR(u,g){const w=new le;if(o.Image){const N=new Image;N.onload=h(bs,w,"TestLoadImage: loaded",!0,g,N),N.onerror=h(bs,w,"TestLoadImage: error",!1,g,N),N.onabort=h(bs,w,"TestLoadImage: abort",!1,g,N),N.ontimeout=h(bs,w,"TestLoadImage: timeout",!1,g,N),o.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=u}else g(!1)}function uR(u,g){const w=new le,N=new AbortController,V=setTimeout(()=>{N.abort(),bs(w,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:N.signal}).then(F=>{clearTimeout(V),F.ok?bs(w,"TestPingServer: ok",!0,g):bs(w,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(V),bs(w,"TestPingServer: error",!1,g)})}function bs(u,g,w,N,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),N(w)}catch{}}function dR(){this.g=new Io}function tm(u){this.i=u.Sb||null,this.h=u.ab||!1}f(tm,cu),tm.prototype.g=function(){return new mu(this.i,this.h)};function mu(u,g){et.call(this),this.H=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(mu,et),t=mu.prototype,t.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=g,this.readyState=1,dl(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(g.body=u),(this.H||o).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ul(this)),this.readyState=0},t.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,dl(this)),this.g&&(this.readyState=3,dl(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;s0(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function s0(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}t.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?ul(this):dl(this),this.readyState==3&&s0(this)}},t.Oa=function(u){this.g&&(this.response=this.responseText=u,ul(this))},t.Na=function(u){this.g&&(this.response=u,ul(this))},t.ga=function(){this.g&&ul(this)};function ul(u){u.readyState=4,u.l=null,u.j=null,u.B=null,dl(u)}t.setRequestHeader=function(u,g){this.A.append(u,g)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var w=g.next();!w.done;)w=w.value,u.push(w[0]+": "+w[1]),w=g.next();return u.join(`\r
`)};function dl(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(mu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function i0(u){let g="";return L(u,function(w,N){g+=N,g+=":",g+=w,g+=`\r
`}),g}function nm(u,g,w){e:{for(N in w){var N=!1;break e}N=!0}N||(w=i0(w),typeof u=="string"?w!=null&&rl(w):Ke(u,g,w))}function it(u){et.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(it,et);var hR=/^https?$/i,fR=["POST","PUT"];t=it.prototype,t.Fa=function(u){this.H=u},t.ea=function(u,g,w,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Bn.g(),this.g.onreadystatechange=m(d(this.Ca,this));try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(F){o0(this,F);return}if(u=w||"",w=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var V in N)w.set(V,N[V]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const F of N.keys())w.set(F,N.get(F));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(w.keys()).find(F=>F.toLowerCase()=="content-type"),V=o.FormData&&u instanceof o.FormData,!(Array.prototype.indexOf.call(fR,g,void 0)>=0)||N||V||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,K]of w)this.g.setRequestHeader(F,K);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(F){o0(this,F)}};function o0(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.o=5,a0(u),pu(u)}function a0(u){u.A||(u.A=!0,bt(u,"complete"),bt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,bt(this,"complete"),bt(this,"abort"),pu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pu(this,!0)),it.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?l0(this):this.Xa())},t.Xa=function(){l0(this)};function l0(u){if(u.h&&typeof i<"u"){if(u.v&&Ss(u)==4)setTimeout(u.Ca.bind(u),0);else if(bt(u,"readystatechange"),Ss(u)==4){u.h=!1;try{const F=u.ca();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var w;if(!(w=g)){var N;if(N=F===0){let K=String(u.D).match(Xw)[1]||null;!K&&o.self&&o.self.location&&(K=o.self.location.protocol.slice(0,-1)),N=!hR.test(K?K.toLowerCase():"")}w=N}if(w)bt(u,"complete"),bt(u,"success");else{u.o=6;try{var V=Ss(u)>2?u.g.statusText:""}catch{V=""}u.l=V+" ["+u.ca()+"]",a0(u)}}finally{pu(u)}}}}function pu(u,g){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const w=u.g;u.g=null,g||bt(u,"ready");try{w.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ss(u){return u.g?u.g.readyState:0}t.ca=function(){try{return Ss(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),qf(g)}};function c0(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function mR(u){const g={};u=(u.g&&Ss(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<u.length;N++){if(P(u[N]))continue;var w=JP(u[N]);const V=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const F=g[V]||[];g[V]=F,F.push(w)}H(g,function(N){return N.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function hl(u,g,w){return w&&w.internalChannelParams&&w.internalChannelParams[u]||g}function u0(u){this.za=0,this.i=[],this.j=new le,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=hl("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=hl("baseRetryDelayMs",5e3,u),this.Za=hl("retryDelaySeedMs",1e4,u),this.Ta=hl("forwardChannelMaxRetries",2,u),this.va=hl("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new qw(u&&u.concurrentRequestLimit),this.Ba=new dR,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=u0.prototype,t.ka=8,t.I=1,t.connect=function(u,g,w,N){wt(0),this.W=u,this.H=g||{},w&&N!==void 0&&(this.H.OSID=w,this.H.OAID=N),this.F=this.X,this.J=w0(this,null,this.W),vu(this)};function rm(u){if(d0(u),u.I==3){var g=u.V++,w=hr(u.J);if(Ke(w,"SID",u.M),Ke(w,"RID",g),Ke(w,"TYPE","terminate"),fl(u,w),g=new Es(u,u.j,g),g.M=2,g.A=fu(hr(w)),w=!1,o.navigator&&o.navigator.sendBeacon)try{w=o.navigator.sendBeacon(g.A.toString(),"")}catch{}!w&&o.Image&&(new Image().src=g.A,w=!0),w||(g.g=_0(g.j,null),g.g.ea(g.A)),g.F=Date.now(),hu(g)}y0(u)}function gu(u){u.g&&(im(u),u.g.cancel(),u.g=null)}function d0(u){gu(u),u.v&&(o.clearTimeout(u.v),u.v=null),yu(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&o.clearTimeout(u.m),u.m=null)}function vu(u){if(!Gw(u.h)&&!u.m){u.m=!0;var g=u.Ea;M||C(),O||(M(),O=!0),b.add(g,u),u.D=0}}function pR(u,g){return Kw(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=g.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Di(d(u.Ea,u,g),v0(u,u.D)),u.D++,!0)}t.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const V=new Es(this,this.j,u);let F=this.o;if(this.U&&(F?(F=te(F),pe(F,this.U)):F=this.U),this.u!==null||this.R||(V.J=F,F=null),this.S)e:{for(var g=0,w=0;w<this.i.length;w++){t:{var N=this.i[w];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(g+=N,g>4096){g=w;break e}if(g===4096||w===this.i.length-1){g=w+1;break e}}g=1e3}else g=1e3;g=f0(this,V,g),w=hr(this.J),Ke(w,"RID",u),Ke(w,"CVER",22),this.G&&Ke(w,"X-HTTP-Session-Id",this.G),fl(this,w),F&&(this.R?g="headers="+rl(i0(F))+"&"+g:this.u&&nm(w,this.u,F)),Zf(this.h,V),this.Ra&&Ke(w,"TYPE","init"),this.S?(Ke(w,"$req",g),Ke(w,"SID","null"),V.U=!0,Qf(V,w,null)):Qf(V,w,g),this.I=2}}else this.I==3&&(u?h0(this,u):this.i.length==0||Gw(this.h)||h0(this))};function h0(u,g){var w;g?w=g.l:w=u.V++;const N=hr(u.J);Ke(N,"SID",u.M),Ke(N,"RID",w),Ke(N,"AID",u.K),fl(u,N),u.u&&u.o&&nm(N,u.u,u.o),w=new Es(u,u.j,w,u.D+1),u.u===null&&(w.J=u.o),g&&(u.i=g.G.concat(u.i)),g=f0(u,w,1e3),w.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Zf(u.h,w),Qf(w,N,g)}function fl(u,g){u.H&&L(u.H,function(w,N){Ke(g,N,w)}),u.l&&L({},function(w,N){Ke(g,N,w)})}function f0(u,g,w){w=Math.min(u.i.length,w);const N=u.l?d(u.l.Ka,u.l,u):null;e:{var V=u.i;let _e=-1;for(;;){const _t=["count="+w];_e==-1?w>0?(_e=V[0].g,_t.push("ofs="+_e)):_e=0:_t.push("ofs="+_e);let $e=!0;for(let Ct=0;Ct<w;Ct++){var F=V[Ct].g;const fr=V[Ct].map;if(F-=_e,F<0)_e=Math.max(0,V[Ct].g-100),$e=!1;else try{F="req"+F+"_"||"";try{var K=fr instanceof Map?fr:Object.entries(fr);for(const[Li,Cs]of K){let Is=Cs;a(Cs)&&(Is=el(Cs)),_t.push(F+Li+"="+encodeURIComponent(Is))}}catch(Li){throw _t.push(F+"type="+encodeURIComponent("_badmap")),Li}}catch{N&&N(fr)}}if($e){K=_t.join("&");break e}}K=void 0}return u=u.i.splice(0,w),g.G=u,K}function m0(u){if(!u.g&&!u.v){u.Y=1;var g=u.Da;M||C(),O||(M(),O=!0),b.add(g,u),u.A=0}}function sm(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Di(d(u.Da,u),v0(u,u.A)),u.A++,!0)}t.Da=function(){if(this.v=null,p0(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Di(d(this.Wa,this),u)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,wt(10),gu(this),p0(this))};function im(u){u.B!=null&&(o.clearTimeout(u.B),u.B=null)}function p0(u){u.g=new Es(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var g=hr(u.na);Ke(g,"RID","rpc"),Ke(g,"SID",u.M),Ke(g,"AID",u.K),Ke(g,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ke(g,"TO",u.ia),Ke(g,"TYPE","xmlhttp"),fl(u,g),u.u&&u.o&&nm(g,u.u,u.o),u.O&&(u.g.H=u.O);var w=u.g;u=u.ba,w.M=1,w.A=fu(hr(g)),w.u=null,w.R=!0,zw(w,u)}t.Va=function(){this.C!=null&&(this.C=null,gu(this),sm(this),wt(19))};function yu(u){u.C!=null&&(o.clearTimeout(u.C),u.C=null)}function g0(u,g){var w=null;if(u.g==g){yu(u),im(u),u.g=null;var N=2}else if(Jf(u.h,g))w=g.G,Qw(u.h,g),N=1;else return;if(u.I!=0){if(g.o)if(N==1){w=g.u?g.u.length:0,g=Date.now()-g.F;var V=u.D;N=ko(),bt(N,new $n(N,w)),vu(u)}else m0(u);else if(V=g.m,V==3||V==0&&g.X>0||!(N==1&&pR(u,g)||N==2&&sm(u)))switch(w&&w.length>0&&(g=u.h,g.i=g.i.concat(w)),V){case 1:ji(u,5);break;case 4:ji(u,10);break;case 3:ji(u,6);break;default:ji(u,2)}}}function v0(u,g){let w=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(w*=2),w*g}function ji(u,g){if(u.j.info("Error code "+g),g==2){var w=d(u.bb,u),N=u.Ua;const V=!N;N=new Ts(N||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||il(N,"https"),fu(N),V?cR(N.toString(),w):uR(N.toString(),w)}else wt(2);u.I=0,u.l&&u.l.pa(g),y0(u),d0(u)}t.bb=function(u){u?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function y0(u){if(u.I=0,u.ja=[],u.l){const g=Yw(u.h);(g.length!=0||u.i.length!=0)&&(S(u.ja,g),S(u.ja,u.i),u.h.i.length=0,p(u.i),u.i.length=0),u.l.oa()}}function w0(u,g,w){var N=w instanceof Ts?hr(w):new Ts(w);if(N.g!="")g&&(N.g=g+"."+N.g),ol(N,N.u);else{var V=o.location;N=V.protocol,g=g?g+"."+V.hostname:V.hostname,V=+V.port;const F=new Ts(null);N&&il(F,N),g&&(F.g=g),V&&ol(F,V),w&&(F.h=w),N=F}return w=u.G,g=u.wa,w&&g&&Ke(N,w,g),Ke(N,"VER",u.ka),fl(u,N),N}function _0(u,g,w){if(g&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Aa&&!u.ma?new it(new tm({ab:w})):new it(u.ma),g.Fa(u.L),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function x0(){}t=x0.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function wu(){}wu.prototype.g=function(u,g){return new yn(u,g)};function yn(u,g){et.call(this),this.g=new u0(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(u?u["X-WebChannel-Client-Profile"]=g.sa:u={"X-WebChannel-Client-Profile":g.sa}),this.g.U=u,(u=g&&g.Qb)&&!P(u)&&(this.g.u=u),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!P(g)&&(this.g.G=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new Ro(this)}f(yn,et),yn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){rm(this.g)},yn.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var w={};w.__data__=u,u=w}else this.v&&(w={},w.__data__=el(u),u=w);g.i.push(new tR(g.Ya++,u)),g.I==3&&vu(g)},yn.prototype.N=function(){this.g.l=null,delete this.j,rm(this.g),delete this.g,yn.Z.N.call(this)};function E0(u){ur.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(const w in g){u=w;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}f(E0,ur);function T0(){No.call(this),this.status=1}f(T0,No);function Ro(u){this.g=u}f(Ro,x0),Ro.prototype.ra=function(){bt(this.g,"a")},Ro.prototype.qa=function(u){bt(this.g,new E0(u))},Ro.prototype.pa=function(u){bt(this.g,new T0)},Ro.prototype.oa=function(){bt(this.g,"b")},wu.prototype.createWebChannel=wu.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,dS=function(){return new wu},uS=function(){return ko()},cS=sn,gg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Pn.NO_ERROR=0,Pn.TIMEOUT=8,Pn.HTTP_ERROR=6,hd=Pn,on.COMPLETE="complete",lS=on,tl.EventType=Gr,Gr.OPEN="a",Gr.CLOSE="b",Gr.ERROR="c",Gr.MESSAGE="d",et.prototype.listen=et.prototype.J,Nl=tl,it.prototype.listenOnce=it.prototype.K,it.prototype.getLastError=it.prototype.Ha,it.prototype.getLastErrorCode=it.prototype.ya,it.prototype.getStatus=it.prototype.ca,it.prototype.getResponseJson=it.prototype.La,it.prototype.getResponseText=it.prototype.la,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Fa,aS=it}).apply(typeof Uu<"u"?Uu:typeof self<"u"?self:typeof window<"u"?window:{});const ax="@firebase/firestore",lx="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Bt.UNAUTHENTICATED=new Bt(null),Bt.GOOGLE_CREDENTIALS=new Bt("google-credentials-uid"),Bt.FIRST_PARTY=new Bt("first-party-uid"),Bt.MOCK_USER=new Bt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ha="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo=new ey("@firebase/firestore");function Vo(){return lo.logLevel}function J(t,...e){if(lo.logLevel<=Se.DEBUG){const n=e.map(ry);lo.debug(`Firestore (${Ha}): ${t}`,...n)}}function ds(t,...e){if(lo.logLevel<=Se.ERROR){const n=e.map(ry);lo.error(`Firestore (${Ha}): ${t}`,...n)}}function Sa(t,...e){if(lo.logLevel<=Se.WARN){const n=e.map(ry);lo.warn(`Firestore (${Ha}): ${t}`,...n)}}function ry(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ce(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,hS(t,r,n)}function hS(t,e,n){let r=`FIRESTORE (${Ha}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ds(r),new Error(r)}function Le(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||hS(e,s,r)}function me(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class X extends ws{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class uj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Bt.UNAUTHENTICATED))}shutdown(){}}class dj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class hj{constructor(e){this.t=e,this.currentUser=Bt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Le(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new is;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new is,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{J("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(J("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new is)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(J("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Le(typeof r.accessToken=="string",31837,{l:r}),new fS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Le(e===null||typeof e=="string",2055,{h:e}),new Bt(e)}}class fj{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Bt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class mj{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new fj(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Bt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class cx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pj{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,yr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Le(this.o===void 0,3512);const r=i=>{i.error!=null&&J("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,J("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{J("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):J("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new cx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Le(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new cx(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gj(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=gj(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function Ce(t,e){return t<e?-1:t>e?1:0}function vg(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return Um(s)===Um(i)?Ce(s,i):Um(s)?1:-1}return Ce(t.length,e.length)}const vj=55296,yj=57343;function Um(t){const e=t.charCodeAt(0);return e>=vj&&e<=yj}function Ca(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux="__name__";class gr{constructor(e,n,r){n===void 0?n=0:n>e.length&&ce(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ce(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return gr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof gr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=gr.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Ce(e.length,n.length)}static compareSegments(e,n){const r=gr.isNumericId(e),s=gr.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?gr.extractNumericId(e).compare(gr.extractNumericId(n)):vg(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return oi.fromString(e.substring(4,e.length-2))}}class He extends gr{construct(e,n,r){return new He(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new X(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new He(n)}static emptyPath(){return new He([])}}const wj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ot extends gr{construct(e,n,r){return new Ot(e,n,r)}static isValidIdentifier(e){return wj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ot.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ux}static keyField(){return new Ot([ux])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new X(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new X(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new X(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new X(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ot(n)}static emptyPath(){return new Ot([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.path=e}static fromPath(e){return new se(He.fromString(e))}static fromName(e){return new se(He.fromString(e).popFirst(5))}static empty(){return new se(He.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&He.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return He.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new se(new He(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mS(t,e,n){if(!n)throw new X(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function _j(t,e,n,r){if(e===!0&&r===!0)throw new X(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function dx(t){if(!se.isDocumentKey(t))throw new X(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function hx(t){if(se.isDocumentKey(t))throw new X(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function pS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function rf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ce(12329,{type:typeof t})}function jn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new X(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=rf(t);throw new X(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Fc(t,e){if(!pS(t))throw new X(U.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new X(U.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fx=-62135596800,mx=1e6;class Xe{static now(){return Xe.fromMillis(Date.now())}static fromDate(e){return Xe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*mx);return new Xe(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new X(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new X(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<fx)throw new X(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new X(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/mx}_compareTo(e){return this.seconds===e.seconds?Ce(this.nanoseconds,e.nanoseconds):Ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Xe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Fc(e,Xe._jsonSchema))return new Xe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-fx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Xe._jsonSchemaVersion="firestore/timestamp/1.0",Xe._jsonSchema={type:vt("string",Xe._jsonSchemaVersion),seconds:vt("number"),nanoseconds:vt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{static fromTimestamp(e){return new fe(e)}static min(){return new fe(new Xe(0,0))}static max(){return new fe(new Xe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fc=-1;function xj(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=fe.fromTimestamp(r===1e9?new Xe(n+1,0):new Xe(n,r));return new fi(s,se.empty(),e)}function Ej(t){return new fi(t.readTime,t.key,fc)}class fi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new fi(fe.min(),se.empty(),fc)}static max(){return new fi(fe.max(),se.empty(),fc)}}function Tj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=se.comparator(t.documentKey,e.documentKey),n!==0?n:Ce(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Sj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qa(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==bj)throw t;J("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ce(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,r)=>{n(e)})}static reject(e){return new $((n,r)=>{r(e)})}static waitFor(e){return new $((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next(s=>s?$.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new $((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const d=l;n(e[d]).next(h=>{o[d]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new $((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function Cj(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ga(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}sf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iy=-1;function of(t){return t==null}function rh(t){return t===0&&1/t==-1/0}function Ij(t){return typeof t=="number"&&Number.isInteger(t)&&!rh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS="";function Nj(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=px(e)),e=kj(t.get(n),e);return px(e)}function kj(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case gS:n+="";break;default:n+=i}}return n}function px(t){return t+gS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Si(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function vS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,n){this.comparator=e,this.root=n||Mt.EMPTY}insert(e,n){return new st(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Mt.BLACK,null,null))}remove(e){return new st(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Mt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $u(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $u(this.root,e,this.comparator,!1)}getReverseIterator(){return new $u(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $u(this.root,e,this.comparator,!0)}}class $u{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Mt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Mt.RED,this.left=s??Mt.EMPTY,this.right=i??Mt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Mt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Mt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Mt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Mt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Mt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ce(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ce(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ce(27949);return e+(this.isRed()?0:1)}}Mt.EMPTY=null,Mt.RED=!0,Mt.BLACK=!1;Mt.EMPTY=new class{constructor(){this.size=0}get key(){throw ce(57766)}get value(){throw ce(16141)}get color(){throw ce(16727)}get left(){throw ce(29726)}get right(){throw ce(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new Mt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.comparator=e,this.data=new st(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new vx(this.data.getIterator())}getIteratorFrom(e){return new vx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Tt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Tt(this.comparator);return n.data=e,n}}class vx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.fields=e,e.sort(Ot.comparator)}static empty(){return new Tn([])}unionWith(e){let n=new Tt(Ot.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Tn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ca(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new yS("Invalid base64 string: "+i):i}}(e);return new Vt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Vt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vt.EMPTY_BYTE_STRING=new Vt("");const Pj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mi(t){if(Le(!!t,39018),typeof t=="string"){let e=0;const n=Pj.exec(t);if(Le(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:at(t.seconds),nanos:at(t.nanos)}}function at(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function pi(t){return typeof t=="string"?Vt.fromBase64String(t):Vt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS="server_timestamp",_S="__type__",xS="__previous_value__",ES="__local_write_time__";function oy(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[_S])==null?void 0:r.stringValue)===wS}function af(t){const e=t.mapValue.fields[xS];return oy(e)?af(e):e}function mc(t){const e=mi(t.mapValue.fields[ES].timestampValue);return new Xe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rj{constructor(e,n,r,s,i,o,a,l,d,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=d,this.isUsingEmulator=h}}const sh="(default)";class pc{constructor(e,n){this.projectId=e,this.database=n||sh}static empty(){return new pc("","")}get isDefaultDatabase(){return this.database===sh}isEqual(e){return e instanceof pc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS="__type__",Aj="__max__",Bu={mapValue:{}},bS="__vector__",ih="value";function gi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?oy(t)?4:Mj(t)?9007199254740991:Dj(t)?10:11:ce(28295,{value:t})}function Mr(t,e){if(t===e)return!0;const n=gi(t);if(n!==gi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return mc(t).isEqual(mc(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=mi(s.timestampValue),a=mi(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return pi(s.bytesValue).isEqual(pi(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return at(s.geoPointValue.latitude)===at(i.geoPointValue.latitude)&&at(s.geoPointValue.longitude)===at(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return at(s.integerValue)===at(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=at(s.doubleValue),a=at(i.doubleValue);return o===a?rh(o)===rh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ca(t.arrayValue.values||[],e.arrayValue.values||[],Mr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(gx(o)!==gx(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Mr(o[l],a[l])))return!1;return!0}(t,e);default:return ce(52216,{left:t})}}function gc(t,e){return(t.values||[]).find(n=>Mr(n,e))!==void 0}function Ia(t,e){if(t===e)return 0;const n=gi(t),r=gi(e);if(n!==r)return Ce(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ce(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=at(i.integerValue||i.doubleValue),l=at(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return yx(t.timestampValue,e.timestampValue);case 4:return yx(mc(t),mc(e));case 5:return vg(t.stringValue,e.stringValue);case 6:return function(i,o){const a=pi(i),l=pi(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let d=0;d<a.length&&d<l.length;d++){const h=Ce(a[d],l[d]);if(h!==0)return h}return Ce(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Ce(at(i.latitude),at(o.latitude));return a!==0?a:Ce(at(i.longitude),at(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return wx(t.arrayValue,e.arrayValue);case 10:return function(i,o){var m,p,S,y;const a=i.fields||{},l=o.fields||{},d=(m=a[ih])==null?void 0:m.arrayValue,h=(p=l[ih])==null?void 0:p.arrayValue,f=Ce(((S=d==null?void 0:d.values)==null?void 0:S.length)||0,((y=h==null?void 0:h.values)==null?void 0:y.length)||0);return f!==0?f:wx(d,h)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Bu.mapValue&&o===Bu.mapValue)return 0;if(i===Bu.mapValue)return 1;if(o===Bu.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),d=o.fields||{},h=Object.keys(d);l.sort(),h.sort();for(let f=0;f<l.length&&f<h.length;++f){const m=vg(l[f],h[f]);if(m!==0)return m;const p=Ia(a[l[f]],d[h[f]]);if(p!==0)return p}return Ce(l.length,h.length)}(t.mapValue,e.mapValue);default:throw ce(23264,{he:n})}}function yx(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ce(t,e);const n=mi(t),r=mi(e),s=Ce(n.seconds,r.seconds);return s!==0?s:Ce(n.nanos,r.nanos)}function wx(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Ia(n[s],r[s]);if(i)return i}return Ce(n.length,r.length)}function Na(t){return yg(t)}function yg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=mi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return pi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return se.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=yg(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${yg(n.fields[o])}`;return s+"}"}(t.mapValue):ce(61005,{value:t})}function fd(t){switch(gi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=af(t);return e?16+fd(e):16;case 5:return 2*t.stringValue.length;case 6:return pi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+fd(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Si(r.fields,(i,o)=>{s+=i.length+fd(o)}),s}(t.mapValue);default:throw ce(13486,{value:t})}}function _x(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function wg(t){return!!t&&"integerValue"in t}function ay(t){return!!t&&"arrayValue"in t}function xx(t){return!!t&&"nullValue"in t}function Ex(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function md(t){return!!t&&"mapValue"in t}function Dj(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[TS])==null?void 0:r.stringValue)===bS}function Wl(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Si(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Wl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Wl(t.arrayValue.values[n]);return e}return{...t}}function Mj(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Aj}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.value=e}static empty(){return new un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!md(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wl(n)}setAll(e){let n=Ot.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Wl(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());md(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Mr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];md(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Si(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new un(Wl(this.value))}}function SS(t){const e=[];return Si(t.fields,(n,r)=>{const s=new Ot([n]);if(md(r)){const i=SS(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Tn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ht(e,0,fe.min(),fe.min(),fe.min(),un.empty(),0)}static newFoundDocument(e,n,r,s){return new Ht(e,1,n,fe.min(),r,s,0)}static newNoDocument(e,n){return new Ht(e,2,n,fe.min(),fe.min(),un.empty(),0)}static newUnknownDocument(e,n){return new Ht(e,3,n,fe.min(),fe.min(),un.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ht&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ht(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,n){this.position=e,this.inclusive=n}}function Tx(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=se.comparator(se.fromName(o.referenceValue),n.key):r=Ia(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function bx(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Mr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,n="asc"){this.field=e,this.dir=n}}function Oj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{}class pt extends CS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Lj(e,n,r):n==="array-contains"?new Uj(e,r):n==="in"?new $j(e,r):n==="not-in"?new Bj(e,r):n==="array-contains-any"?new zj(e,r):new pt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Vj(e,r):new Fj(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ia(n,this.value)):n!==null&&gi(this.value)===gi(n)&&this.matchesComparison(Ia(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ce(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class tr extends CS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new tr(e,n)}matches(e){return IS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function IS(t){return t.op==="and"}function NS(t){return jj(t)&&IS(t)}function jj(t){for(const e of t.filters)if(e instanceof tr)return!1;return!0}function _g(t){if(t instanceof pt)return t.field.canonicalString()+t.op.toString()+Na(t.value);if(NS(t))return t.filters.map(e=>_g(e)).join(",");{const e=t.filters.map(n=>_g(n)).join(",");return`${t.op}(${e})`}}function kS(t,e){return t instanceof pt?function(r,s){return s instanceof pt&&r.op===s.op&&r.field.isEqual(s.field)&&Mr(r.value,s.value)}(t,e):t instanceof tr?function(r,s){return s instanceof tr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&kS(o,s.filters[a]),!0):!1}(t,e):void ce(19439)}function PS(t){return t instanceof pt?function(n){return`${n.field.canonicalString()} ${n.op} ${Na(n.value)}`}(t):t instanceof tr?function(n){return n.op.toString()+" {"+n.getFilters().map(PS).join(" ,")+"}"}(t):"Filter"}class Lj extends pt{constructor(e,n,r){super(e,n,r),this.key=se.fromName(r.referenceValue)}matches(e){const n=se.comparator(e.key,this.key);return this.matchesComparison(n)}}class Vj extends pt{constructor(e,n){super(e,"in",n),this.keys=RS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Fj extends pt{constructor(e,n){super(e,"not-in",n),this.keys=RS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function RS(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>se.fromName(r.referenceValue))}class Uj extends pt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ay(n)&&gc(n.arrayValue,this.value)}}class $j extends pt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&gc(this.value.arrayValue,n)}}class Bj extends pt{constructor(e,n){super(e,"not-in",n)}matches(e){if(gc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!gc(this.value.arrayValue,n)}}class zj extends pt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ay(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>gc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wj{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function Sx(t,e=null,n=[],r=[],s=null,i=null,o=null){return new Wj(t,e,n,r,s,i,o)}function ly(t){const e=me(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>_g(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),of(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Na(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Na(r)).join(",")),e.Te=n}return e.Te}function cy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Oj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!kS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!bx(t.startAt,e.startAt)&&bx(t.endAt,e.endAt)}function xg(t){return se.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Hj(t,e,n,r,s,i,o,a){return new Uc(t,e,n,r,s,i,o,a)}function lf(t){return new Uc(t)}function Cx(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function AS(t){return t.collectionGroup!==null}function Hl(t){const e=me(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Tt(Ot.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new ah(i,r))}),n.has(Ot.keyField().canonicalString())||e.Ie.push(new ah(Ot.keyField(),r))}return e.Ie}function Cr(t){const e=me(t);return e.Ee||(e.Ee=qj(e,Hl(t))),e.Ee}function qj(t,e){if(t.limitType==="F")return Sx(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new ah(s.field,i)});const n=t.endAt?new oh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new oh(t.startAt.position,t.startAt.inclusive):null;return Sx(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Eg(t,e){const n=t.filters.concat([e]);return new Uc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Tg(t,e,n){return new Uc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function cf(t,e){return cy(Cr(t),Cr(e))&&t.limitType===e.limitType}function DS(t){return`${ly(Cr(t))}|lt:${t.limitType}`}function Fo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>PS(s)).join(", ")}]`),of(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Na(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Na(s)).join(",")),`Target(${r})`}(Cr(t))}; limitType=${t.limitType})`}function uf(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):se.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Hl(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const d=Tx(o,a,l);return o.inclusive?d<=0:d<0}(r.startAt,Hl(r),s)||r.endAt&&!function(o,a,l){const d=Tx(o,a,l);return o.inclusive?d>=0:d>0}(r.endAt,Hl(r),s))}(t,e)}function Gj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function MS(t){return(e,n)=>{let r=!1;for(const s of Hl(t)){const i=Kj(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function Kj(t,e,n){const r=t.field.isKeyField()?se.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),d=a.data.field(i);return l!==null&&d!==null?Ia(l,d):ce(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ce(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Si(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return vS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qj=new st(se.comparator);function hs(){return Qj}const OS=new st(se.comparator);function kl(...t){let e=OS;for(const n of t)e=e.insert(n.key,n);return e}function jS(t){let e=OS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Qi(){return ql()}function LS(){return ql()}function ql(){return new Eo(t=>t.toString(),(t,e)=>t.isEqual(e))}const Yj=new st(se.comparator),Xj=new Tt(se.comparator);function Ie(...t){let e=Xj;for(const n of t)e=e.add(n);return e}const Jj=new Tt(Ce);function Zj(){return Jj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rh(e)?"-0":e}}function VS(t){return{integerValue:""+t}}function e4(t,e){return Ij(e)?VS(e):uy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(){this._=void 0}}function t4(t,e,n){return t instanceof vc?function(s,i){const o={fields:{[_S]:{stringValue:wS},[ES]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&oy(i)&&(i=af(i)),i&&(o.fields[xS]=i),{mapValue:o}}(n,e):t instanceof yc?US(t,e):t instanceof wc?$S(t,e):function(s,i){const o=FS(s,i),a=Ix(o)+Ix(s.Ae);return wg(o)&&wg(s.Ae)?VS(a):uy(s.serializer,a)}(t,e)}function n4(t,e,n){return t instanceof yc?US(t,e):t instanceof wc?$S(t,e):n}function FS(t,e){return t instanceof lh?function(r){return wg(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class vc extends df{}class yc extends df{constructor(e){super(),this.elements=e}}function US(t,e){const n=BS(e);for(const r of t.elements)n.some(s=>Mr(s,r))||n.push(r);return{arrayValue:{values:n}}}class wc extends df{constructor(e){super(),this.elements=e}}function $S(t,e){let n=BS(e);for(const r of t.elements)n=n.filter(s=>!Mr(s,r));return{arrayValue:{values:n}}}class lh extends df{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Ix(t){return at(t.integerValue||t.doubleValue)}function BS(t){return ay(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(e,n){this.field=e,this.transform=n}}function s4(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof yc&&s instanceof yc||r instanceof wc&&s instanceof wc?Ca(r.elements,s.elements,Mr):r instanceof lh&&s instanceof lh?Mr(r.Ae,s.Ae):r instanceof vc&&s instanceof vc}(t.transform,e.transform)}class i4{constructor(e,n){this.version=e,this.transformResults=n}}class Zn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Zn}static exists(e){return new Zn(void 0,e)}static updateTime(e){return new Zn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function pd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class hf{}function zS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new dy(t.key,Zn.none()):new $c(t.key,t.data,Zn.none());{const n=t.data,r=un.empty();let s=new Tt(Ot.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Ci(t.key,r,new Tn(s.toArray()),Zn.none())}}function o4(t,e,n){t instanceof $c?function(s,i,o){const a=s.value.clone(),l=kx(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ci?function(s,i,o){if(!pd(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=kx(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(WS(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Gl(t,e,n,r){return t instanceof $c?function(i,o,a,l){if(!pd(i.precondition,o))return a;const d=i.value.clone(),h=Px(i.fieldTransforms,l,o);return d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ci?function(i,o,a,l){if(!pd(i.precondition,o))return a;const d=Px(i.fieldTransforms,l,o),h=o.data;return h.setAll(WS(i)),h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return pd(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function a4(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=FS(r.transform,s||null);i!=null&&(n===null&&(n=un.empty()),n.set(r.field,i))}return n||null}function Nx(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Ca(r,s,(i,o)=>s4(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class $c extends hf{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ci extends hf{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function WS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function kx(t,e,n){const r=new Map;Le(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,n4(o,a,n[s]))}return r}function Px(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,t4(i,o,e))}return r}class dy extends hf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class l4 extends hf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&o4(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Gl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Gl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=LS();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=zS(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(fe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ie())}isEqual(e){return this.batchId===e.batchId&&Ca(this.mutations,e.mutations,(n,r)=>Nx(n,r))&&Ca(this.baseMutations,e.baseMutations,(n,r)=>Nx(n,r))}}class hy{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Le(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return Yj}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new hy(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let u4=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ht,Pe;function h4(t){switch(t){case U.OK:return ce(64938);case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0;default:return ce(15467,{code:t})}}function HS(t){if(t===void 0)return ds("GRPC error has no .code"),U.UNKNOWN;switch(t){case ht.OK:return U.OK;case ht.CANCELLED:return U.CANCELLED;case ht.UNKNOWN:return U.UNKNOWN;case ht.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case ht.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case ht.INTERNAL:return U.INTERNAL;case ht.UNAVAILABLE:return U.UNAVAILABLE;case ht.UNAUTHENTICATED:return U.UNAUTHENTICATED;case ht.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case ht.NOT_FOUND:return U.NOT_FOUND;case ht.ALREADY_EXISTS:return U.ALREADY_EXISTS;case ht.PERMISSION_DENIED:return U.PERMISSION_DENIED;case ht.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case ht.ABORTED:return U.ABORTED;case ht.OUT_OF_RANGE:return U.OUT_OF_RANGE;case ht.UNIMPLEMENTED:return U.UNIMPLEMENTED;case ht.DATA_LOSS:return U.DATA_LOSS;default:return ce(39323,{code:t})}}(Pe=ht||(ht={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m4=new oi([4294967295,4294967295],0);function Rx(t){const e=f4().encode(t),n=new oS;return n.update(e),new Uint8Array(n.digest())}function Ax(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new oi([n,r],0),new oi([s,i],0)]}class fy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Pl(`Invalid padding: ${n}`);if(r<0)throw new Pl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Pl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Pl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=oi.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(oi.fromNumber(r)));return s.compare(m4)===1&&(s=new oi([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Rx(e),[r,s]=Ax(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new fy(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=Rx(e),[r,s]=Ax(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Pl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Bc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ff(fe.min(),s,new st(Ce),hs(),Ie())}}class Bc{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Bc(r,n,Ie(),Ie(),Ie())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class qS{constructor(e,n){this.targetId=e,this.Ce=n}}class GS{constructor(e,n,r=Vt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Dx{constructor(){this.ve=0,this.Fe=Mx(),this.Me=Vt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ie(),n=Ie(),r=Ie();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ce(38017,{changeType:i})}}),new Bc(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=Mx()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Le(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class p4{constructor(e){this.Ge=e,this.ze=new Map,this.je=hs(),this.Je=zu(),this.He=zu(),this.Ye=new st(Ce)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:ce(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(xg(i))if(r===0){const o=new se(i.path);this.et(n,o,Ht.newNoDocument(o,fe.min()))}else Le(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const d=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=pi(r).toUint8Array()}catch(l){if(l instanceof yS)return Sa("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new fy(o,s,i)}catch(l){return Sa(l instanceof Pl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&xg(a.target)){const l=new se(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,Ht.newNoDocument(l,e))}i.Be&&(n.set(o,i.ke()),i.qe())}});let r=Ie();this.He.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const d=this.ot(l);return!d||d.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new ff(e,n,this.Ye,this.je,r);return this.je=hs(),this.Je=zu(),this.He=zu(),this.Ye=new st(Ce),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Dx,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Tt(Ce),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Tt(Ce),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||J("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Dx),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function zu(){return new st(se.comparator)}function Mx(){return new st(se.comparator)}const g4={asc:"ASCENDING",desc:"DESCENDING"},v4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},y4={and:"AND",or:"OR"};class w4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function bg(t,e){return t.useProto3Json||of(e)?e:{value:e}}function ch(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function KS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function _4(t,e){return ch(t,e.toTimestamp())}function Ir(t){return Le(!!t,49232),fe.fromTimestamp(function(n){const r=mi(n);return new Xe(r.seconds,r.nanos)}(t))}function my(t,e){return Sg(t,e).canonicalString()}function Sg(t,e){const n=function(s){return new He(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function QS(t){const e=He.fromString(t);return Le(eC(e),10190,{key:e.toString()}),e}function Cg(t,e){return my(t.databaseId,e.path)}function $m(t,e){const n=QS(e);if(n.get(1)!==t.databaseId.projectId)throw new X(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new X(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new se(XS(n))}function YS(t,e){return my(t.databaseId,e)}function x4(t){const e=QS(t);return e.length===4?He.emptyPath():XS(e)}function Ig(t){return new He(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function XS(t){return Le(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Ox(t,e,n){return{name:Cg(t,e),fields:n.value.mapValue.fields}}function E4(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ce(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(d,h){return d.useProto3Json?(Le(h===void 0||typeof h=="string",58123),Vt.fromBase64String(h||"")):(Le(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Vt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(d){const h=d.code===void 0?U.UNKNOWN:HS(d.code);return new X(h,d.message||"")}(o);n=new GS(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=$m(t,r.document.name),i=Ir(r.document.updateTime),o=r.document.createTime?Ir(r.document.createTime):fe.min(),a=new un({mapValue:{fields:r.document.fields}}),l=Ht.newFoundDocument(s,i,o,a),d=r.targetIds||[],h=r.removedTargetIds||[];n=new gd(d,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=$m(t,r.document),i=r.readTime?Ir(r.readTime):fe.min(),o=Ht.newNoDocument(s,i),a=r.removedTargetIds||[];n=new gd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=$m(t,r.document),i=r.removedTargetIds||[];n=new gd([],i,s,null)}else{if(!("filter"in e))return ce(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new d4(s,i),a=r.targetId;n=new qS(a,o)}}return n}function T4(t,e){let n;if(e instanceof $c)n={update:Ox(t,e.key,e.value)};else if(e instanceof dy)n={delete:Cg(t,e.key)};else if(e instanceof Ci)n={update:Ox(t,e.key,e.data),updateMask:A4(e.fieldMask)};else{if(!(e instanceof l4))return ce(16599,{Vt:e.type});n={verify:Cg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof vc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof yc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof wc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof lh)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw ce(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:_4(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ce(27497)}(t,e.precondition)),n}function b4(t,e){return t&&t.length>0?(Le(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?Ir(s.updateTime):Ir(i);return o.isEqual(fe.min())&&(o=Ir(i)),new i4(o,s.transformResults||[])}(n,e))):[]}function S4(t,e){return{documents:[YS(t,e.path)]}}function C4(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=YS(t,s);const i=function(d){if(d.length!==0)return ZS(tr.create(d,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(d){if(d.length!==0)return d.map(h=>function(m){return{field:Uo(m.field),direction:k4(m.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=bg(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ft:n,parent:s}}function I4(t){let e=x4(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Le(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const m=JS(f);return m instanceof tr&&NS(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(m=>function(S){return new ah($o(S.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(f){let m;return m=typeof f=="object"?f.value:f,of(m)?null:m}(n.limit));let l=null;n.startAt&&(l=function(f){const m=!!f.before,p=f.values||[];return new oh(p,m)}(n.startAt));let d=null;return n.endAt&&(d=function(f){const m=!f.before,p=f.values||[];return new oh(p,m)}(n.endAt)),Hj(e,s,o,i,a,"F",l,d)}function N4(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ce(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function JS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=$o(n.unaryFilter.field);return pt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=$o(n.unaryFilter.field);return pt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=$o(n.unaryFilter.field);return pt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=$o(n.unaryFilter.field);return pt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ce(61313);default:return ce(60726)}}(t):t.fieldFilter!==void 0?function(n){return pt.create($o(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ce(58110);default:return ce(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return tr.create(n.compositeFilter.filters.map(r=>JS(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ce(1026)}}(n.compositeFilter.op))}(t):ce(30097,{filter:t})}function k4(t){return g4[t]}function P4(t){return v4[t]}function R4(t){return y4[t]}function Uo(t){return{fieldPath:t.canonicalString()}}function $o(t){return Ot.fromServerFormat(t.fieldPath)}function ZS(t){return t instanceof pt?function(n){if(n.op==="=="){if(Ex(n.value))return{unaryFilter:{field:Uo(n.field),op:"IS_NAN"}};if(xx(n.value))return{unaryFilter:{field:Uo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Ex(n.value))return{unaryFilter:{field:Uo(n.field),op:"IS_NOT_NAN"}};if(xx(n.value))return{unaryFilter:{field:Uo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Uo(n.field),op:P4(n.op),value:n.value}}}(t):t instanceof tr?function(n){const r=n.getFilters().map(s=>ZS(s));return r.length===1?r[0]:{compositeFilter:{op:R4(n.op),filters:r}}}(t):ce(54877,{filter:t})}function A4(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function eC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e,n,r,s,i=fe.min(),o=fe.min(),a=Vt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ks(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D4{constructor(e){this.yt=e}}function M4(t){const e=I4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Tg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(){this.Cn=new j4}addToCollectionParentIndex(e,n){return this.Cn.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(fi.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(fi.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class j4{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Tt(He.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Tt(He.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},tC=41943040;class ln{static withCacheSize(e){return new ln(e,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(tC,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ka(0)}static cr(){return new ka(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx="LruGarbageCollector",L4=1048576;function Vx([t,e],[n,r]){const s=Ce(t,n);return s===0?Ce(e,r):s}class V4{constructor(e){this.Ir=e,this.buffer=new Tt(Vx),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Vx(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class F4{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){J(Lx,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ga(n)?J(Lx,"Ignoring IndexedDB error during garbage collection: ",n):await qa(n)}await this.Vr(3e5)})}}class U4{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return $.resolve(sf.ce);const r=new V4(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(J("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(jx)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(J("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),jx):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,o,a,l,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(J("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(d=Date.now(),Vo()<=Se.DEBUG&&J("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(d-l)+`ms
Total Duration: ${d-h}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function $4(t,e){return new U4(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(){this.changes=new Eo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ht.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Gl(r.mutation,s,Tn.empty(),Xe.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ie()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ie()){const s=Qi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=kl();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Qi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ie()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=hs();const o=ql(),a=function(){return ql()}();return n.forEach((l,d)=>{const h=r.get(d.key);s.has(d.key)&&(h===void 0||h.mutation instanceof Ci)?i=i.insert(d.key,d):h!==void 0?(o.set(d.key,h.mutation.getFieldMask()),Gl(h.mutation,d,h.mutation.getFieldMask(),Xe.now())):o.set(d.key,Tn.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((d,h)=>o.set(d,h)),n.forEach((d,h)=>a.set(d,new z4(h,o.get(d)??null))),a))}recalculateAndSaveOverlays(e,n){const r=ql();let s=new st((o,a)=>o-a),i=Ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const d=n.get(l);if(d===null)return;let h=r.get(l)||Tn.empty();h=a.applyToLocalView(d,h),r.set(l,h);const f=(s.get(a.batchId)||Ie()).add(l);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),d=l.key,h=l.value,f=LS();h.forEach(m=>{if(!i.has(m)){const p=zS(n.get(m),r.get(m));p!==null&&f.set(m,p),i=i.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,f))}return $.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return se.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):AS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):$.resolve(Qi());let a=fc,l=i;return o.next(d=>$.forEach(d,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(h)?$.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{l=l.insert(h,m)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,l,d,Ie())).next(h=>({batchId:a,changes:jS(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new se(n)).next(r=>{let s=kl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=kl();return this.indexManager.getCollectionParents(e,i).next(a=>$.forEach(a,l=>{const d=function(f,m){return new Uc(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(h=>{h.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,d)=>{const h=d.getKey();o.get(h)===null&&(o=o.insert(h,Ht.newInvalidDocument(h)))});let a=kl();return o.forEach((l,d)=>{const h=i.get(l);h!==void 0&&Gl(h.mutation,d,Tn.empty(),Xe.now()),uf(n,d)&&(a=a.insert(l,d))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return $.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Ir(s.createTime)}}(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:M4(s.bundledQuery),readTime:Ir(s.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(){this.overlays=new st(se.comparator),this.qr=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Qi();return $.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),$.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const s=Qi(),i=n.length+1,o=new se(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,d=l.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return $.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new st((d,h)=>d-h);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let h=i.get(d.largestBatchId);h===null&&(h=Qi(),i=i.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const a=Qi(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((d,h)=>a.set(d,h)),!(a.size()>=s)););return $.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new u4(n,r));let i=this.qr.get(n);i===void 0&&(i=Ie(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(){this.sessionToken=Vt.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,$.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(){this.Qr=new Tt(It.$r),this.Ur=new Tt(It.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new It(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new It(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new se(new He([])),r=new It(n,e),s=new It(n,e+1),i=[];return this.Ur.forEachInRange([r,s],o=>{this.Gr(o),i.push(o.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new se(new He([])),r=new It(n,e),s=new It(n,e+1);let i=Ie();return this.Ur.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new It(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class It{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return se.comparator(e.key,n.key)||Ce(e.Yr,n.Yr)}static Kr(e,n){return Ce(e.Yr,n.Yr)||se.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Tt(It.$r)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new c4(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Zr=this.Zr.add(new It(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return $.resolve(o)}lookupMutationBatch(e,n){return $.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return $.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?iy:this.tr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new It(n,0),s=new It(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],o=>{const a=this.Xr(o.Yr);i.push(a)}),$.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Tt(Ce);return n.forEach(s=>{const i=new It(s,0),o=new It(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,o],a=>{r=r.add(a.Yr)})}),$.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;se.isDocumentKey(i)||(i=i.child(""));const o=new It(new se(i),0);let a=new Tt(Ce);return this.Zr.forEachWhile(l=>{const d=l.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(a=a.add(l.Yr)),!0)},o),$.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Le(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return $.forEach(n.mutations,s=>{const i=new It(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new It(n,0),s=this.Zr.firstAfterOrEqual(r);return $.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(e){this.ri=e,this.docs=function(){return new st(se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():Ht.newInvalidDocument(n))}getEntries(e,n){let r=hs();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Ht.newInvalidDocument(s))}),$.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=hs();const o=n.path,a=new se(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:d,value:{document:h}}=l.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||Tj(Ej(h),r)<=0||(s.has(h.key)||uf(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return $.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ce(9500)}ii(e,n){return $.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Y4(this)}getSize(e){return $.resolve(this.size)}}class Y4 extends B4{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),$.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(e){this.persistence=e,this.si=new Eo(n=>ly(n),cy),this.lastRemoteSnapshotVersion=fe.min(),this.highestTargetId=0,this.oi=0,this._i=new py,this.targetCount=0,this.ai=ka.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),$.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new ka(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.Pr(n),$.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),$.waitFor(i).next(()=>s)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),$.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),$.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e,n){this.ui={},this.overlays={},this.ci=new sf(0),this.li=!1,this.li=!0,this.hi=new G4,this.referenceDelegate=e(this),this.Pi=new X4(this),this.indexManager=new O4,this.remoteDocumentCache=function(s){return new Q4(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new D4(n),this.Ii=new H4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new q4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new K4(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){J("MemoryPersistence","Starting transaction:",e);const s=new J4(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return $.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class J4 extends Sj{constructor(e){super(),this.currentSequenceNumber=e}}class gy{constructor(e){this.persistence=e,this.Ri=new py,this.Vi=null}static mi(e){return new gy(e)}get fi(){if(this.Vi)return this.Vi;throw ce(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),$.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,r=>{const s=se.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,fe.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return $.or([()=>$.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class uh{constructor(e,n){this.persistence=e,this.pi=new Eo(r=>Nj(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=$4(this,n)}static mi(e,n){return new uh(e,n)}Ei(){}di(e){return $.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return $.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?$.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,o=>this.br(e,o,n).next(a=>{a||(r++,i.removeEntry(o,fe.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),$.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),$.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),$.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=fd(e.data.value)),n}br(e,n,r){return $.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return $.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=Ie(),s=Ie();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new vy(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return qM()?8:Cj(Gt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new Z4;return this.Ss(e,n,o).next(a=>{if(i.result=a,this.Vs)return this.bs(e,n,o,a.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(Vo()<=Se.DEBUG&&J("QueryEngine","SDK will not create cache indexes for query:",Fo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(Vo()<=Se.DEBUG&&J("QueryEngine","Query:",Fo(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Vo()<=Se.DEBUG&&J("QueryEngine","The SDK decides to create cache indexes for query:",Fo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Cr(n))):$.resolve())}ys(e,n){if(Cx(n))return $.resolve(null);let r=Cr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Tg(n,null,"F"),r=Cr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Ie(...i);return this.ps.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const d=this.Ds(n,a);return this.Cs(n,d,o,l.readTime)?this.ys(e,Tg(n,null,"F")):this.vs(e,d,n,l)}))})))}ws(e,n,r,s){return Cx(n)||s.isEqual(fe.min())?$.resolve(null):this.ps.getDocuments(e,r).next(i=>{const o=this.Ds(n,i);return this.Cs(n,o,r,s)?$.resolve(null):(Vo()<=Se.DEBUG&&J("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Fo(n)),this.vs(e,o,n,xj(s,fc)).next(a=>a))})}Ds(e,n){let r=new Tt(MS(e));return n.forEach((s,i)=>{uf(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return Vo()<=Se.DEBUG&&J("QueryEngine","Using full collection scan to execute query:",Fo(n)),this.ps.getDocumentsMatchingQuery(e,n,fi.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yy="LocalStore",tL=3e8;class nL{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new st(Ce),this.xs=new Eo(i=>ly(i),cy),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new W4(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function rL(t,e,n,r){return new nL(t,e,n,r)}async function rC(t,e){const n=me(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=Ie();for(const d of s){o.push(d.batchId);for(const h of d.mutations)l=l.add(h.key)}for(const d of i){a.push(d.batchId);for(const h of d.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(d=>({Ls:d,removedBatchIds:o,addedBatchIds:a}))})})}function sL(t,e){const n=me(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,l,d,h){const f=d.batch,m=f.keys();let p=$.resolve();return m.forEach(S=>{p=p.next(()=>h.getEntry(l,S)).next(y=>{const E=d.docVersions.get(S);Le(E!==null,48541),y.version.compareTo(E)<0&&(f.applyToRemoteDocument(y,d),y.isValidDocument()&&(y.setReadTime(d.commitVersion),h.addEntry(y)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ie();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(l=l.add(a.batch.mutations[d].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function sC(t){const e=me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function iL(t,e){const n=me(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];e.targetChanges.forEach((h,f)=>{const m=s.get(f);if(!m)return;a.push(n.Pi.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(i,h.addedDocuments,f)));let p=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(Vt.EMPTY_BYTE_STRING,fe.min()).withLastLimboFreeSnapshotVersion(fe.min()):h.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(h.resumeToken,r)),s=s.insert(f,p),function(y,E,x){return y.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=tL?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(m,p,h)&&a.push(n.Pi.updateTargetData(i,p))});let l=hs(),d=Ie();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(oL(i,o,e.documentUpdates).next(h=>{l=h.ks,d=h.qs})),!r.isEqual(fe.min())){const h=n.Pi.getLastRemoteSnapshotVersion(i).next(f=>n.Pi.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return $.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,d)).next(()=>l)}).then(i=>(n.Ms=s,i))}function oL(t,e,n){let r=Ie(),s=Ie();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=hs();return n.forEach((a,l)=>{const d=i.get(a);l.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(fe.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!d.isValidDocument()||l.version.compareTo(d.version)>0||l.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):J(yy,"Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",l.version)}),{ks:o,qs:s}})}function aL(t,e){const n=me(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=iy),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function lL(t,e){const n=me(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(i=>i?(s=i,$.resolve(s)):n.Pi.allocateTargetId(r).next(o=>(s=new Ks(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function Ng(t,e,n){const r=me(t),s=r.Ms.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Ga(o))throw o;J(yy,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function Fx(t,e,n){const r=me(t);let s=fe.min(),i=Ie();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,d,h){const f=me(l),m=f.xs.get(h);return m!==void 0?$.resolve(f.Ms.get(m)):f.Pi.getTargetData(d,h)}(r,o,Cr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(o,e,n?s:fe.min(),n?i:Ie())).next(a=>(cL(r,Gj(e),a),{documents:a,Qs:i})))}function cL(t,e,n){let r=t.Os.get(e)||fe.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Os.set(e,r)}class Ux{constructor(){this.activeTargetIds=Zj()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class uL{constructor(){this.Mo=new Ux,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Ux,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dL{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $x="ConnectivityMonitor";class Bx{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){J($x,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){J($x,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wu=null;function kg(){return Wu===null?Wu=function(){return 268435456+Math.round(2147483648*Math.random())}():Wu++,"0x"+Wu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bm="RestConnection",hL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class fL{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===sh?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const o=kg(),a=this.zo(e,n.toUriEncodedString());J(Bm,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,s,i);const{host:d}=new URL(a),h=za(d);return this.Jo(e,a,l,r,h).then(f=>(J(Bm,`Received RPC '${e}' ${o}: `,f),f),f=>{throw Sa(Bm,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}Ho(e,n,r,s,i,o){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ha}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=hL[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $t="WebChannelConnection";class pL extends fL{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=kg();return new Promise((a,l)=>{const d=new aS;d.setWithCredentials(!0),d.listenOnce(lS.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case hd.NO_ERROR:const f=d.getResponseJson();J($t,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case hd.TIMEOUT:J($t,`RPC '${e}' ${o} timed out`),l(new X(U.DEADLINE_EXCEEDED,"Request time out"));break;case hd.HTTP_ERROR:const m=d.getStatus();if(J($t,`RPC '${e}' ${o} failed with status:`,m,"response text:",d.getResponseText()),m>0){let p=d.getResponseJson();Array.isArray(p)&&(p=p[0]);const S=p==null?void 0:p.error;if(S&&S.status&&S.message){const y=function(x){const _=x.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(_)>=0?_:U.UNKNOWN}(S.status);l(new X(y,S.message))}else l(new X(U.UNKNOWN,"Server responded with status "+d.getStatus()))}else l(new X(U.UNAVAILABLE,"Connection failed."));break;default:ce(9055,{l_:e,streamId:o,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{J($t,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(s);J($t,`RPC '${e}' ${o} sending request:`,s),d.send(n,"POST",h,r,15)})}T_(e,n,r){const s=kg(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=dS(),a=uS(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(l.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const h=i.join("");J($t,`Creating RPC '${e}' stream ${s}: ${h}`,l);const f=o.createWebChannel(h,l);this.I_(f);let m=!1,p=!1;const S=new mL({Yo:E=>{p?J($t,`Not sending because RPC '${e}' stream ${s} is closed:`,E):(m||(J($t,`Opening RPC '${e}' stream ${s} transport.`),f.open(),m=!0),J($t,`RPC '${e}' stream ${s} sending:`,E),f.send(E))},Zo:()=>f.close()}),y=(E,x,_)=>{E.listen(x,T=>{try{_(T)}catch(R){setTimeout(()=>{throw R},0)}})};return y(f,Nl.EventType.OPEN,()=>{p||(J($t,`RPC '${e}' stream ${s} transport opened.`),S.o_())}),y(f,Nl.EventType.CLOSE,()=>{p||(p=!0,J($t,`RPC '${e}' stream ${s} transport closed`),S.a_(),this.E_(f))}),y(f,Nl.EventType.ERROR,E=>{p||(p=!0,Sa($t,`RPC '${e}' stream ${s} transport errored. Name:`,E.name,"Message:",E.message),S.a_(new X(U.UNAVAILABLE,"The operation could not be completed")))}),y(f,Nl.EventType.MESSAGE,E=>{var x;if(!p){const _=E.data[0];Le(!!_,16349);const T=_,R=(T==null?void 0:T.error)||((x=T[0])==null?void 0:x.error);if(R){J($t,`RPC '${e}' stream ${s} received error:`,R);const M=R.status;let O=function(I){const k=ht[I];if(k!==void 0)return HS(k)}(M),b=R.message;O===void 0&&(O=U.INTERNAL,b="Unknown error status: "+M+" with message "+R.message),p=!0,S.a_(new X(O,b)),f.close()}else J($t,`RPC '${e}' stream ${s} received:`,_),S.u_(_)}}),y(a,cS.STAT_EVENT,E=>{E.stat===gg.PROXY?J($t,`RPC '${e}' stream ${s} detected buffering proxy`):E.stat===gg.NOPROXY&&J($t,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{S.__()},0),S}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function zm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mf(t){return new w4(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&J("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx="PersistentStream";class oC{constructor(e,n,r,s,i,o,a,l){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new iC(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(ds(n.toString()),ds("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new X(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return J(zx,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(J(zx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class gL extends oC{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=E4(this.serializer,e),r=function(i){if(!("targetChange"in i))return fe.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?fe.min():o.readTime?Ir(o.readTime):fe.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Ig(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=xg(l)?{documents:S4(i,l)}:{query:C4(i,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=KS(i,o.resumeToken);const d=bg(i,o.expectedCount);d!==null&&(a.expectedCount=d)}else if(o.snapshotVersion.compareTo(fe.min())>0){a.readTime=ch(i,o.snapshotVersion.toTimestamp());const d=bg(i,o.expectedCount);d!==null&&(a.expectedCount=d)}return a}(this.serializer,e);const r=N4(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Ig(this.serializer),n.removeTarget=e,this.q_(n)}}class vL extends oC{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Le(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Le(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Le(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=b4(e.writeResults,e.commitTime),r=Ir(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Ig(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>T4(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{}class wL extends yL{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new X(U.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Go(e,Sg(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new X(U.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Ho(e,Sg(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new X(U.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class _L{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ds(n),this.aa=!1):J("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co="RemoteStore";class xL{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(o=>{r.enqueueAndForget(async()=>{To(this)&&(J(co,"Restarting streams for network reachability change."),await async function(l){const d=me(l);d.Ea.add(4),await zc(d),d.Ra.set("Unknown"),d.Ea.delete(4),await pf(d)}(this))})}),this.Ra=new _L(r,s)}}async function pf(t){if(To(t))for(const e of t.da)await e(!0)}async function zc(t){for(const e of t.da)await e(!1)}function aC(t,e){const n=me(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Ey(n)?xy(n):Ka(n).O_()&&_y(n,e))}function wy(t,e){const n=me(t),r=Ka(n);n.Ia.delete(e),r.O_()&&lC(n,e),n.Ia.size===0&&(r.O_()?r.L_():To(n)&&n.Ra.set("Unknown"))}function _y(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(fe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ka(t).Y_(e)}function lC(t,e){t.Va.Ue(e),Ka(t).Z_(e)}function xy(t){t.Va=new p4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ka(t).start(),t.Ra.ua()}function Ey(t){return To(t)&&!Ka(t).x_()&&t.Ia.size>0}function To(t){return me(t).Ea.size===0}function cC(t){t.Va=void 0}async function EL(t){t.Ra.set("Online")}async function TL(t){t.Ia.forEach((e,n)=>{_y(t,e)})}async function bL(t,e){cC(t),Ey(t)?(t.Ra.ha(e),xy(t)):t.Ra.set("Unknown")}async function SL(t,e,n){if(t.Ra.set("Online"),e instanceof GS&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.Va.removeTarget(a))}(t,e)}catch(r){J(co,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await dh(t,r)}else if(e instanceof gd?t.Va.Ze(e):e instanceof qS?t.Va.st(e):t.Va.tt(e),!n.isEqual(fe.min()))try{const r=await sC(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Va.Tt(o);return a.targetChanges.forEach((l,d)=>{if(l.resumeToken.approximateByteSize()>0){const h=i.Ia.get(d);h&&i.Ia.set(d,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,d)=>{const h=i.Ia.get(l);if(!h)return;i.Ia.set(l,h.withResumeToken(Vt.EMPTY_BYTE_STRING,h.snapshotVersion)),lC(i,l);const f=new Ks(h.target,l,d,h.sequenceNumber);_y(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){J(co,"Failed to raise snapshot:",r),await dh(t,r)}}async function dh(t,e,n){if(!Ga(e))throw e;t.Ea.add(1),await zc(t),t.Ra.set("Offline"),n||(n=()=>sC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{J(co,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await pf(t)})}function uC(t,e){return e().catch(n=>dh(t,n,e))}async function gf(t){const e=me(t),n=vi(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:iy;for(;CL(e);)try{const s=await aL(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,IL(e,s)}catch(s){await dh(e,s)}dC(e)&&hC(e)}function CL(t){return To(t)&&t.Ta.length<10}function IL(t,e){t.Ta.push(e);const n=vi(t);n.O_()&&n.X_&&n.ea(e.mutations)}function dC(t){return To(t)&&!vi(t).x_()&&t.Ta.length>0}function hC(t){vi(t).start()}async function NL(t){vi(t).ra()}async function kL(t){const e=vi(t);for(const n of t.Ta)e.ea(n.mutations)}async function PL(t,e,n){const r=t.Ta.shift(),s=hy.from(r,e,n);await uC(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await gf(t)}async function RL(t,e){e&&vi(t).X_&&await async function(r,s){if(function(o){return h4(o)&&o!==U.ABORTED}(s.code)){const i=r.Ta.shift();vi(r).B_(),await uC(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await gf(r)}}(t,e),dC(t)&&hC(t)}async function Wx(t,e){const n=me(t);n.asyncQueue.verifyOperationInProgress(),J(co,"RemoteStore received new credentials");const r=To(n);n.Ea.add(3),await zc(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await pf(n)}async function AL(t,e){const n=me(t);e?(n.Ea.delete(2),await pf(n)):e||(n.Ea.add(2),await zc(n),n.Ra.set("Unknown"))}function Ka(t){return t.ma||(t.ma=function(n,r,s){const i=me(n);return i.sa(),new gL(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:EL.bind(null,t),t_:TL.bind(null,t),r_:bL.bind(null,t),H_:SL.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Ey(t)?xy(t):t.Ra.set("Unknown")):(await t.ma.stop(),cC(t))})),t.ma}function vi(t){return t.fa||(t.fa=function(n,r,s){const i=me(n);return i.sa(),new vL(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:NL.bind(null,t),r_:RL.bind(null,t),ta:kL.bind(null,t),na:PL.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await gf(t)):(await t.fa.stop(),t.Ta.length>0&&(J(co,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new is,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Ty(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function by(t,e){if(ds("AsyncQueue",`${e}: ${t}`),Ga(t))return new X(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{static emptySet(e){return new la(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||se.comparator(n.key,r.key):(n,r)=>se.comparator(n.key,r.key),this.keyedMap=kl(),this.sortedSet=new st(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof la)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new la;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(){this.ga=new st(se.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ce(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Pa{constructor(e,n,r,s,i,o,a,l,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Pa(e,n,la.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class ML{constructor(){this.queries=qx(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=me(n),i=s.queries;s.queries=qx(),i.forEach((o,a)=>{for(const l of a.Sa)l.onError(r)})})(this,new X(U.ABORTED,"Firestore shutting down"))}}function qx(){return new Eo(t=>DS(t),cf)}async function Sy(t,e){const n=me(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.ba()&&e.Da()&&(r=2):(i=new DL,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=by(o,`Initialization of query '${Fo(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.Sa.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&Iy(n)}async function Cy(t,e){const n=me(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.Da()?0:1:!i.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function OL(t,e){const n=me(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.Sa)a.Fa(s)&&(r=!0);o.wa=s}}r&&Iy(n)}function jL(t,e,n){const r=me(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function Iy(t){t.Ca.forEach(e=>{e.next()})}var Pg,Gx;(Gx=Pg||(Pg={})).Ma="default",Gx.Cache="cache";class Ny{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Pa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Pa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Pg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e){this.key=e}}class mC{constructor(e){this.key=e}}class LL{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ie(),this.mutatedKeys=Ie(),this.eu=MS(e),this.tu=new la(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new Hx,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const m=s.get(h),p=uf(this.query,f)?f:null,S=!!m&&this.mutatedKeys.has(m.key),y=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let E=!1;m&&p?m.data.isEqual(p.data)?S!==y&&(r.track({type:3,doc:p}),E=!0):this.su(m,p)||(r.track({type:2,doc:p}),E=!0,(l&&this.eu(p,l)>0||d&&this.eu(p,d)<0)&&(a=!0)):!m&&p?(r.track({type:0,doc:p}),E=!0):m&&!p&&(r.track({type:1,doc:m}),E=!0,(l||d)&&(a=!0)),E&&(p?(o=o.add(p),i=y?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Cs:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,f)=>function(p,S){const y=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ce(20277,{Rt:E})}};return y(p)-y(S)}(h.type,f.type)||this.eu(h.doc,f.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],l=this.Xa.size===0&&this.current&&!s?1:0,d=l!==this.Za;return this.Za=l,o.length!==0||d?{snapshot:new Pa(this.query,e.tu,i,o,e.mutatedKeys,l===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Hx,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ie(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new mC(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new fC(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Ie();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Pa.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ky="SyncEngine";class VL{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class FL{constructor(e){this.key=e,this.hu=!1}}class UL{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new Eo(a=>DS(a),cf),this.Iu=new Map,this.Eu=new Set,this.du=new st(se.comparator),this.Au=new Map,this.Ru=new py,this.Vu={},this.mu=new Map,this.fu=ka.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function $L(t,e,n=!0){const r=_C(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await pC(r,e,n,!0),s}async function BL(t,e){const n=_C(t);await pC(n,e,!0,!1)}async function pC(t,e,n,r){const s=await lL(t.localStore,Cr(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await zL(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&aC(t.remoteStore,s),a}async function zL(t,e,n,r,s){t.pu=(f,m,p)=>async function(y,E,x,_){let T=E.view.ru(x);T.Cs&&(T=await Fx(y.localStore,E.query,!1).then(({documents:b})=>E.view.ru(b,T)));const R=_&&_.targetChanges.get(E.targetId),M=_&&_.targetMismatches.get(E.targetId)!=null,O=E.view.applyChanges(T,y.isPrimaryClient,R,M);return Qx(y,E.targetId,O.au),O.snapshot}(t,f,m,p);const i=await Fx(t.localStore,e,!0),o=new LL(e,i.Qs),a=o.ru(i.documents),l=Bc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=o.applyChanges(a,t.isPrimaryClient,l);Qx(t,n,d.au);const h=new VL(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function WL(t,e,n){const r=me(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!cf(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Ng(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&wy(r.remoteStore,s.targetId),Rg(r,s.targetId)}).catch(qa)):(Rg(r,s.targetId),await Ng(r.localStore,s.targetId,!0))}async function HL(t,e){const n=me(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),wy(n.remoteStore,r.targetId))}async function qL(t,e,n){const r=ZL(t);try{const s=await function(o,a){const l=me(o),d=Xe.now(),h=a.reduce((p,S)=>p.add(S.key),Ie());let f,m;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let S=hs(),y=Ie();return l.Ns.getEntries(p,h).next(E=>{S=E,S.forEach((x,_)=>{_.isValidDocument()||(y=y.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,S)).next(E=>{f=E;const x=[];for(const _ of a){const T=a4(_,f.get(_.key).overlayedDocument);T!=null&&x.push(new Ci(_.key,T,SS(T.value.mapValue),Zn.exists(!0)))}return l.mutationQueue.addMutationBatch(p,d,x,a)}).next(E=>{m=E;const x=E.applyToLocalDocumentSet(f,y);return l.documentOverlayCache.saveOverlays(p,E.batchId,x)})}).then(()=>({batchId:m.batchId,changes:jS(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let d=o.Vu[o.currentUser.toKey()];d||(d=new st(Ce)),d=d.insert(a,l),o.Vu[o.currentUser.toKey()]=d}(r,s.batchId,n),await Wc(r,s.changes),await gf(r.remoteStore)}catch(s){const i=by(s,"Failed to persist write");n.reject(i)}}async function gC(t,e){const n=me(t);try{const r=await iL(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(Le(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?Le(o.hu,14607):s.removedDocuments.size>0&&(Le(o.hu,42227),o.hu=!1))}),await Wc(n,r,e)}catch(r){await qa(r)}}function Kx(t,e,n){const r=me(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=me(o);l.onlineState=a;let d=!1;l.queries.forEach((h,f)=>{for(const m of f.Sa)m.va(a)&&(d=!0)}),d&&Iy(l)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function GL(t,e,n){const r=me(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new st(se.comparator);o=o.insert(i,Ht.newNoDocument(i,fe.min()));const a=Ie().add(i),l=new ff(fe.min(),new Map,new st(Ce),o,a);await gC(r,l),r.du=r.du.remove(i),r.Au.delete(e),Py(r)}else await Ng(r.localStore,e,!1).then(()=>Rg(r,e,n)).catch(qa)}async function KL(t,e){const n=me(t),r=e.batch.batchId;try{const s=await sL(n.localStore,e);yC(n,r,null),vC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Wc(n,s)}catch(s){await qa(s)}}async function QL(t,e,n){const r=me(t);try{const s=await function(o,a){const l=me(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return l.mutationQueue.lookupMutationBatch(d,a).next(f=>(Le(f!==null,37113),h=f.keys(),l.mutationQueue.removeMutationBatch(d,f))).next(()=>l.mutationQueue.performConsistencyCheck(d)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(d,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>l.localDocuments.getDocuments(d,h))})}(r.localStore,e);yC(r,e,n),vC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Wc(r,s)}catch(s){await qa(s)}}function vC(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function yC(t,e,n){const r=me(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function Rg(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||wC(t,r)})}function wC(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(wy(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Py(t))}function Qx(t,e,n){for(const r of n)r instanceof fC?(t.Ru.addReference(r.key,e),YL(t,r)):r instanceof mC?(J(ky,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||wC(t,r.key)):ce(19791,{wu:r})}function YL(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(J(ky,"New document in limbo: "+n),t.Eu.add(r),Py(t))}function Py(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new se(He.fromString(e)),r=t.fu.next();t.Au.set(r,new FL(n)),t.du=t.du.insert(n,r),aC(t.remoteStore,new Ks(Cr(lf(n.path)),r,"TargetPurposeLimboResolution",sf.ce))}}async function Wc(t,e,n){const r=me(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,e,n).then(d=>{var h;if((d||n)&&r.isPrimaryClient){const f=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(d){s.push(d);const f=vy.As(l.targetId,d);i.push(f)}}))}),await Promise.all(o),r.Pu.H_(s),await async function(l,d){const h=me(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>$.forEach(d,m=>$.forEach(m.Es,p=>h.persistence.referenceDelegate.addReference(f,m.targetId,p)).next(()=>$.forEach(m.ds,p=>h.persistence.referenceDelegate.removeReference(f,m.targetId,p)))))}catch(f){if(!Ga(f))throw f;J(yy,"Failed to update sequence numbers: "+f)}for(const f of d){const m=f.targetId;if(!f.fromCache){const p=h.Ms.get(m),S=p.snapshotVersion,y=p.withLastLimboFreeSnapshotVersion(S);h.Ms=h.Ms.insert(m,y)}}}(r.localStore,i))}async function XL(t,e){const n=me(t);if(!n.currentUser.isEqual(e)){J(ky,"User change. New user:",e.toKey());const r=await rC(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(l=>{l.reject(new X(U.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Wc(n,r.Ls)}}function JL(t,e){const n=me(t),r=n.Au.get(e);if(r&&r.hu)return Ie().add(r.key);{let s=Ie();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function _C(t){const e=me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=gC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=JL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=GL.bind(null,e),e.Pu.H_=OL.bind(null,e.eventManager),e.Pu.yu=jL.bind(null,e.eventManager),e}function ZL(t){const e=me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=KL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=QL.bind(null,e),e}class hh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=mf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return rL(this.persistence,new eL,e.initialUser,this.serializer)}Cu(e){return new nC(gy.mi,this.serializer)}Du(e){return new uL}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hh.provider={build:()=>new hh};class eV extends hh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Le(this.persistence.referenceDelegate instanceof uh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new F4(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new nC(r=>uh.mi(r,n),this.serializer)}}class Ag{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Kx(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=XL.bind(null,this.syncEngine),await AL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new ML}()}createDatastore(e){const n=mf(e.databaseInfo.databaseId),r=function(i){return new pL(i)}(e.databaseInfo);return function(i,o,a,l){return new wL(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new xL(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Kx(this.syncEngine,n,0),function(){return Bx.v()?new Bx:new dL}())}createSyncEngine(e,n){return function(s,i,o,a,l,d,h){const f=new UL(s,i,o,a,l,d);return h&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=me(s);J(co,"RemoteStore shutting down."),i.Ea.add(5),await zc(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Ag.provider={build:()=>new Ag};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ds("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yi="FirestoreClient";class tV{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Bt.UNAUTHENTICATED,this.clientId=sy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{J(yi,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(J(yi,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new is;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=by(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Wm(t,e){t.asyncQueue.verifyOperationInProgress(),J(yi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await rC(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Yx(t,e){t.asyncQueue.verifyOperationInProgress();const n=await nV(t);J(yi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Wx(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>Wx(e.remoteStore,s)),t._onlineComponents=e}async function nV(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){J(yi,"Using user provided OfflineComponentProvider");try{await Wm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===U.FAILED_PRECONDITION||s.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Sa("Error using user provided cache. Falling back to memory cache: "+n),await Wm(t,new hh)}}else J(yi,"Using default OfflineComponentProvider"),await Wm(t,new eV(void 0));return t._offlineComponents}async function xC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(J(yi,"Using user provided OnlineComponentProvider"),await Yx(t,t._uninitializedComponentsProvider._online)):(J(yi,"Using default OnlineComponentProvider"),await Yx(t,new Ag))),t._onlineComponents}function rV(t){return xC(t).then(e=>e.syncEngine)}async function fh(t){const e=await xC(t),n=e.eventManager;return n.onListen=$L.bind(null,e.syncEngine),n.onUnlisten=WL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=BL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=HL.bind(null,e.syncEngine),n}function sV(t,e,n={}){const r=new is;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,d){const h=new Ry({next:m=>{h.Nu(),o.enqueueAndForget(()=>Cy(i,f));const p=m.docs.has(a);!p&&m.fromCache?d.reject(new X(U.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&m.fromCache&&l&&l.source==="server"?d.reject(new X(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(m)},error:m=>d.reject(m)}),f=new Ny(lf(a.path),h,{includeMetadataChanges:!0,qa:!0});return Sy(i,f)}(await fh(t),t.asyncQueue,e,n,r)),r.promise}function iV(t,e,n={}){const r=new is;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,d){const h=new Ry({next:m=>{h.Nu(),o.enqueueAndForget(()=>Cy(i,f)),m.fromCache&&l.source==="server"?d.reject(new X(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(m)},error:m=>d.reject(m)}),f=new Ny(a,h,{includeMetadataChanges:!0,qa:!0});return Sy(i,f)}(await fh(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC="firestore.googleapis.com",Jx=!0;class Zx{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new X(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=TC,this.ssl=Jx}else this.host=e.host,this.ssl=e.ssl??Jx;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=tC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<L4)throw new X(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_j("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=EC(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new X(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new X(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new X(U.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vf{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new X(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new X(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zx(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new uj;switch(r.type){case"firstParty":return new mj(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new X(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Xx.get(n);r&&(J("ComponentProvider","Removing Datastore"),Xx.delete(n),r.terminate())}(this),Promise.resolve()}}function oV(t,e,n,r={}){var d;t=jn(t,vf);const s=za(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(Jb(`https://${a}`),Zb("Firestore",!0)),i.host!==TC&&i.host!==a&&Sa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:a,ssl:s,emulatorOptions:r};if(!oo(l,o)&&(t._setSettings(l),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=Bt.MOCK_USER;else{h=LM(r.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new X(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Bt(m)}t._authCredentials=new dj(new fS(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new bo(this.firestore,e,this._query)}}class ut{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ai(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ut(this.firestore,e,this._key)}toJSON(){return{type:ut._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Fc(n,ut._jsonSchema))return new ut(e,r||null,new se(He.fromString(n.referencePath)))}}ut._jsonSchemaVersion="firestore/documentReference/1.0",ut._jsonSchema={type:vt("string",ut._jsonSchemaVersion),referencePath:vt("string")};class ai extends bo{constructor(e,n,r){super(e,n,lf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ut(this.firestore,null,new se(e))}withConverter(e){return new ai(this.firestore,e,this._path)}}function xn(t,e,...n){if(t=Kt(t),mS("collection","path",e),t instanceof vf){const r=He.fromString(e,...n);return hx(r),new ai(t,null,r)}{if(!(t instanceof ut||t instanceof ai))throw new X(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(He.fromString(e,...n));return hx(r),new ai(t.firestore,null,r)}}function li(t,e,...n){if(t=Kt(t),arguments.length===1&&(e=sy.newId()),mS("doc","path",e),t instanceof vf){const r=He.fromString(e,...n);return dx(r),new ut(t,null,new se(r))}{if(!(t instanceof ut||t instanceof ai))throw new X(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(He.fromString(e,...n));return dx(r),new ut(t.firestore,t instanceof ai?t.converter:null,new se(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1="AsyncQueue";class t1{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new iC(this,"async_queue_retry"),this._c=()=>{const r=zm();r&&J(e1,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=zm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=zm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new is;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ga(e))throw e;J(e1,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,ds("INTERNAL UNHANDLED ERROR: ",n1(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Ty.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&ce(47125,{Pc:n1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function n1(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class wi extends vf{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new t1,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new t1(e),this._firestoreClient=void 0,await e}}}function aV(t,e){const n=typeof t=="object"?t:rS(),r=typeof t=="string"?t:sh,s=ny(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=OM("firestore");i&&oV(s,...i)}return s}function yf(t){if(t._terminated)throw new X(U.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||lV(t),t._firestoreClient}function lV(t){var r,s,i;const e=t._freezeSettings(),n=function(a,l,d,h){return new Rj(a,l,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,EC(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new tV(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Dn(Vt.fromBase64String(e))}catch(n){throw new X(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Dn(Vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Dn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Fc(e,Dn._jsonSchema))return Dn.fromBase64String(e.bytes)}}Dn._jsonSchemaVersion="firestore/bytes/1.0",Dn._jsonSchema={type:vt("string",Dn._jsonSchemaVersion),bytes:vt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new X(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new X(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new X(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ce(this._lat,e._lat)||Ce(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Nr._jsonSchemaVersion}}static fromJSON(e){if(Fc(e,Nr._jsonSchema))return new Nr(e.latitude,e.longitude)}}Nr._jsonSchemaVersion="firestore/geoPoint/1.0",Nr._jsonSchema={type:vt("string",Nr._jsonSchemaVersion),latitude:vt("number"),longitude:vt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:kr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Fc(e,kr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new kr(e.vectorValues);throw new X(U.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}kr._jsonSchemaVersion="firestore/vectorValue/1.0",kr._jsonSchema={type:vt("string",kr._jsonSchemaVersion),vectorValues:vt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cV=/^__.*__$/;class uV{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ci(e,this.data,this.fieldMask,n,this.fieldTransforms):new $c(e,this.data,n,this.fieldTransforms)}}class bC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ci(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function SC(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ce(40011,{Ac:t})}}class Ay{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Ay({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return mh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(SC(this.Ac)&&cV.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class dV{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||mf(e)}Cc(e,n,r,s=!1){return new Ay({Ac:e,methodName:n,Dc:r,path:Ot.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Dy(t){const e=t._freezeSettings(),n=mf(t._databaseId);return new dV(t._databaseId,!!e.ignoreUndefinedProperties,n)}function hV(t,e,n,r,s,i={}){const o=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);Oy("Data must be an object, but it was:",o,r);const a=CC(r,o);let l,d;if(i.merge)l=new Tn(o.fieldMask),d=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const m=Dg(e,f,n);if(!o.contains(m))throw new X(U.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);NC(h,m)||h.push(m)}l=new Tn(h),d=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,d=o.fieldTransforms;return new uV(new un(a),l,d)}class xf extends _f{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof xf}}class My extends _f{_toFieldTransform(e){return new r4(e.path,new vc)}isEqual(e){return e instanceof My}}function fV(t,e,n,r){const s=t.Cc(1,e,n);Oy("Data must be an object, but it was:",s,r);const i=[],o=un.empty();Si(r,(l,d)=>{const h=jy(e,l,n);d=Kt(d);const f=s.yc(h);if(d instanceof xf)i.push(h);else{const m=Hc(d,f);m!=null&&(i.push(h),o.set(h,m))}});const a=new Tn(i);return new bC(o,a,s.fieldTransforms)}function mV(t,e,n,r,s,i){const o=t.Cc(1,e,n),a=[Dg(e,r,n)],l=[s];if(i.length%2!=0)throw new X(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<i.length;m+=2)a.push(Dg(e,i[m])),l.push(i[m+1]);const d=[],h=un.empty();for(let m=a.length-1;m>=0;--m)if(!NC(d,a[m])){const p=a[m];let S=l[m];S=Kt(S);const y=o.yc(p);if(S instanceof xf)d.push(p);else{const E=Hc(S,y);E!=null&&(d.push(p),h.set(p,E))}}const f=new Tn(d);return new bC(h,f,o.fieldTransforms)}function pV(t,e,n,r=!1){return Hc(n,t.Cc(r?4:3,e))}function Hc(t,e){if(IC(t=Kt(t)))return Oy("Unsupported field value:",e,t),CC(t,e);if(t instanceof _f)return function(r,s){if(!SC(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=Hc(a,s.wc(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Kt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return e4(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Xe.fromDate(r);return{timestampValue:ch(s.serializer,i)}}if(r instanceof Xe){const i=new Xe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ch(s.serializer,i)}}if(r instanceof Nr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Dn)return{bytesValue:KS(s.serializer,r._byteString)};if(r instanceof ut){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Sc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:my(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof kr)return function(o,a){return{mapValue:{fields:{[TS]:{stringValue:bS},[ih]:{arrayValue:{values:o.toArray().map(d=>{if(typeof d!="number")throw a.Sc("VectorValues must only contain numeric values.");return uy(a.serializer,d)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${rf(r)}`)}(t,e)}function CC(t,e){const n={};return vS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Si(t,(r,s)=>{const i=Hc(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function IC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Xe||t instanceof Nr||t instanceof Dn||t instanceof ut||t instanceof _f||t instanceof kr)}function Oy(t,e,n){if(!IC(n)||!pS(n)){const r=rf(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function Dg(t,e,n){if((e=Kt(e))instanceof wf)return e._internalPath;if(typeof e=="string")return jy(t,e);throw mh("Field path arguments must be of type string or ",t,!1,void 0,n)}const gV=new RegExp("[~\\*/\\[\\]]");function jy(t,e,n){if(e.search(gV)>=0)throw mh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new wf(...e.split("."))._internalPath}catch{throw mh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function mh(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new X(U.INVALID_ARGUMENT,a+t+l)}function NC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new vV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ly("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class vV extends kC{data(){return super.data()}}function Ly(t,e){return typeof e=="string"?jy(t,e):e instanceof wf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new X(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Vy{}class yV extends Vy{}function ca(t,e,...n){let r=[];e instanceof Vy&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof Fy).length,a=i.filter(l=>l instanceof Ef).length;if(o>1||o>0&&a>0)throw new X(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Ef extends yV{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Ef(e,n,r)}_apply(e){const n=this._parse(e);return RC(e._query,n),new bo(e.firestore,e.converter,Eg(e._query,n))}_parse(e){const n=Dy(e.firestore);return function(i,o,a,l,d,h,f){let m;if(d.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new X(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){i1(f,h);const S=[];for(const y of f)S.push(s1(l,i,y));m={arrayValue:{values:S}}}else m=s1(l,i,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||i1(f,h),m=pV(a,o,f,h==="in"||h==="not-in");return pt.create(d,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ua(t,e,n){const r=e,s=Ly("where",t);return Ef._create(s,r,n)}class Fy extends Vy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Fy(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:tr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)RC(o,l),o=Eg(o,l)}(e._query,n),new bo(e.firestore,e.converter,Eg(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function s1(t,e,n){if(typeof(n=Kt(n))=="string"){if(n==="")throw new X(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!AS(e)&&n.indexOf("/")!==-1)throw new X(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(He.fromString(n));if(!se.isDocumentKey(r))throw new X(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return _x(t,new se(r))}if(n instanceof ut)return _x(t,n._key);throw new X(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rf(n)}.`)}function i1(t,e){if(!Array.isArray(t)||t.length===0)throw new X(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function RC(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new X(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new X(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class wV{convertValue(e,n="none"){switch(gi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return at(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(pi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ce(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Si(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[ih].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>at(o.doubleValue));return new kr(n)}convertGeoPoint(e){return new Nr(at(e.latitude),at(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=af(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(mc(e));default:return null}}convertTimestamp(e){const n=mi(e);return new Xe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=He.fromString(e);Le(eC(r),9688,{name:e});const s=new pc(r.get(1),r.get(3)),i=new se(r.popFirst(5));return s.isEqual(n)||ds(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _V(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Rl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ji extends kC{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new vd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ly("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new X(U.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ji._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ji._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ji._jsonSchema={type:vt("string",Ji._jsonSchemaVersion),bundleSource:vt("string","DocumentSnapshot"),bundleName:vt("string"),bundle:vt("string")};class vd extends Ji{data(e={}){return super.data(e)}}class Zi{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Rl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new vd(this._firestore,this._userDataWriter,r.key,r,new Rl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new X(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new vd(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Rl(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new vd(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Rl(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,h=-1;return a.type!==0&&(d=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:xV(a.type),doc:l,oldIndex:d,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new X(U.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Zi._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=sy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function xV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ce(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EV(t){t=jn(t,ut);const e=jn(t.firestore,wi);return sV(yf(e),t._key).then(n=>AC(e,t,n))}Zi._jsonSchemaVersion="firestore/querySnapshot/1.0",Zi._jsonSchema={type:vt("string",Zi._jsonSchemaVersion),bundleSource:vt("string","QuerySnapshot"),bundleName:vt("string"),bundle:vt("string")};class Uy extends wV{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ut(this.firestore,null,n)}}function _c(t){t=jn(t,bo);const e=jn(t.firestore,wi),n=yf(e),r=new Uy(e);return PC(t._query),iV(n,t._query).then(s=>new Zi(e,r,t,s))}function $y(t,e,n,...r){t=jn(t,ut);const s=jn(t.firestore,wi),i=Dy(s);let o;return o=typeof(e=Kt(e))=="string"||e instanceof wf?mV(i,"updateDoc",t._key,e,n,r):fV(i,"updateDoc",t._key,e),zy(s,[o.toMutation(t._key,Zn.exists(!0))])}function xc(t){return zy(jn(t.firestore,wi),[new dy(t._key,Zn.none())])}function Ec(t,e){const n=jn(t.firestore,wi),r=li(t),s=_V(t.converter,e);return zy(n,[hV(Dy(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Zn.exists(!1))]).then(()=>r)}function By(t,...e){var l,d,h;t=Kt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||r1(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(r1(e[r])){const f=e[r];e[r]=(l=f.next)==null?void 0:l.bind(f),e[r+1]=(d=f.error)==null?void 0:d.bind(f),e[r+2]=(h=f.complete)==null?void 0:h.bind(f)}let i,o,a;if(t instanceof ut)o=jn(t.firestore,wi),a=lf(t._key.path),i={next:f=>{e[r]&&e[r](AC(o,t,f))},error:e[r+1],complete:e[r+2]};else{const f=jn(t,bo);o=jn(f.firestore,wi),a=f._query;const m=new Uy(o);i={next:p=>{e[r]&&e[r](new Zi(o,m,f,p))},error:e[r+1],complete:e[r+2]},PC(t._query)}return function(m,p,S,y){const E=new Ry(y),x=new Ny(p,E,S);return m.asyncQueue.enqueueAndForget(async()=>Sy(await fh(m),x)),()=>{E.Nu(),m.asyncQueue.enqueueAndForget(async()=>Cy(await fh(m),x))}}(yf(o),a,s,i)}function zy(t,e){return function(r,s){const i=new is;return r.asyncQueue.enqueueAndForget(async()=>qL(await rV(r),s,i)),i.promise}(yf(t),e)}function AC(t,e,n){const r=n.docs.get(e._key),s=new Uy(t);return new Ji(t,s,e._key,r,new Rl(n.hasPendingWrites,n.fromCache),e.converter)}function Tc(){return new My("serverTimestamp")}(function(e,n=!0){(function(s){Ha=s})(Wa),ba(new ao("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new wi(new hj(r.getProvider("auth-internal")),new pj(o,r.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new X(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pc(d.options.projectId,h)}(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),ii(ax,lx,e),ii(ax,lx,"esm2020")})();var TV="firebase",bV="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ii(TV,bV,"app");function DC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const SV=DC,MC=new Lc("auth","Firebase",DC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ph=new ey("@firebase/auth");function CV(t,...e){ph.logLevel<=Se.WARN&&ph.warn(`Auth (${Wa}): ${t}`,...e)}function yd(t,...e){ph.logLevel<=Se.ERROR&&ph.error(`Auth (${Wa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fs(t,...e){throw Wy(t,...e)}function Pr(t,...e){return Wy(t,...e)}function OC(t,e,n){const r={...SV(),[e]:n};return new Lc("auth","Firebase",r).create(e,{appName:t.name})}function eo(t){return OC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Wy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return MC.create(t,...e)}function he(t,e,...n){if(!t)throw Wy(e,...n)}function ts(t){const e="INTERNAL ASSERTION FAILED: "+t;throw yd(e),new Error(e)}function ms(t,e){t||ts(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mg(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function IV(){return o1()==="http:"||o1()==="https:"}function o1(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(IV()||zM()||"connection"in navigator)?navigator.onLine:!0}function kV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,n){this.shortDelay=e,this.longDelay=n,ms(n>e,"Short delay should be less than long delay!"),this.isMobile=UM()||WM()}get(){return NV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hy(t,e){ms(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ts("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ts("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ts("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],AV=new qc(3e4,6e4);function qy(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Qa(t,e,n,r,s={}){return LC(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Vc({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:l,...i};return BM()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&za(t.emulatorConfig.host)&&(d.credentials="include"),jC.fetch()(await VC(t,t.config.apiHost,n,a),d)})}async function LC(t,e,n){t._canInitEmulator=!1;const r={...PV,...e};try{const s=new MV(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Hu(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,d]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Hu(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Hu(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Hu(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw OC(t,h,d);fs(t,h)}}catch(s){if(s instanceof ws)throw s;fs(t,"network-request-failed",{message:String(s)})}}async function DV(t,e,n,r,s={}){const i=await Qa(t,e,n,r,s);return"mfaPendingCredential"in i&&fs(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function VC(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?Hy(t.config,s):`${t.config.apiScheme}://${s}`;return RV.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}class MV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Pr(this.auth,"network-request-failed")),AV.get())})}}function Hu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Pr(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OV(t,e){return Qa(t,"POST","/v1/accounts:delete",e)}async function gh(t,e){return Qa(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function jV(t,e=!1){const n=Kt(t),r=await n.getIdToken(e),s=Gy(r);he(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Kl(Hm(s.auth_time)),issuedAtTime:Kl(Hm(s.iat)),expirationTime:Kl(Hm(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Hm(t){return Number(t)*1e3}function Gy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return yd("JWT malformed, contained fewer than 3 sections"),null;try{const s=Kb(n);return s?JSON.parse(s):(yd("Failed to decode base64 JWT payload"),null)}catch(s){return yd("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function a1(t){const e=Gy(t);return he(e,"internal-error"),he(typeof e.exp<"u","internal-error"),he(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ws&&LV(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function LV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Kl(this.lastLoginAt),this.creationTime=Kl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vh(t){var f;const e=t.auth,n=await t.getIdToken(),r=await bc(t,gh(e,{idToken:n}));he(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(f=s.providerUserInfo)!=null&&f.length?FC(s.providerUserInfo):[],o=UV(t.providerData,i),a=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),d=a?l:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Og(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function FV(t){const e=Kt(t);await vh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function UV(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function FC(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $V(t,e){const n=await LC(t,{},async()=>{const r=Vc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await VC(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&za(t.emulatorConfig.host)&&(l.credentials="include"),jC.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function BV(t,e){return Qa(t,"POST","/v2/accounts:revokeToken",qy(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){he(e.idToken,"internal-error"),he(typeof e.idToken<"u","internal-error"),he(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):a1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){he(e.length!==0,"internal-error");const n=a1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(he(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await $V(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new da;return r&&(he(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(he(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(he(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new da,this.toJSON())}_performRefresh(){return ts("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rs(t,e){he(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Yn{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new VV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Og(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await bc(this,this.stsTokenManager.getToken(this.auth,e));return he(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return jV(this,e)}reload(){return FV(this)}_assign(e){this!==e&&(he(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Yn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){he(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await vh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(yr(this.auth.app))return Promise.reject(eo(this.auth));const e=await this.getIdToken();return await bc(this,OV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,d=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:f,emailVerified:m,isAnonymous:p,providerData:S,stsTokenManager:y}=n;he(f&&y,e,"internal-error");const E=da.fromJSON(this.name,y);he(typeof f=="string",e,"internal-error"),Rs(r,e.name),Rs(s,e.name),he(typeof m=="boolean",e,"internal-error"),he(typeof p=="boolean",e,"internal-error"),Rs(i,e.name),Rs(o,e.name),Rs(a,e.name),Rs(l,e.name),Rs(d,e.name),Rs(h,e.name);const x=new Yn({uid:f,auth:e,email:s,emailVerified:m,displayName:r,isAnonymous:p,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:E,createdAt:d,lastLoginAt:h});return S&&Array.isArray(S)&&(x.providerData=S.map(_=>({..._}))),l&&(x._redirectEventId=l),x}static async _fromIdTokenResponse(e,n,r=!1){const s=new da;s.updateFromServerResponse(n);const i=new Yn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await vh(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];he(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?FC(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new da;a.updateFromIdToken(r);const l=new Yn({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Og(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,d),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1=new Map;function ns(t){ms(t instanceof Function,"Expected a class definition");let e=l1.get(t);return e?(ms(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,l1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}UC.type="NONE";const c1=UC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wd(t,e,n){return`firebase:${t}:${e}:${n}`}class ha{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=wd(this.userKey,s.apiKey,i),this.fullPersistenceKey=wd("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await gh(this.auth,{idToken:e}).catch(()=>{});return n?Yn._fromGetAccountInfoResponse(this.auth,n,e):null}return Yn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ha(ns(c1),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=s[0]||ns(c1);const o=wd(r,e.config.apiKey,e.name);let a=null;for(const d of n)try{const h=await d._get(o);if(h){let f;if(typeof h=="string"){const m=await gh(e,{idToken:h}).catch(()=>{});if(!m)break;f=await Yn._fromGetAccountInfoResponse(e,m,h)}else f=Yn._fromJSON(e,h);d!==i&&(a=f),i=d;break}}catch{}const l=s.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new ha(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async d=>{if(d!==i)try{await d._remove(o)}catch{}})),new ha(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(WC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($C(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qC(e))return"Blackberry";if(GC(e))return"Webos";if(BC(e))return"Safari";if((e.includes("chrome/")||zC(e))&&!e.includes("edge/"))return"Chrome";if(HC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function $C(t=Gt()){return/firefox\//i.test(t)}function BC(t=Gt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function zC(t=Gt()){return/crios\//i.test(t)}function WC(t=Gt()){return/iemobile/i.test(t)}function HC(t=Gt()){return/android/i.test(t)}function qC(t=Gt()){return/blackberry/i.test(t)}function GC(t=Gt()){return/webos/i.test(t)}function Ky(t=Gt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function zV(t=Gt()){var e;return Ky(t)&&!!((e=window.navigator)!=null&&e.standalone)}function WV(){return HM()&&document.documentMode===10}function KC(t=Gt()){return Ky(t)||HC(t)||GC(t)||qC(t)||/windows phone/i.test(t)||WC(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QC(t,e=[]){let n;switch(t){case"Browser":n=u1(Gt());break;case"Worker":n=`${u1(Gt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Wa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qV(t,e={}){return Qa(t,"GET","/v2/passwordPolicy",qy(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GV=6;class KV{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??GV,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new d1(this),this.idTokenSubscription=new d1(this),this.beforeStateQueue=new HV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=MC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ns(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await ha.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await gh(this,{idToken:e}),r=await Yn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(yr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return he(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await vh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=kV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(yr(this.app))return Promise.reject(eo(this));const n=e?Kt(e):null;return n&&he(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&he(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return yr(this.app)?Promise.reject(eo(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return yr(this.app)?Promise.reject(eo(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ns(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await qV(this),n=new KV(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Lc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await BV(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ns(e)||this._popupRedirectResolver;he(n,this,"argument-error"),this.redirectPersistenceManager=await ha.create(this,[ns(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(he(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return he(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=QC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(yr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&CV(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Qy(t){return Kt(t)}class d1{constructor(e){this.auth=e,this.observer=null,this.addObserver=ZM(n=>this.observer=n)}get next(){return he(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function YV(t){Yy=t}function XV(t){return Yy.loadJS(t)}function JV(){return Yy.gapiScript}function ZV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eF(t,e){const n=ny(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(oo(i,e??{}))return s;fs(s,"already-initialized")}return n.initialize({options:e})}function tF(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ns);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function nF(t,e,n){const r=Qy(t);he(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=YC(e),{host:o,port:a}=rF(e),l=a===null?"":`:${a}`,d={url:`${i}//${o}${l}/`},h=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){he(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),he(oo(d,r.config.emulator)&&oo(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,za(o)?(Jb(`${i}//${o}${l}`),Zb("Auth",!0)):sF()}function YC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function rF(t){const e=YC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:h1(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:h1(o)}}}function h1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function sF(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ts("not implemented")}_getIdTokenResponse(e){return ts("not implemented")}_linkToIdToken(e,n){return ts("not implemented")}_getReauthenticationResolver(e){return ts("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fa(t,e){return DV(t,"POST","/v1/accounts:signInWithIdp",qy(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iF="http://localhost";class uo extends XC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new uo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):fs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new uo(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return fa(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,fa(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,fa(e,n)}buildRequest(){const e={requestUri:iF,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Vc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc extends JC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs extends Gc{constructor(){super("facebook.com")}static credential(e){return uo._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bs.credentialFromTaggedObject(e)}static credentialFromError(e){return Bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bs.credential(e.oauthAccessToken)}catch{return null}}}Bs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Bs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs extends Gc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return uo._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return zs.credentialFromTaggedObject(e)}static credentialFromError(e){return zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return zs.credential(n,r)}catch{return null}}}zs.GOOGLE_SIGN_IN_METHOD="google.com";zs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws extends Gc{constructor(){super("github.com")}static credential(e){return uo._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ws.credentialFromTaggedObject(e)}static credentialFromError(e){return Ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ws.credential(e.oauthAccessToken)}catch{return null}}}Ws.GITHUB_SIGN_IN_METHOD="github.com";Ws.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs extends Gc{constructor(){super("twitter.com")}static credential(e,n){return uo._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Hs.credentialFromTaggedObject(e)}static credentialFromError(e){return Hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Hs.credential(n,r)}catch{return null}}}Hs.TWITTER_SIGN_IN_METHOD="twitter.com";Hs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Yn._fromIdTokenResponse(e,r,s),o=f1(r);return new Ra({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=f1(r);return new Ra({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function f1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh extends ws{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,yh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new yh(e,n,r,s)}}function ZC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?yh._fromErrorAndOperation(t,i,e,r):i})}async function oF(t,e,n=!1){const r=await bc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ra._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aF(t,e,n=!1){const{auth:r}=t;if(yr(r.app))return Promise.reject(eo(r));const s="reauthenticate";try{const i=await bc(t,ZC(r,s,e,t),n);he(i.idToken,r,"internal-error");const o=Gy(i.idToken);he(o,r,"internal-error");const{sub:a}=o;return he(t.uid===a,r,"user-mismatch"),Ra._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&fs(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lF(t,e,n=!1){if(yr(t.app))return Promise.reject(eo(t));const r="signIn",s=await ZC(t,r,e),i=await Ra._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}function cF(t,e,n,r){return Kt(t).onIdTokenChanged(e,n,r)}function uF(t,e,n){return Kt(t).beforeAuthStateChanged(e,n)}const wh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(wh,"1"),this.storage.removeItem(wh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dF=1e3,hF=10;class tI extends eI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=KC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);WV()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,hF):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},dF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}tI.type="LOCAL";const fF=tI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI extends eI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}nI.type="SESSION";const rI=nI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mF(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Tf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async d=>d(n.origin,i)),l=await mF(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Tf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const d=Xy("",20);s.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const m=f;if(m.data.eventId===d)switch(m.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(m.data.response);break;default:clearTimeout(h),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(){return window}function gF(t){Rr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(){return typeof Rr().WorkerGlobalScope<"u"&&typeof Rr().importScripts=="function"}async function vF(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function yF(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function wF(){return sI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI="firebaseLocalStorageDb",_F=1,_h="firebaseLocalStorage",oI="fbase_key";class Kc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function bf(t,e){return t.transaction([_h],e?"readwrite":"readonly").objectStore(_h)}function xF(){const t=indexedDB.deleteDatabase(iI);return new Kc(t).toPromise()}function jg(){const t=indexedDB.open(iI,_F);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(_h,{keyPath:oI})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(_h)?e(r):(r.close(),await xF(),e(await jg()))})})}async function m1(t,e,n){const r=bf(t,!0).put({[oI]:e,value:n});return new Kc(r).toPromise()}async function EF(t,e){const n=bf(t,!1).get(e),r=await new Kc(n).toPromise();return r===void 0?null:r.value}function p1(t,e){const n=bf(t,!0).delete(e);return new Kc(n).toPromise()}const TF=800,bF=3;class aI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await jg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>bF)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Tf._getInstance(wF()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await vF(),!this.activeServiceWorker)return;this.sender=new pF(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||yF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await jg();return await m1(e,wh,"1"),await p1(e,wh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>m1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>EF(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>p1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=bf(s,!1).getAll();return new Kc(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),TF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}aI.type="LOCAL";const SF=aI;new qc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CF(t,e){return e?ns(e):(he(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy extends XC{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return fa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return fa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return fa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function IF(t){return lF(t.auth,new Jy(t),t.bypassAuthState)}function NF(t){const{auth:e,user:n}=t;return he(n,e,"internal-error"),aF(n,new Jy(t),t.bypassAuthState)}async function kF(t){const{auth:e,user:n}=t;return he(n,e,"internal-error"),oF(n,new Jy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return IF;case"linkViaPopup":case"linkViaRedirect":return kF;case"reauthViaPopup":case"reauthViaRedirect":return NF;default:fs(this.auth,"internal-error")}}resolve(e){ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PF=new qc(2e3,1e4);class ea extends lI{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,ea.currentPopupAction&&ea.currentPopupAction.cancel(),ea.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return he(e,this.auth,"internal-error"),e}async onExecution(){ms(this.filter.length===1,"Popup operations only handle one event");const e=Xy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Pr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Pr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ea.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,PF.get())};e()}}ea.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RF="pendingRedirect",_d=new Map;class AF extends lI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=_d.get(this.auth._key());if(!e){try{const r=await DF(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}_d.set(this.auth._key(),e)}return this.bypassAuthState||_d.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function DF(t,e){const n=jF(e),r=OF(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function MF(t,e){_d.set(t._key(),e)}function OF(t){return ns(t._redirectPersistence)}function jF(t){return wd(RF,t.config.apiKey,t.name)}async function LF(t,e,n=!1){if(yr(t.app))return Promise.reject(eo(t));const r=Qy(t),s=CF(r,e),o=await new AF(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VF=10*60*1e3;class FF{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!UF(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!cI(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Pr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=VF&&this.cachedEventUids.clear(),this.cachedEventUids.has(g1(e))}saveEventToCache(e){this.cachedEventUids.add(g1(e)),this.lastProcessedEventTime=Date.now()}}function g1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function cI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function UF(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $F(t,e={}){return Qa(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zF=/^https?/;async function WF(t){if(t.config.emulator)return;const{authorizedDomains:e}=await $F(t);for(const n of e)try{if(HF(n))return}catch{}fs(t,"unauthorized-domain")}function HF(t){const e=Mg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!zF.test(n))return!1;if(BF.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qF=new qc(3e4,6e4);function v1(){const t=Rr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function GF(t){return new Promise((e,n)=>{var s,i,o;function r(){v1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{v1(),n(Pr(t,"network-request-failed"))},timeout:qF.get()})}if((i=(s=Rr().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=Rr().gapi)!=null&&o.load)r();else{const a=ZV("iframefcb");return Rr()[a]=()=>{gapi.load?r():n(Pr(t,"network-request-failed"))},XV(`${JV()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw xd=null,e})}let xd=null;function KF(t){return xd=xd||GF(t),xd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QF=new qc(5e3,15e3),YF="__/auth/iframe",XF="emulator/auth/iframe",JF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ZF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function e3(t){const e=t.config;he(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Hy(e,XF):`https://${t.config.authDomain}/${YF}`,r={apiKey:e.apiKey,appName:t.name,v:Wa},s=ZF.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Vc(r).slice(1)}`}async function t3(t){const e=await KF(t),n=Rr().gapi;return he(n,t,"internal-error"),e.open({where:document.body,url:e3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:JF,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Pr(t,"network-request-failed"),a=Rr().setTimeout(()=>{i(o)},QF.get());function l(){Rr().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},r3=500,s3=600,i3="_blank",o3="http://localhost";class y1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function a3(t,e,n,r=r3,s=s3){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...n3,width:r.toString(),height:s.toString(),top:i,left:o},d=Gt().toLowerCase();n&&(a=zC(d)?i3:n),$C(d)&&(e=e||o3,l.scrollbars="yes");const h=Object.entries(l).reduce((m,[p,S])=>`${m}${p}=${S},`,"");if(zV(d)&&a!=="_self")return l3(e||"",a),new y1(null);const f=window.open(e||"",a,h);he(f,t,"popup-blocked");try{f.focus()}catch{}return new y1(f)}function l3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c3="__/auth/handler",u3="emulator/auth/handler",d3=encodeURIComponent("fac");async function w1(t,e,n,r,s,i){he(t.config.authDomain,t,"auth-domain-config-required"),he(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Wa,eventId:s};if(e instanceof JC){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",JM(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof Gc){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),d=l?`#${d3}=${encodeURIComponent(l)}`:"";return`${h3(t)}?${Vc(a).slice(1)}${d}`}function h3({config:t}){return t.emulator?Hy(t,u3):`https://${t.authDomain}/${c3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm="webStorageSupport";class f3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rI,this._completeRedirectFn=LF,this._overrideRedirectResult=MF}async _openPopup(e,n,r,s){var o;ms((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await w1(e,n,r,Mg(),s);return a3(e,i,Xy())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await w1(e,n,r,Mg(),s);return gF(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(ms(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await t3(e),r=new FF(e);return n.register("authEvent",s=>(he(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(qm,{type:qm},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[qm];i!==void 0&&n(!!i),fs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=WF(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return KC()||BC()||Ky()}}const m3=f3;var _1="@firebase/auth",x1="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){he(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function v3(t){ba(new ao("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;he(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:QC(t)},d=new QV(r,s,i,l);return tF(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ba(new ao("auth-internal",e=>{const n=Qy(e.getProvider("auth").getImmediate());return(r=>new p3(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ii(_1,x1,g3(t)),ii(_1,x1,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y3=5*60,w3=Xb("authIdTokenMaxAge")||y3;let E1=null;const _3=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>w3)return;const s=n==null?void 0:n.token;E1!==s&&(E1=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function x3(t=rS()){const e=ny(t,"auth");if(e.isInitialized())return e.getImmediate();const n=eF(t,{popupRedirectResolver:m3,persistence:[SF,fF,rI]}),r=Xb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=_3(i.toString());uF(n,o,()=>o(n.currentUser)),cF(n,a=>o(a))}}const s=Qb("auth");return s&&nF(n,`http://${s}`),n}function E3(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}YV({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Pr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",E3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});v3("Browser");const T3={apiKey:"AIzaSyDemoKey123456789",authDomain:"focus-matrix-1761278678093.firebaseapp.com",projectId:"focus-matrix-1761278678093",storageBucket:"focus-matrix-1761278678093.appspot.com",messagingSenderId:"123456789",appId:"1:123456789:web:demo123456789"},uI=nS(T3),ft=aV(uI);x3(uI);const Do="users",Vi="tasks",Fi="reminders",zi={async getAllUsers(){return(await _c(xn(ft,Do))).docs.map(e=>({id:e.id,...e.data()}))},async getUserById(t){const e=li(ft,Do,t),n=await EV(e);return n.exists()?{id:n.id,...n.data()}:null},async createUser(t){return(await Ec(xn(ft,Do),{...t,createdAt:Tc()})).id},async updateUser(t,e){const n=li(ft,Do,t);await $y(n,e)},async deleteUser(t){const e=li(ft,Do,t);await xc(e)},onUsersChange(t){return By(xn(ft,Do),e=>{const n=e.docs.map(r=>({id:r.id,...r.data()}));t(n)})}},Ds={async getUserTasks(t){const e=ca(xn(ft,Vi),ua("userId","==",t));return(await _c(e)).docs.map(r=>({id:r.id,...r.data()}))},async createTask(t){return(await Ec(xn(ft,Vi),{...t,createdAt:Tc()})).id},async updateTask(t,e){const n=li(ft,Vi,t);await $y(n,e)},async deleteTask(t){const e=li(ft,Vi,t);await xc(e)},async deleteAllUserTasks(t){const e=ca(xn(ft,Vi),ua("userId","==",t)),r=(await _c(e)).docs.map(s=>xc(s.ref));await Promise.all(r)},async replaceUserTasks(t,e){await this.deleteAllUserTasks(t);const n=e.map(r=>Ec(xn(ft,Vi),{...r,userId:t,createdAt:Tc()}));await Promise.all(n)},onUserTasksChange(t,e){const n=ca(xn(ft,Vi),ua("userId","==",t));return By(n,r=>{const s=r.docs.map(i=>({id:i.id,...i.data()}));e(s)})}},Yr={async getUserReminders(t){const e=ca(xn(ft,Fi),ua("userId","==",t));return(await _c(e)).docs.map(r=>({id:r.id,...r.data()}))},async createReminder(t){return(await Ec(xn(ft,Fi),{...t,createdAt:Tc()})).id},async updateReminder(t,e){const n=li(ft,Fi,t);await $y(n,e)},async deleteReminder(t){const e=li(ft,Fi,t);await xc(e)},async deleteAllUserReminders(t){const e=ca(xn(ft,Fi),ua("userId","==",t)),r=(await _c(e)).docs.map(s=>xc(s.ref));await Promise.all(r)},async replaceUserReminders(t,e){await this.deleteAllUserReminders(t);const n=e.map(r=>Ec(xn(ft,Fi),{...r,userId:t,createdAt:Tc()}));await Promise.all(n)},onUserRemindersChange(t,e){const n=ca(xn(ft,Fi),ua("userId","==",t));return By(n,r=>{const s=r.docs.map(i=>({id:i.id,...i.data()}));e(s)})}};let Ed=[],xh=0;const b3=()=>{xh++,console.log("Notifying listeners, refreshCounter:",xh),Ed.forEach(t=>{try{t()}catch(e){console.error("Error in listener:",e)}})},At=()=>{b3(),window.dispatchEvent(new CustomEvent("trpc-state-change",{detail:{refreshCounter:xh}}))},gt={auth:{getGoogleDriveToken:{useMutation:t=>({mutateAsync:async e=>({accessToken:""}),isPending:!1})},login:{useMutation:t=>{let e=!1;return{mutate:async n=>{if(!e){e=!0;try{console.log("Firebase login attempt:",n);const s=(await zi.getAllUsers()).find(i=>i.email===n.email&&i.passwordHash===n.password);s?(console.log("Firebase login success for:",s.email),t!=null&&t.onSuccess&&t.onSuccess(s)):(console.log("Firebase login failed for:",n.email),t!=null&&t.onError&&t.onError(new Error("Invalid credentials")))}catch(r){console.error("Firebase login error:",r),t!=null&&t.onError&&t.onError(r)}e=!1}},isPending:e}}},register:{useMutation:t=>{let e=!1;return{mutate:async n=>{if(!e){e=!0;try{if(console.log("Firebase register attempt:",n),(await zi.getAllUsers()).find(i=>i.email===n.email))console.log("Firebase register failed: User already exists",n.email),t!=null&&t.onError&&t.onError(new Error("User with this email already exists"));else{const i={name:n.name,email:n.email,role:"user",status:"active",joinedAt:new Date().toISOString()},a={id:await zi.createUser(i),...i};At(),console.log("Firebase register success for:",a.email),t!=null&&t.onSuccess&&t.onSuccess(a)}}catch(r){console.error("Firebase register error:",r),t!=null&&t.onError&&t.onError(r)}e=!1}},isPending:e}}}},tasks:{list:{useQuery:t=>{t!=null&&t.onSuccess&&Ed.push(t.onSuccess);const e=localStorage.getItem("user"),n=e?JSON.parse(e).id:"anonymous";let r=[];const s=Ds.onUserTasksChange(n,i=>{r=i,t!=null&&t.onSuccess&&t.onSuccess(i),At()});return{data:r,isLoading:!1,refreshCounter:xh,refetch:()=>(At(),Promise.resolve()),unsubscribe:s}}},create:{useMutation:t=>{let e=!1;return{mutate:async n=>{if(!e){e=!0;try{console.log("Firebase creating task:",n);const r=localStorage.getItem("user"),s=r?JSON.parse(r).id:"anonymous",i={title:n.title,notes:n.notes||"",createdAt:new Date().toISOString(),dueDate:n.dueDate,priority:n.priority,completed:!1,rolloverCount:0,taskType:n.taskType||"work",userId:s},o=await Ds.createTask(i);if(n.reminder&&n.reminder.time){const a={taskId:o,reminderTime:n.reminder.time,email:n.reminder.email,userId:s};await Yr.createReminder(a)}At(),t!=null&&t.onSuccess&&t.onSuccess()}catch(r){console.error("Firebase create task error:",r),t!=null&&t.onError&&t.onError(r)}e=!1}},mutateAsync:async n=>{if(e)return Promise.resolve({});e=!0;try{console.log("Firebase creating task async:",n);const r=localStorage.getItem("user"),s=r?JSON.parse(r).id:"anonymous",i={title:n.title,notes:n.notes||"",createdAt:new Date().toISOString(),dueDate:n.dueDate,priority:n.priority,completed:!1,rolloverCount:0,taskType:n.taskType||"work",userId:s},o=await Ds.createTask(i);if(n.reminder&&n.reminder.time){const a={taskId:o,reminderTime:n.reminder.time,email:n.reminder.email,userId:s};await Yr.createReminder(a)}return At(),t!=null&&t.onSuccess&&t.onSuccess(),Promise.resolve()}catch(r){return console.error("Firebase create task async error:",r),t!=null&&t.onError&&t.onError(r),Promise.reject(r)}finally{e=!1}},isPending:e}}},update:{useMutation:t=>{let e=!1;return{mutate:async n=>{if(!e){e=!0;try{console.log("Firebase updating task:",n),await Ds.updateTask(n.id,n),At(),t!=null&&t.onSuccess&&t.onSuccess()}catch(r){console.error("Firebase update task error:",r),t!=null&&t.onError&&t.onError(r)}e=!1}},isPending:e}}},delete:{useMutation:t=>{let e=!1;return{mutate:async n=>{if(!e){e=!0;try{console.log("Firebase deleting task:",n),await Ds.deleteTask(n.id),At(),t!=null&&t.onSuccess&&t.onSuccess()}catch(r){console.error("Firebase delete task error:",r),t!=null&&t.onError&&t.onError(r)}e=!1}},isPending:e}}},deleteAll:{useMutation:t=>{let e=!1;return{mutate:async()=>{if(!e){e=!0;try{console.log("Firebase deleting all tasks");const n=localStorage.getItem("user"),r=n?JSON.parse(n).id:"anonymous";await Ds.deleteAllUserTasks(r),await Yr.deleteAllUserReminders(r),At(),t!=null&&t.onSuccess&&t.onSuccess()}catch(n){console.error("Firebase delete all tasks error:",n),t!=null&&t.onError&&t.onError(n)}e=!1}},isPending:e}}},replaceAll:{useMutation:t=>{let e=!1;return{mutate:async n=>{if(!e){e=!0;try{console.log("Firebase replacing all tasks:",n);const r=localStorage.getItem("user"),s=r?JSON.parse(r).id:"anonymous";await Ds.replaceUserTasks(s,n.tasks),At(),t!=null&&t.onSuccess&&t.onSuccess()}catch(r){console.error("Firebase replace all tasks error:",r),t!=null&&t.onError&&t.onError(r)}e=!1}},isPending:e}}}},reminders:{list:{useQuery:t=>{t!=null&&t.onSuccess&&Ed.push(t.onSuccess);const e=localStorage.getItem("user"),n=e?JSON.parse(e).id:"anonymous";let r=[];const s=Yr.onUserRemindersChange(n,i=>{r=i,t!=null&&t.onSuccess&&t.onSuccess(i),At()});return{data:r,isLoading:!1,refetch:()=>Promise.resolve(),unsubscribe:s}}},create:{useMutation:t=>{let e=!1;return{mutate:async n=>{if(!e){e=!0;try{console.log("Firebase creating reminder:",n);const r=localStorage.getItem("user"),s=r?JSON.parse(r).id:"anonymous",i={taskId:n.taskId,reminderTime:n.reminderTime,email:n.email,userId:s};await Yr.createReminder(i),At(),t!=null&&t.onSuccess&&t.onSuccess()}catch(r){console.error("Firebase create reminder error:",r),t!=null&&t.onError&&t.onError(r)}e=!1}},isPending:e}}},update:{useMutation:t=>{let e=!1;return{mutate:async n=>{if(!e){e=!0;try{console.log("Firebase updating reminder:",n),await Yr.updateReminder(n.id,n),At(),t!=null&&t.onSuccess&&t.onSuccess()}catch(r){console.error("Firebase update reminder error:",r),t!=null&&t.onError&&t.onError(r)}e=!1}},isPending:e}}},delete:{useMutation:t=>{let e=!1;return{mutate:async n=>{if(!e){e=!0;try{console.log("Firebase deleting reminder:",n),await Yr.deleteReminder(n.id),At(),t!=null&&t.onSuccess&&t.onSuccess()}catch(r){console.error("Firebase delete reminder error:",r),t!=null&&t.onError&&t.onError(r)}e=!1}},isPending:e}}},replaceAll:{useMutation:t=>{let e=!1;return{mutate:async n=>{if(!e){e=!0;try{console.log("Firebase replacing all reminders:",n);const r=localStorage.getItem("user"),s=r?JSON.parse(r).id:"anonymous";await Yr.replaceUserReminders(s,n.reminders),At(),t!=null&&t.onSuccess&&t.onSuccess()}catch(r){console.error("Firebase replace all reminders error:",r),t!=null&&t.onError&&t.onError(r)}e=!1}},isPending:e}}}},users:{list:{useQuery:t=>{t!=null&&t.onSuccess&&Ed.push(t.onSuccess);let e=[];const n=zi.onUsersChange(r=>{e=r,t!=null&&t.onSuccess&&t.onSuccess(r),At()});return{data:e,isLoading:!1,refetch:()=>Promise.resolve(),unsubscribe:n}}},update:{useMutation:t=>{let e=!1;return{mutate:async n=>{if(!e){e=!0;try{console.log("Firebase updating user:",n),await zi.updateUser(n.id,n),At(),t!=null&&t.onSuccess&&t.onSuccess()}catch(r){console.error("Firebase update user error:",r),t!=null&&t.onError&&t.onError(r)}e=!1}},isPending:e}}},delete:{useMutation:t=>{let e=!1;return{mutate:async n=>{if(!e){e=!0;try{console.log("Firebase deleting user:",n),await zi.deleteUser(n.id),At(),t!=null&&t.onSuccess&&t.onSuccess()}catch(r){console.error("Firebase delete user error:",r),t!=null&&t.onError&&t.onError(r)}e=!1}},isPending:e}}}}},S3=Jv("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Fe({className:t,variant:e,...n}){return c.jsx("div",{className:ue(S3({variant:e}),t),...n})}function C3(t,e){const n=v.createContext(e),r=i=>{const{children:o,...a}=i,l=v.useMemo(()=>a,Object.values(a));return c.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=v.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function zr(t,e=[]){let n=[];function r(i,o){const a=v.createContext(o),l=n.length;n=[...n,o];const d=f=>{var x;const{scope:m,children:p,...S}=f,y=((x=m==null?void 0:m[t])==null?void 0:x[l])||a,E=v.useMemo(()=>S,Object.values(S));return c.jsx(y.Provider,{value:E,children:p})};d.displayName=i+"Provider";function h(f,m){var y;const p=((y=m==null?void 0:m[t])==null?void 0:y[l])||a,S=v.useContext(p);if(S)return S;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[d,h]}const s=()=>{const i=n.map(o=>v.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return v.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,I3(s,...e)]}function I3(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:d})=>{const f=l(i)[`__scope${d}`];return{...a,...f}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function ne(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}var Qt=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},N3=NE[" useInsertionEffect ".trim().toString()]||Qt;function ho({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=k3({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:s;{const h=v.useRef(t!==void 0);v.useEffect(()=>{const f=h.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=a},[a,r])}const d=v.useCallback(h=>{var f;if(a){const m=P3(h)?h(t):h;m!==t&&((f=o.current)==null||f.call(o,m))}else i(h)},[a,t,i,o]);return[l,d]}function k3({defaultProp:t,onChange:e}){const[n,r]=v.useState(t),s=v.useRef(n),i=v.useRef(e);return N3(()=>{i.current=e},[e]),v.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function P3(t){return typeof t=="function"}function dI(t){const e=v.useRef({value:t,previous:t});return v.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}function hI(t){const[e,n]=v.useState(void 0);return Qt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,d=Array.isArray(l)?l[0]:l;o=d.inlineSize,a=d.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}function R3(t,e){return v.useReducer((n,r)=>e[n][r]??n,t)}var or=t=>{const{present:e,children:n}=t,r=A3(e),s=typeof n=="function"?n({present:r.isPresent}):v.Children.only(n),i=Oe(r.ref,D3(s));return typeof n=="function"||r.isPresent?v.cloneElement(s,{ref:i}):null};or.displayName="Presence";function A3(t){const[e,n]=v.useState(),r=v.useRef(null),s=v.useRef(t),i=v.useRef("none"),o=t?"mounted":"unmounted",[a,l]=R3(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const d=qu(r.current);i.current=a==="mounted"?d:"none"},[a]),Qt(()=>{const d=r.current,h=s.current;if(h!==t){const m=i.current,p=qu(d);t?l("MOUNT"):p==="none"||(d==null?void 0:d.display)==="none"?l("UNMOUNT"):l(h&&m!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Qt(()=>{if(e){let d;const h=e.ownerDocument.defaultView??window,f=p=>{const y=qu(r.current).includes(CSS.escape(p.animationName));if(p.target===e&&y&&(l("ANIMATION_END"),!s.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",d=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},m=p=>{p.target===e&&(i.current=qu(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(d),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:v.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function qu(t){return(t==null?void 0:t.animationName)||"none"}function D3(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var M3=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ve=M3.reduce((t,e)=>{const n=hi(`Primitive.${e}`),r=v.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function fI(t,e){t&&$a.flushSync(()=>t.dispatchEvent(e))}var Sf="Checkbox",[O3]=zr(Sf),[j3,Zy]=O3(Sf);function L3(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:s,disabled:i,form:o,name:a,onCheckedChange:l,required:d,value:h="on",internal_do_not_use_render:f}=t,[m,p]=ho({prop:n,defaultProp:s??!1,onChange:l,caller:Sf}),[S,y]=v.useState(null),[E,x]=v.useState(null),_=v.useRef(!1),T=S?!!o||!!S.closest("form"):!0,R={checked:m,disabled:i,setChecked:p,control:S,setControl:y,name:a,form:o,value:h,hasConsumerStoppedPropagationRef:_,required:d,defaultChecked:ci(s)?!1:s,isFormControl:T,bubbleInput:E,setBubbleInput:x};return c.jsx(j3,{scope:e,...R,children:V3(f)?f(R):r})}var mI="CheckboxTrigger",pI=v.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},s)=>{const{control:i,value:o,disabled:a,checked:l,required:d,setControl:h,setChecked:f,hasConsumerStoppedPropagationRef:m,isFormControl:p,bubbleInput:S}=Zy(mI,t),y=Oe(s,h),E=v.useRef(l);return v.useEffect(()=>{const x=i==null?void 0:i.form;if(x){const _=()=>f(E.current);return x.addEventListener("reset",_),()=>x.removeEventListener("reset",_)}},[i,f]),c.jsx(ve.button,{type:"button",role:"checkbox","aria-checked":ci(l)?"mixed":l,"aria-required":d,"data-state":_I(l),"data-disabled":a?"":void 0,disabled:a,value:o,...r,ref:y,onKeyDown:ne(e,x=>{x.key==="Enter"&&x.preventDefault()}),onClick:ne(n,x=>{f(_=>ci(_)?!0:!_),S&&p&&(m.current=x.isPropagationStopped(),m.current||x.stopPropagation())})})});pI.displayName=mI;var ew=v.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:i,required:o,disabled:a,value:l,onCheckedChange:d,form:h,...f}=t;return c.jsx(L3,{__scopeCheckbox:n,checked:s,defaultChecked:i,disabled:a,required:o,onCheckedChange:d,name:r,form:h,value:l,internal_do_not_use_render:({isFormControl:m})=>c.jsxs(c.Fragment,{children:[c.jsx(pI,{...f,ref:e,__scopeCheckbox:n}),m&&c.jsx(wI,{__scopeCheckbox:n})]})})});ew.displayName=Sf;var gI="CheckboxIndicator",vI=v.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...s}=t,i=Zy(gI,n);return c.jsx(or,{present:r||ci(i.checked)||i.checked===!0,children:c.jsx(ve.span,{"data-state":_I(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});vI.displayName=gI;var yI="CheckboxBubbleInput",wI=v.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:o,required:a,disabled:l,name:d,value:h,form:f,bubbleInput:m,setBubbleInput:p}=Zy(yI,t),S=Oe(n,p),y=dI(i),E=hI(r);v.useEffect(()=>{const _=m;if(!_)return;const T=window.HTMLInputElement.prototype,M=Object.getOwnPropertyDescriptor(T,"checked").set,O=!s.current;if(y!==i&&M){const b=new Event("click",{bubbles:O});_.indeterminate=ci(i),M.call(_,ci(i)?!1:i),_.dispatchEvent(b)}},[m,y,i,s]);const x=v.useRef(ci(i)?!1:i);return c.jsx(ve.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??x.current,required:a,disabled:l,name:d,value:h,form:f,...e,tabIndex:-1,ref:S,style:{...e.style,...E,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});wI.displayName=yI;function V3(t){return typeof t=="function"}function ci(t){return t==="indeterminate"}function _I(t){return ci(t)?"indeterminate":t?"checked":"unchecked"}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var F3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ge=(t,e)=>{const n=v.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...d},h)=>v.createElement("svg",{ref:h,...F3,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${U3(t)}`,a].join(" "),...d},[...e.map(([f,m])=>v.createElement(f,m)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gm=ge("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $3=ge("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T1=ge("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lg=ge("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xI=ge("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=ge("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z3=ge("CalendarRange",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M17 14h-6",key:"bkmgh3"}],["path",{d:"M13 18H7",key:"bb0bb7"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 18h.01",key:"1bdyru"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sc=ge("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b1=ge("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tw=ge("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EI=ge("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W3=ge("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TI=ge("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H3=ge("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=ge("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Td=ge("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Km=ge("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S1=ge("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G3=ge("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K3=ge("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bI=ge("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C1=ge("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qm=ge("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q3=ge("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=ge("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X3=ge("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nw=ge("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J3=ge("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SI=ge("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z3=ge("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e6=ge("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I1=ge("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1=ge("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cf=ge("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k1=ge("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t6=ge("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P1=ge("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ym=ge("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R1=ge("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A1=ge("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D1=ge("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bd=ge("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CI=ge("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Eh=v.forwardRef(({className:t,...e},n)=>c.jsx(ew,{ref:n,className:ue("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:c.jsx(vI,{className:ue("flex items-center justify-center text-current"),children:c.jsx(tw,{className:"h-4 w-4"})})}));Eh.displayName=ew.displayName;function rw(t){const e=t+"CollectionProvider",[n,r]=zr(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:E,children:x}=y,_=q.useRef(null),T=q.useRef(new Map).current;return c.jsx(s,{scope:E,itemMap:T,collectionRef:_,children:x})};o.displayName=e;const a=t+"CollectionSlot",l=hi(a),d=q.forwardRef((y,E)=>{const{scope:x,children:_}=y,T=i(a,x),R=Oe(E,T.collectionRef);return c.jsx(l,{ref:R,children:_})});d.displayName=a;const h=t+"CollectionItemSlot",f="data-radix-collection-item",m=hi(h),p=q.forwardRef((y,E)=>{const{scope:x,children:_,...T}=y,R=q.useRef(null),M=Oe(E,R),O=i(h,x);return q.useEffect(()=>(O.itemMap.set(R,{ref:R,...T}),()=>void O.itemMap.delete(R))),c.jsx(m,{[f]:"",ref:M,children:_})});p.displayName=h;function S(y){const E=i(t+"CollectionConsumer",y);return q.useCallback(()=>{const _=E.collectionRef.current;if(!_)return[];const T=Array.from(_.querySelectorAll(`[${f}]`));return Array.from(E.itemMap.values()).sort((O,b)=>T.indexOf(O.ref.current)-T.indexOf(b.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:o,Slot:d,ItemSlot:p},S,r]}var n6=v.createContext(void 0);function sw(t){const e=v.useContext(n6);return t||e||"ltr"}function Or(t){const e=v.useRef(t);return v.useEffect(()=>{e.current=t}),v.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function r6(t,e=globalThis==null?void 0:globalThis.document){const n=Or(t);v.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var s6="DismissableLayer",Vg="dismissableLayer.update",i6="dismissableLayer.pointerDownOutside",o6="dismissableLayer.focusOutside",M1,II=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Qc=v.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,d=v.useContext(II),[h,f]=v.useState(null),m=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=v.useState({}),S=Oe(e,b=>f(b)),y=Array.from(d.layers),[E]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),x=y.indexOf(E),_=h?y.indexOf(h):-1,T=d.layersWithOutsidePointerEventsDisabled.size>0,R=_>=x,M=c6(b=>{const C=b.target,I=[...d.branches].some(k=>k.contains(C));!R||I||(s==null||s(b),o==null||o(b),b.defaultPrevented||a==null||a())},m),O=u6(b=>{const C=b.target;[...d.branches].some(k=>k.contains(C))||(i==null||i(b),o==null||o(b),b.defaultPrevented||a==null||a())},m);return r6(b=>{_===d.layers.size-1&&(r==null||r(b),!b.defaultPrevented&&a&&(b.preventDefault(),a()))},m),v.useEffect(()=>{if(h)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(M1=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),O1(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=M1)}},[h,m,n,d]),v.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),O1())},[h,d]),v.useEffect(()=>{const b=()=>p({});return document.addEventListener(Vg,b),()=>document.removeEventListener(Vg,b)},[]),c.jsx(ve.div,{...l,ref:S,style:{pointerEvents:T?R?"auto":"none":void 0,...t.style},onFocusCapture:ne(t.onFocusCapture,O.onFocusCapture),onBlurCapture:ne(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:ne(t.onPointerDownCapture,M.onPointerDownCapture)})});Qc.displayName=s6;var a6="DismissableLayerBranch",l6=v.forwardRef((t,e)=>{const n=v.useContext(II),r=v.useRef(null),s=Oe(e,r);return v.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),c.jsx(ve.div,{...t,ref:s})});l6.displayName=a6;function c6(t,e=globalThis==null?void 0:globalThis.document){const n=Or(t),r=v.useRef(!1),s=v.useRef(()=>{});return v.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){NI(i6,n,d,{discrete:!0})};const d={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function u6(t,e=globalThis==null?void 0:globalThis.document){const n=Or(t),r=v.useRef(!1);return v.useEffect(()=>{const s=i=>{i.target&&!r.current&&NI(o6,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function O1(){const t=new CustomEvent(Vg);document.dispatchEvent(t)}function NI(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?fI(s,i):s.dispatchEvent(i)}var Xm=0;function If(){v.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??j1()),document.body.insertAdjacentElement("beforeend",t[1]??j1()),Xm++,()=>{Xm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Xm--}},[])}function j1(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Jm="focusScope.autoFocusOnMount",Zm="focusScope.autoFocusOnUnmount",L1={bubbles:!1,cancelable:!0},d6="FocusScope",Yc=v.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=v.useState(null),d=Or(s),h=Or(i),f=v.useRef(null),m=Oe(e,y=>l(y)),p=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(r){let y=function(T){if(p.paused||!a)return;const R=T.target;a.contains(R)?f.current=R:Ms(f.current,{select:!0})},E=function(T){if(p.paused||!a)return;const R=T.relatedTarget;R!==null&&(a.contains(R)||Ms(f.current,{select:!0}))},x=function(T){if(document.activeElement===document.body)for(const M of T)M.removedNodes.length>0&&Ms(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",E);const _=new MutationObserver(x);return a&&_.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",E),_.disconnect()}}},[r,a,p.paused]),v.useEffect(()=>{if(a){F1.add(p);const y=document.activeElement;if(!a.contains(y)){const x=new CustomEvent(Jm,L1);a.addEventListener(Jm,d),a.dispatchEvent(x),x.defaultPrevented||(h6(v6(kI(a)),{select:!0}),document.activeElement===y&&Ms(a))}return()=>{a.removeEventListener(Jm,d),setTimeout(()=>{const x=new CustomEvent(Zm,L1);a.addEventListener(Zm,h),a.dispatchEvent(x),x.defaultPrevented||Ms(y??document.body,{select:!0}),a.removeEventListener(Zm,h),F1.remove(p)},0)}}},[a,d,h,p]);const S=v.useCallback(y=>{if(!n&&!r||p.paused)return;const E=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,x=document.activeElement;if(E&&x){const _=y.currentTarget,[T,R]=f6(_);T&&R?!y.shiftKey&&x===R?(y.preventDefault(),n&&Ms(T,{select:!0})):y.shiftKey&&x===T&&(y.preventDefault(),n&&Ms(R,{select:!0})):x===_&&y.preventDefault()}},[n,r,p.paused]);return c.jsx(ve.div,{tabIndex:-1,...o,ref:m,onKeyDown:S})});Yc.displayName=d6;function h6(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ms(r,{select:e}),document.activeElement!==n)return}function f6(t){const e=kI(t),n=V1(e,t),r=V1(e.reverse(),t);return[n,r]}function kI(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function V1(t,e){for(const n of t)if(!m6(n,{upTo:e}))return n}function m6(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function p6(t){return t instanceof HTMLInputElement&&"select"in t}function Ms(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&p6(t)&&e&&t.select()}}var F1=g6();function g6(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=U1(t,e),t.unshift(e)},remove(e){var n;t=U1(t,e),(n=t[0])==null||n.resume()}}}function U1(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function v6(t){return t.filter(e=>e.tagName!=="A")}var y6=NE[" useId ".trim().toString()]||(()=>{}),w6=0;function Ar(t){const[e,n]=v.useState(y6());return Qt(()=>{n(r=>r??String(w6++))},[t]),e?`radix-${e}`:""}const _6=["top","right","bottom","left"],_i=Math.min,_n=Math.max,Th=Math.round,Gu=Math.floor,Dr=t=>({x:t,y:t}),x6={left:"right",right:"left",bottom:"top",top:"bottom"},E6={start:"end",end:"start"};function Fg(t,e,n){return _n(t,_i(e,n))}function ps(t,e){return typeof t=="function"?t(e):t}function gs(t){return t.split("-")[0]}function Ya(t){return t.split("-")[1]}function iw(t){return t==="x"?"y":"x"}function ow(t){return t==="y"?"height":"width"}const T6=new Set(["top","bottom"]);function Er(t){return T6.has(gs(t))?"y":"x"}function aw(t){return iw(Er(t))}function b6(t,e,n){n===void 0&&(n=!1);const r=Ya(t),s=aw(t),i=ow(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=bh(o)),[o,bh(o)]}function S6(t){const e=bh(t);return[Ug(t),e,Ug(e)]}function Ug(t){return t.replace(/start|end/g,e=>E6[e])}const $1=["left","right"],B1=["right","left"],C6=["top","bottom"],I6=["bottom","top"];function N6(t,e,n){switch(t){case"top":case"bottom":return n?e?B1:$1:e?$1:B1;case"left":case"right":return e?C6:I6;default:return[]}}function k6(t,e,n,r){const s=Ya(t);let i=N6(gs(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Ug)))),i}function bh(t){return t.replace(/left|right|bottom|top/g,e=>x6[e])}function P6(t){return{top:0,right:0,bottom:0,left:0,...t}}function PI(t){return typeof t!="number"?P6(t):{top:t,right:t,bottom:t,left:t}}function Sh(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function z1(t,e,n){let{reference:r,floating:s}=t;const i=Er(e),o=aw(e),a=ow(o),l=gs(e),d=i==="y",h=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,m=r[a]/2-s[a]/2;let p;switch(l){case"top":p={x:h,y:r.y-s.height};break;case"bottom":p={x:h,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-s.width,y:f};break;default:p={x:r.x,y:r.y}}switch(Ya(e)){case"start":p[o]-=m*(n&&d?-1:1);break;case"end":p[o]+=m*(n&&d?-1:1);break}return p}const R6=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:f}=z1(d,r,l),m=r,p={},S=0;for(let y=0;y<a.length;y++){const{name:E,fn:x}=a[y],{x:_,y:T,data:R,reset:M}=await x({x:h,y:f,initialPlacement:r,placement:m,strategy:s,middlewareData:p,rects:d,platform:o,elements:{reference:t,floating:e}});h=_??h,f=T??f,p={...p,[E]:{...p[E],...R}},M&&S<=50&&(S++,typeof M=="object"&&(M.placement&&(m=M.placement),M.rects&&(d=M.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):M.rects),{x:h,y:f}=z1(d,m,l)),y=-1)}return{x:h,y:f,placement:m,strategy:s,middlewareData:p}};async function Cc(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:m=!1,padding:p=0}=ps(e,t),S=PI(p),E=a[m?f==="floating"?"reference":"floating":f],x=Sh(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(E)))==null||n?E:E.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:d,rootBoundary:h,strategy:l})),_=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,T=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),R=await(i.isElement==null?void 0:i.isElement(T))?await(i.getScale==null?void 0:i.getScale(T))||{x:1,y:1}:{x:1,y:1},M=Sh(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:_,offsetParent:T,strategy:l}):_);return{top:(x.top-M.top+S.top)/R.y,bottom:(M.bottom-x.bottom+S.bottom)/R.y,left:(x.left-M.left+S.left)/R.x,right:(M.right-x.right+S.right)/R.x}}const A6=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:d,padding:h=0}=ps(t,e)||{};if(d==null)return{};const f=PI(h),m={x:n,y:r},p=aw(s),S=ow(p),y=await o.getDimensions(d),E=p==="y",x=E?"top":"left",_=E?"bottom":"right",T=E?"clientHeight":"clientWidth",R=i.reference[S]+i.reference[p]-m[p]-i.floating[S],M=m[p]-i.reference[p],O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let b=O?O[T]:0;(!b||!await(o.isElement==null?void 0:o.isElement(O)))&&(b=a.floating[T]||i.floating[S]);const C=R/2-M/2,I=b/2-y[S]/2-1,k=_i(f[x],I),A=_i(f[_],I),D=k,P=b-y[S]-A,W=b/2-y[S]/2+C,Y=Fg(D,W,P),Q=!l.arrow&&Ya(s)!=null&&W!==Y&&i.reference[S]/2-(W<D?k:A)-y[S]/2<0,B=Q?W<D?W-D:W-P:0;return{[p]:m[p]+B,data:{[p]:Y,centerOffset:W-Y-B,...Q&&{alignmentOffset:B}},reset:Q}}}),D6=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:d}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:y=!0,...E}=ps(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const x=gs(s),_=Er(a),T=gs(a)===a,R=await(l.isRTL==null?void 0:l.isRTL(d.floating)),M=m||(T||!y?[bh(a)]:S6(a)),O=S!=="none";!m&&O&&M.push(...k6(a,y,S,R));const b=[a,...M],C=await Cc(e,E),I=[];let k=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&I.push(C[x]),f){const W=b6(s,o,R);I.push(C[W[0]],C[W[1]])}if(k=[...k,{placement:s,overflows:I}],!I.every(W=>W<=0)){var A,D;const W=(((A=i.flip)==null?void 0:A.index)||0)+1,Y=b[W];if(Y&&(!(f==="alignment"?_!==Er(Y):!1)||k.every(j=>Er(j.placement)===_?j.overflows[0]>0:!0)))return{data:{index:W,overflows:k},reset:{placement:Y}};let Q=(D=k.filter(B=>B.overflows[0]<=0).sort((B,j)=>B.overflows[1]-j.overflows[1])[0])==null?void 0:D.placement;if(!Q)switch(p){case"bestFit":{var P;const B=(P=k.filter(j=>{if(O){const L=Er(j.placement);return L===_||L==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(L=>L>0).reduce((L,H)=>L+H,0)]).sort((j,L)=>j[1]-L[1])[0])==null?void 0:P[0];B&&(Q=B);break}case"initialPlacement":Q=a;break}if(s!==Q)return{reset:{placement:Q}}}return{}}}};function W1(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function H1(t){return _6.some(e=>t[e]>=0)}const M6=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=ps(t,e);switch(r){case"referenceHidden":{const i=await Cc(e,{...s,elementContext:"reference"}),o=W1(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:H1(o)}}}case"escaped":{const i=await Cc(e,{...s,altBoundary:!0}),o=W1(i,n.floating);return{data:{escapedOffsets:o,escaped:H1(o)}}}default:return{}}}}},RI=new Set(["left","top"]);async function O6(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=gs(n),a=Ya(n),l=Er(n)==="y",d=RI.has(o)?-1:1,h=i&&l?-1:1,f=ps(e,t);let{mainAxis:m,crossAxis:p,alignmentAxis:S}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof S=="number"&&(p=a==="end"?S*-1:S),l?{x:p*h,y:m*d}:{x:m*d,y:p*h}}const j6=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await O6(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},L6=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:E=>{let{x,y:_}=E;return{x,y:_}}},...l}=ps(t,e),d={x:n,y:r},h=await Cc(e,l),f=Er(gs(s)),m=iw(f);let p=d[m],S=d[f];if(i){const E=m==="y"?"top":"left",x=m==="y"?"bottom":"right",_=p+h[E],T=p-h[x];p=Fg(_,p,T)}if(o){const E=f==="y"?"top":"left",x=f==="y"?"bottom":"right",_=S+h[E],T=S-h[x];S=Fg(_,S,T)}const y=a.fn({...e,[m]:p,[f]:S});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[m]:i,[f]:o}}}}}},V6=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:d=!0}=ps(t,e),h={x:n,y:r},f=Er(s),m=iw(f);let p=h[m],S=h[f];const y=ps(a,e),E=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const T=m==="y"?"height":"width",R=i.reference[m]-i.floating[T]+E.mainAxis,M=i.reference[m]+i.reference[T]-E.mainAxis;p<R?p=R:p>M&&(p=M)}if(d){var x,_;const T=m==="y"?"width":"height",R=RI.has(gs(s)),M=i.reference[f]-i.floating[T]+(R&&((x=o.offset)==null?void 0:x[f])||0)+(R?0:E.crossAxis),O=i.reference[f]+i.reference[T]+(R?0:((_=o.offset)==null?void 0:_[f])||0)-(R?E.crossAxis:0);S<M?S=M:S>O&&(S=O)}return{[m]:p,[f]:S}}}},F6=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...d}=ps(t,e),h=await Cc(e,d),f=gs(s),m=Ya(s),p=Er(s)==="y",{width:S,height:y}=i.floating;let E,x;f==="top"||f==="bottom"?(E=f,x=m===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(x=f,E=m==="end"?"top":"bottom");const _=y-h.top-h.bottom,T=S-h.left-h.right,R=_i(y-h[E],_),M=_i(S-h[x],T),O=!e.middlewareData.shift;let b=R,C=M;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(C=T),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(b=_),O&&!m){const k=_n(h.left,0),A=_n(h.right,0),D=_n(h.top,0),P=_n(h.bottom,0);p?C=S-2*(k!==0||A!==0?k+A:_n(h.left,h.right)):b=y-2*(D!==0||P!==0?D+P:_n(h.top,h.bottom))}await l({...e,availableWidth:C,availableHeight:b});const I=await o.getDimensions(a.floating);return S!==I.width||y!==I.height?{reset:{rects:!0}}:{}}}};function Nf(){return typeof window<"u"}function Xa(t){return AI(t)?(t.nodeName||"").toLowerCase():"#document"}function Sn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Wr(t){var e;return(e=(AI(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function AI(t){return Nf()?t instanceof Node||t instanceof Sn(t).Node:!1}function nr(t){return Nf()?t instanceof Element||t instanceof Sn(t).Element:!1}function jr(t){return Nf()?t instanceof HTMLElement||t instanceof Sn(t).HTMLElement:!1}function q1(t){return!Nf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Sn(t).ShadowRoot}const U6=new Set(["inline","contents"]);function Xc(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=rr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!U6.has(s)}const $6=new Set(["table","td","th"]);function B6(t){return $6.has(Xa(t))}const z6=[":popover-open",":modal"];function kf(t){return z6.some(e=>{try{return t.matches(e)}catch{return!1}})}const W6=["transform","translate","scale","rotate","perspective"],H6=["transform","translate","scale","rotate","perspective","filter"],q6=["paint","layout","strict","content"];function lw(t){const e=cw(),n=nr(t)?rr(t):t;return W6.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||H6.some(r=>(n.willChange||"").includes(r))||q6.some(r=>(n.contain||"").includes(r))}function G6(t){let e=xi(t);for(;jr(e)&&!Aa(e);){if(lw(e))return e;if(kf(e))return null;e=xi(e)}return null}function cw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const K6=new Set(["html","body","#document"]);function Aa(t){return K6.has(Xa(t))}function rr(t){return Sn(t).getComputedStyle(t)}function Pf(t){return nr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function xi(t){if(Xa(t)==="html")return t;const e=t.assignedSlot||t.parentNode||q1(t)&&t.host||Wr(t);return q1(e)?e.host:e}function DI(t){const e=xi(t);return Aa(e)?t.ownerDocument?t.ownerDocument.body:t.body:jr(e)&&Xc(e)?e:DI(e)}function Ic(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=DI(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Sn(s);if(i){const a=$g(o);return e.concat(o,o.visualViewport||[],Xc(s)?s:[],a&&n?Ic(a):[])}return e.concat(s,Ic(s,[],n))}function $g(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function MI(t){const e=rr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=jr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Th(n)!==i||Th(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function uw(t){return nr(t)?t:t.contextElement}function ma(t){const e=uw(t);if(!jr(e))return Dr(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=MI(e);let o=(i?Th(n.width):n.width)/r,a=(i?Th(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const Q6=Dr(0);function OI(t){const e=Sn(t);return!cw()||!e.visualViewport?Q6:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Y6(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Sn(t)?!1:e}function fo(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=uw(t);let o=Dr(1);e&&(r?nr(r)&&(o=ma(r)):o=ma(t));const a=Y6(i,n,r)?OI(i):Dr(0);let l=(s.left+a.x)/o.x,d=(s.top+a.y)/o.y,h=s.width/o.x,f=s.height/o.y;if(i){const m=Sn(i),p=r&&nr(r)?Sn(r):r;let S=m,y=$g(S);for(;y&&r&&p!==S;){const E=ma(y),x=y.getBoundingClientRect(),_=rr(y),T=x.left+(y.clientLeft+parseFloat(_.paddingLeft))*E.x,R=x.top+(y.clientTop+parseFloat(_.paddingTop))*E.y;l*=E.x,d*=E.y,h*=E.x,f*=E.y,l+=T,d+=R,S=Sn(y),y=$g(S)}}return Sh({width:h,height:f,x:l,y:d})}function Rf(t,e){const n=Pf(t).scrollLeft;return e?e.left+n:fo(Wr(t)).left+n}function jI(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Rf(t,n),s=n.top+e.scrollTop;return{x:r,y:s}}function X6(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Wr(r),a=e?kf(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},d=Dr(1);const h=Dr(0),f=jr(r);if((f||!f&&!i)&&((Xa(r)!=="body"||Xc(o))&&(l=Pf(r)),jr(r))){const p=fo(r);d=ma(r),h.x=p.x+r.clientLeft,h.y=p.y+r.clientTop}const m=o&&!f&&!i?jI(o,l):Dr(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-l.scrollLeft*d.x+h.x+m.x,y:n.y*d.y-l.scrollTop*d.y+h.y+m.y}}function J6(t){return Array.from(t.getClientRects())}function Z6(t){const e=Wr(t),n=Pf(t),r=t.ownerDocument.body,s=_n(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=_n(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Rf(t);const a=-n.scrollTop;return rr(r).direction==="rtl"&&(o+=_n(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}const G1=25;function e5(t,e){const n=Sn(t),r=Wr(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const h=cw();(!h||h&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}const d=Rf(r);if(d<=0){const h=r.ownerDocument,f=h.body,m=getComputedStyle(f),p=h.compatMode==="CSS1Compat"&&parseFloat(m.marginLeft)+parseFloat(m.marginRight)||0,S=Math.abs(r.clientWidth-f.clientWidth-p);S<=G1&&(i-=S)}else d<=G1&&(i+=d);return{width:i,height:o,x:a,y:l}}const t5=new Set(["absolute","fixed"]);function n5(t,e){const n=fo(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=jr(t)?ma(t):Dr(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,d=r*i.y;return{width:o,height:a,x:l,y:d}}function K1(t,e,n){let r;if(e==="viewport")r=e5(t,n);else if(e==="document")r=Z6(Wr(t));else if(nr(e))r=n5(e,n);else{const s=OI(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Sh(r)}function LI(t,e){const n=xi(t);return n===e||!nr(n)||Aa(n)?!1:rr(n).position==="fixed"||LI(n,e)}function r5(t,e){const n=e.get(t);if(n)return n;let r=Ic(t,[],!1).filter(a=>nr(a)&&Xa(a)!=="body"),s=null;const i=rr(t).position==="fixed";let o=i?xi(t):t;for(;nr(o)&&!Aa(o);){const a=rr(o),l=lw(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&t5.has(s.position)||Xc(o)&&!l&&LI(t,o))?r=r.filter(h=>h!==o):s=a,o=xi(o)}return e.set(t,r),r}function s5(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?kf(e)?[]:r5(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((d,h)=>{const f=K1(e,h,s);return d.top=_n(f.top,d.top),d.right=_i(f.right,d.right),d.bottom=_i(f.bottom,d.bottom),d.left=_n(f.left,d.left),d},K1(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function i5(t){const{width:e,height:n}=MI(t);return{width:e,height:n}}function o5(t,e,n){const r=jr(e),s=Wr(e),i=n==="fixed",o=fo(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=Dr(0);function d(){l.x=Rf(s)}if(r||!r&&!i)if((Xa(e)!=="body"||Xc(s))&&(a=Pf(e)),r){const p=fo(e,!0,i,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else s&&d();i&&!r&&s&&d();const h=s&&!r&&!i?jI(s,a):Dr(0),f=o.left+a.scrollLeft-l.x-h.x,m=o.top+a.scrollTop-l.y-h.y;return{x:f,y:m,width:o.width,height:o.height}}function ep(t){return rr(t).position==="static"}function Q1(t,e){if(!jr(t)||rr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Wr(t)===n&&(n=n.ownerDocument.body),n}function VI(t,e){const n=Sn(t);if(kf(t))return n;if(!jr(t)){let s=xi(t);for(;s&&!Aa(s);){if(nr(s)&&!ep(s))return s;s=xi(s)}return n}let r=Q1(t,e);for(;r&&B6(r)&&ep(r);)r=Q1(r,e);return r&&Aa(r)&&ep(r)&&!lw(r)?n:r||G6(t)||n}const a5=async function(t){const e=this.getOffsetParent||VI,n=this.getDimensions,r=await n(t.floating);return{reference:o5(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function l5(t){return rr(t).direction==="rtl"}const c5={convertOffsetParentRelativeRectToViewportRelativeRect:X6,getDocumentElement:Wr,getClippingRect:s5,getOffsetParent:VI,getElementRects:a5,getClientRects:J6,getDimensions:i5,getScale:ma,isElement:nr,isRTL:l5};function FI(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function u5(t,e){let n=null,r;const s=Wr(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const d=t.getBoundingClientRect(),{left:h,top:f,width:m,height:p}=d;if(a||e(),!m||!p)return;const S=Gu(f),y=Gu(s.clientWidth-(h+m)),E=Gu(s.clientHeight-(f+p)),x=Gu(h),T={rootMargin:-S+"px "+-y+"px "+-E+"px "+-x+"px",threshold:_n(0,_i(1,l))||1};let R=!0;function M(O){const b=O[0].intersectionRatio;if(b!==l){if(!R)return o();b?o(!1,b):r=setTimeout(()=>{o(!1,1e-7)},1e3)}b===1&&!FI(d,t.getBoundingClientRect())&&o(),R=!1}try{n=new IntersectionObserver(M,{...T,root:s.ownerDocument})}catch{n=new IntersectionObserver(M,T)}n.observe(t)}return o(!0),i}function d5(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,d=uw(t),h=s||i?[...d?Ic(d):[],...Ic(e)]:[];h.forEach(x=>{s&&x.addEventListener("scroll",n,{passive:!0}),i&&x.addEventListener("resize",n)});const f=d&&a?u5(d,n):null;let m=-1,p=null;o&&(p=new ResizeObserver(x=>{let[_]=x;_&&_.target===d&&p&&(p.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var T;(T=p)==null||T.observe(e)})),n()}),d&&!l&&p.observe(d),p.observe(e));let S,y=l?fo(t):null;l&&E();function E(){const x=fo(t);y&&!FI(y,x)&&n(),y=x,S=requestAnimationFrame(E)}return n(),()=>{var x;h.forEach(_=>{s&&_.removeEventListener("scroll",n),i&&_.removeEventListener("resize",n)}),f==null||f(),(x=p)==null||x.disconnect(),p=null,l&&cancelAnimationFrame(S)}}const h5=j6,f5=L6,m5=D6,p5=F6,g5=M6,Y1=A6,v5=V6,y5=(t,e,n)=>{const r=new Map,s={platform:c5,...n},i={...s.platform,_c:r};return R6(t,e,{...s,platform:i})};var w5=typeof document<"u",_5=function(){},Sd=w5?v.useLayoutEffect:_5;function Ch(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Ch(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Ch(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function UI(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function X1(t,e){const n=UI(t);return Math.round(e*n)/n}function tp(t){const e=v.useRef(t);return Sd(()=>{e.current=t}),e}function x5(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:d}=t,[h,f]=v.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,p]=v.useState(r);Ch(m,r)||p(r);const[S,y]=v.useState(null),[E,x]=v.useState(null),_=v.useCallback(j=>{j!==O.current&&(O.current=j,y(j))},[]),T=v.useCallback(j=>{j!==b.current&&(b.current=j,x(j))},[]),R=i||S,M=o||E,O=v.useRef(null),b=v.useRef(null),C=v.useRef(h),I=l!=null,k=tp(l),A=tp(s),D=tp(d),P=v.useCallback(()=>{if(!O.current||!b.current)return;const j={placement:e,strategy:n,middleware:m};A.current&&(j.platform=A.current),y5(O.current,b.current,j).then(L=>{const H={...L,isPositioned:D.current!==!1};W.current&&!Ch(C.current,H)&&(C.current=H,$a.flushSync(()=>{f(H)}))})},[m,e,n,A,D]);Sd(()=>{d===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(j=>({...j,isPositioned:!1})))},[d]);const W=v.useRef(!1);Sd(()=>(W.current=!0,()=>{W.current=!1}),[]),Sd(()=>{if(R&&(O.current=R),M&&(b.current=M),R&&M){if(k.current)return k.current(R,M,P);P()}},[R,M,P,k,I]);const Y=v.useMemo(()=>({reference:O,floating:b,setReference:_,setFloating:T}),[_,T]),Q=v.useMemo(()=>({reference:R,floating:M}),[R,M]),B=v.useMemo(()=>{const j={position:n,left:0,top:0};if(!Q.floating)return j;const L=X1(Q.floating,h.x),H=X1(Q.floating,h.y);return a?{...j,transform:"translate("+L+"px, "+H+"px)",...UI(Q.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:L,top:H}},[n,a,Q.floating,h.x,h.y]);return v.useMemo(()=>({...h,update:P,refs:Y,elements:Q,floatingStyles:B}),[h,P,Y,Q,B])}const E5=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?Y1({element:r.current,padding:s}).fn(n):{}:r?Y1({element:r,padding:s}).fn(n):{}}}},T5=(t,e)=>({...h5(t),options:[t,e]}),b5=(t,e)=>({...f5(t),options:[t,e]}),S5=(t,e)=>({...v5(t),options:[t,e]}),C5=(t,e)=>({...m5(t),options:[t,e]}),I5=(t,e)=>({...p5(t),options:[t,e]}),N5=(t,e)=>({...g5(t),options:[t,e]}),k5=(t,e)=>({...E5(t),options:[t,e]});var P5="Arrow",$I=v.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return c.jsx(ve.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});$I.displayName=P5;var R5=$I,dw="Popper",[BI,Ja]=zr(dw),[A5,zI]=BI(dw),WI=t=>{const{__scopePopper:e,children:n}=t,[r,s]=v.useState(null);return c.jsx(A5,{scope:e,anchor:r,onAnchorChange:s,children:n})};WI.displayName=dw;var HI="PopperAnchor",qI=v.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=zI(HI,n),o=v.useRef(null),a=Oe(e,o),l=v.useRef(null);return v.useEffect(()=>{const d=l.current;l.current=(r==null?void 0:r.current)||o.current,d!==l.current&&i.onAnchorChange(l.current)}),r?null:c.jsx(ve.div,{...s,ref:a})});qI.displayName=HI;var hw="PopperContent",[D5,M5]=BI(hw),GI=v.forwardRef((t,e)=>{var G,Ee,Ne,Te,be,ke;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:d=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:p="optimized",onPlaced:S,...y}=t,E=zI(hw,n),[x,_]=v.useState(null),T=Oe(e,dt=>_(dt)),[R,M]=v.useState(null),O=hI(R),b=(O==null?void 0:O.width)??0,C=(O==null?void 0:O.height)??0,I=r+(i!=="center"?"-"+i:""),k=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},A=Array.isArray(d)?d:[d],D=A.length>0,P={padding:k,boundary:A.filter(j5),altBoundary:D},{refs:W,floatingStyles:Y,placement:Q,isPositioned:B,middlewareData:j}=x5({strategy:"fixed",placement:I,whileElementsMounted:(...dt)=>d5(...dt,{animationFrame:p==="always"}),elements:{reference:E.anchor},middleware:[T5({mainAxis:s+C,alignmentAxis:o}),l&&b5({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?S5():void 0,...P}),l&&C5({...P}),I5({...P,apply:({elements:dt,rects:Yt,availableWidth:Hr,availableHeight:kn})=>{const{width:Un,height:_s}=Yt.reference,et=dt.floating.style;et.setProperty("--radix-popper-available-width",`${Hr}px`),et.setProperty("--radix-popper-available-height",`${kn}px`),et.setProperty("--radix-popper-anchor-width",`${Un}px`),et.setProperty("--radix-popper-anchor-height",`${_s}px`)}}),R&&k5({element:R,padding:a}),L5({arrowWidth:b,arrowHeight:C}),m&&N5({strategy:"referenceHidden",...P})]}),[L,H]=YI(Q),te=Or(S);Qt(()=>{B&&(te==null||te())},[B,te]);const ee=(G=j.arrow)==null?void 0:G.x,pe=(Ee=j.arrow)==null?void 0:Ee.y,ae=((Ne=j.arrow)==null?void 0:Ne.centerOffset)!==0,[De,Me]=v.useState();return Qt(()=>{x&&Me(window.getComputedStyle(x).zIndex)},[x]),c.jsx("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:{...Y,transform:B?Y.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:De,"--radix-popper-transform-origin":[(Te=j.transformOrigin)==null?void 0:Te.x,(be=j.transformOrigin)==null?void 0:be.y].join(" "),...((ke=j.hide)==null?void 0:ke.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:c.jsx(D5,{scope:n,placedSide:L,onArrowChange:M,arrowX:ee,arrowY:pe,shouldHideArrow:ae,children:c.jsx(ve.div,{"data-side":L,"data-align":H,...y,ref:T,style:{...y.style,animation:B?void 0:"none"}})})})});GI.displayName=hw;var KI="PopperArrow",O5={top:"bottom",right:"left",bottom:"top",left:"right"},QI=v.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=M5(KI,r),o=O5[i.placedSide];return c.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:c.jsx(R5,{...s,ref:n,style:{...s.style,display:"block"}})})});QI.displayName=KI;function j5(t){return t!==null}var L5=t=>({name:"transformOrigin",options:t,fn(e){var E,x,_;const{placement:n,rects:r,middlewareData:s}=e,o=((E=s.arrow)==null?void 0:E.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[d,h]=YI(n),f={start:"0%",center:"50%",end:"100%"}[h],m=(((x=s.arrow)==null?void 0:x.x)??0)+a/2,p=(((_=s.arrow)==null?void 0:_.y)??0)+l/2;let S="",y="";return d==="bottom"?(S=o?f:`${m}px`,y=`${-l}px`):d==="top"?(S=o?f:`${m}px`,y=`${r.floating.height+l}px`):d==="right"?(S=`${-l}px`,y=o?f:`${p}px`):d==="left"&&(S=`${r.floating.width+l}px`,y=o?f:`${p}px`),{data:{x:S,y}}}});function YI(t){const[e,n="center"]=t.split("-");return[e,n]}var fw=WI,Af=qI,mw=GI,pw=QI,V5="Portal",Jc=v.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=v.useState(!1);Qt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?Rb.createPortal(c.jsx(ve.div,{...r,ref:e}),o):null});Jc.displayName=V5;var np="rovingFocusGroup.onEntryFocus",F5={bubbles:!1,cancelable:!0},Zc="RovingFocusGroup",[Bg,XI,U5]=rw(Zc),[$5,JI]=zr(Zc,[U5]),[B5,z5]=$5(Zc),ZI=v.forwardRef((t,e)=>c.jsx(Bg.Provider,{scope:t.__scopeRovingFocusGroup,children:c.jsx(Bg.Slot,{scope:t.__scopeRovingFocusGroup,children:c.jsx(W5,{...t,ref:e})})}));ZI.displayName=Zc;var W5=v.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:d,preventScrollOnEntryFocus:h=!1,...f}=t,m=v.useRef(null),p=Oe(e,m),S=sw(i),[y,E]=ho({prop:o,defaultProp:a??null,onChange:l,caller:Zc}),[x,_]=v.useState(!1),T=Or(d),R=XI(n),M=v.useRef(!1),[O,b]=v.useState(0);return v.useEffect(()=>{const C=m.current;if(C)return C.addEventListener(np,T),()=>C.removeEventListener(np,T)},[T]),c.jsx(B5,{scope:n,orientation:r,dir:S,loop:s,currentTabStopId:y,onItemFocus:v.useCallback(C=>E(C),[E]),onItemShiftTab:v.useCallback(()=>_(!0),[]),onFocusableItemAdd:v.useCallback(()=>b(C=>C+1),[]),onFocusableItemRemove:v.useCallback(()=>b(C=>C-1),[]),children:c.jsx(ve.div,{tabIndex:x||O===0?-1:0,"data-orientation":r,...f,ref:p,style:{outline:"none",...t.style},onMouseDown:ne(t.onMouseDown,()=>{M.current=!0}),onFocus:ne(t.onFocus,C=>{const I=!M.current;if(C.target===C.currentTarget&&I&&!x){const k=new CustomEvent(np,F5);if(C.currentTarget.dispatchEvent(k),!k.defaultPrevented){const A=R().filter(Q=>Q.focusable),D=A.find(Q=>Q.active),P=A.find(Q=>Q.id===y),Y=[D,P,...A].filter(Boolean).map(Q=>Q.ref.current);nN(Y,h)}}M.current=!1}),onBlur:ne(t.onBlur,()=>_(!1))})})}),eN="RovingFocusGroupItem",tN=v.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...a}=t,l=Ar(),d=i||l,h=z5(eN,n),f=h.currentTabStopId===d,m=XI(n),{onFocusableItemAdd:p,onFocusableItemRemove:S,currentTabStopId:y}=h;return v.useEffect(()=>{if(r)return p(),()=>S()},[r,p,S]),c.jsx(Bg.ItemSlot,{scope:n,id:d,focusable:r,active:s,children:c.jsx(ve.span,{tabIndex:f?0:-1,"data-orientation":h.orientation,...a,ref:e,onMouseDown:ne(t.onMouseDown,E=>{r?h.onItemFocus(d):E.preventDefault()}),onFocus:ne(t.onFocus,()=>h.onItemFocus(d)),onKeyDown:ne(t.onKeyDown,E=>{if(E.key==="Tab"&&E.shiftKey){h.onItemShiftTab();return}if(E.target!==E.currentTarget)return;const x=G5(E,h.orientation,h.dir);if(x!==void 0){if(E.metaKey||E.ctrlKey||E.altKey||E.shiftKey)return;E.preventDefault();let T=m().filter(R=>R.focusable).map(R=>R.ref.current);if(x==="last")T.reverse();else if(x==="prev"||x==="next"){x==="prev"&&T.reverse();const R=T.indexOf(E.currentTarget);T=h.loop?K5(T,R+1):T.slice(R+1)}setTimeout(()=>nN(T))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:y!=null}):o})})});tN.displayName=eN;var H5={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function q5(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function G5(t,e,n){const r=q5(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return H5[r]}function nN(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function K5(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Q5=ZI,Y5=tN,X5=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Mo=new WeakMap,Ku=new WeakMap,Qu={},rp=0,rN=function(t){return t&&(t.host||rN(t.parentNode))},J5=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=rN(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},Z5=function(t,e,n,r){var s=J5(e,Array.isArray(t)?t:[t]);Qu[n]||(Qu[n]=new WeakMap);var i=Qu[n],o=[],a=new Set,l=new Set(s),d=function(f){!f||a.has(f)||(a.add(f),d(f.parentNode))};s.forEach(d);var h=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(m){if(a.has(m))h(m);else try{var p=m.getAttribute(r),S=p!==null&&p!=="false",y=(Mo.get(m)||0)+1,E=(i.get(m)||0)+1;Mo.set(m,y),i.set(m,E),o.push(m),y===1&&S&&Ku.set(m,!0),E===1&&m.setAttribute(n,"true"),S||m.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",m,x)}})};return h(e),a.clear(),rp++,function(){o.forEach(function(f){var m=Mo.get(f)-1,p=i.get(f)-1;Mo.set(f,m),i.set(f,p),m||(Ku.has(f)||f.removeAttribute(r),Ku.delete(f)),p||f.removeAttribute(n)}),rp--,rp||(Mo=new WeakMap,Mo=new WeakMap,Ku=new WeakMap,Qu={})}},Df=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=X5(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),Z5(r,s,n,"aria-hidden")):function(){return null}},wr=function(){return wr=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},wr.apply(this,arguments)};function sN(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function eU(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var Cd="right-scroll-bar-position",Id="width-before-scroll-bar",tU="with-scroll-bars-hidden",nU="--removed-body-scroll-bar-size";function sp(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function rU(t,e){var n=v.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var sU=typeof window<"u"?v.useLayoutEffect:v.useEffect,J1=new WeakMap;function iU(t,e){var n=rU(null,function(r){return t.forEach(function(s){return sp(s,r)})});return sU(function(){var r=J1.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||sp(a,null)}),i.forEach(function(a){s.has(a)||sp(a,o)})}J1.set(n,t)},[t]),n}function oU(t){return t}function aU(t,e){e===void 0&&(e=oU);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var h=o;o=[],h.forEach(i)},d=function(){return Promise.resolve().then(l)};d(),n={push:function(h){o.push(h),d()},filter:function(h){return o=o.filter(h),n}}}};return s}function lU(t){t===void 0&&(t={});var e=aU(null);return e.options=wr({async:!0,ssr:!1},t),e}var iN=function(t){var e=t.sideCar,n=sN(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return v.createElement(r,wr({},n))};iN.isSideCarExport=!0;function cU(t,e){return t.useMedium(e),iN}var oN=lU(),ip=function(){},Mf=v.forwardRef(function(t,e){var n=v.useRef(null),r=v.useState({onScrollCapture:ip,onWheelCapture:ip,onTouchMoveCapture:ip}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,d=t.removeScrollBar,h=t.enabled,f=t.shards,m=t.sideCar,p=t.noRelative,S=t.noIsolation,y=t.inert,E=t.allowPinchZoom,x=t.as,_=x===void 0?"div":x,T=t.gapMode,R=sN(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),M=m,O=iU([n,e]),b=wr(wr({},R),s);return v.createElement(v.Fragment,null,h&&v.createElement(M,{sideCar:oN,removeScrollBar:d,shards:f,noRelative:p,noIsolation:S,inert:y,setCallbacks:i,allowPinchZoom:!!E,lockRef:n,gapMode:T}),o?v.cloneElement(v.Children.only(a),wr(wr({},b),{ref:O})):v.createElement(_,wr({},b,{className:l,ref:O}),a))});Mf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Mf.classNames={fullWidth:Id,zeroRight:Cd};var uU=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function dU(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=uU();return e&&t.setAttribute("nonce",e),t}function hU(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function fU(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var mU=function(){var t=0,e=null;return{add:function(n){t==0&&(e=dU())&&(hU(e,n),fU(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},pU=function(){var t=mU();return function(e,n){v.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},aN=function(){var t=pU(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},gU={left:0,top:0,right:0,gap:0},op=function(t){return parseInt(t||"",10)||0},vU=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[op(n),op(r),op(s)]},yU=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return gU;var e=vU(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},wU=aN(),pa="data-scroll-locked",_U=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(tU,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(pa,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Cd,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Id,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Cd," .").concat(Cd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Id," .").concat(Id,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(pa,`] {
    `).concat(nU,": ").concat(a,`px;
  }
`)},Z1=function(){var t=parseInt(document.body.getAttribute(pa)||"0",10);return isFinite(t)?t:0},xU=function(){v.useEffect(function(){return document.body.setAttribute(pa,(Z1()+1).toString()),function(){var t=Z1()-1;t<=0?document.body.removeAttribute(pa):document.body.setAttribute(pa,t.toString())}},[])},EU=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;xU();var i=v.useMemo(function(){return yU(s)},[s]);return v.createElement(wU,{styles:_U(i,!e,s,n?"":"!important")})},zg=!1;if(typeof window<"u")try{var Yu=Object.defineProperty({},"passive",{get:function(){return zg=!0,!0}});window.addEventListener("test",Yu,Yu),window.removeEventListener("test",Yu,Yu)}catch{zg=!1}var Oo=zg?{passive:!1}:!1,TU=function(t){return t.tagName==="TEXTAREA"},lN=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!TU(t)&&n[e]==="visible")},bU=function(t){return lN(t,"overflowY")},SU=function(t){return lN(t,"overflowX")},eE=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=cN(t,r);if(s){var i=uN(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},CU=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},IU=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},cN=function(t,e){return t==="v"?bU(e):SU(e)},uN=function(t,e){return t==="v"?CU(e):IU(e)},NU=function(t,e){return t==="h"&&e==="rtl"?-1:1},kU=function(t,e,n,r,s){var i=NU(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),d=!1,h=o>0,f=0,m=0;do{if(!a)break;var p=uN(t,a),S=p[0],y=p[1],E=p[2],x=y-E-i*S;(S||x)&&cN(t,a)&&(f+=x,m+=S);var _=a.parentNode;a=_&&_.nodeType===Node.DOCUMENT_FRAGMENT_NODE?_.host:_}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(h&&Math.abs(f)<1||!h&&Math.abs(m)<1)&&(d=!0),d},Xu=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},tE=function(t){return[t.deltaX,t.deltaY]},nE=function(t){return t&&"current"in t?t.current:t},PU=function(t,e){return t[0]===e[0]&&t[1]===e[1]},RU=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},AU=0,jo=[];function DU(t){var e=v.useRef([]),n=v.useRef([0,0]),r=v.useRef(),s=v.useState(AU++)[0],i=v.useState(aN)[0],o=v.useRef(t);v.useEffect(function(){o.current=t},[t]),v.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var y=eU([t.lockRef.current],(t.shards||[]).map(nE),!0).filter(Boolean);return y.forEach(function(E){return E.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=v.useCallback(function(y,E){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var x=Xu(y),_=n.current,T="deltaX"in y?y.deltaX:_[0]-x[0],R="deltaY"in y?y.deltaY:_[1]-x[1],M,O=y.target,b=Math.abs(T)>Math.abs(R)?"h":"v";if("touches"in y&&b==="h"&&O.type==="range")return!1;var C=eE(b,O);if(!C)return!0;if(C?M=b:(M=b==="v"?"h":"v",C=eE(b,O)),!C)return!1;if(!r.current&&"changedTouches"in y&&(T||R)&&(r.current=M),!M)return!0;var I=r.current||M;return kU(I,E,y,I==="h"?T:R)},[]),l=v.useCallback(function(y){var E=y;if(!(!jo.length||jo[jo.length-1]!==i)){var x="deltaY"in E?tE(E):Xu(E),_=e.current.filter(function(M){return M.name===E.type&&(M.target===E.target||E.target===M.shadowParent)&&PU(M.delta,x)})[0];if(_&&_.should){E.cancelable&&E.preventDefault();return}if(!_){var T=(o.current.shards||[]).map(nE).filter(Boolean).filter(function(M){return M.contains(E.target)}),R=T.length>0?a(E,T[0]):!o.current.noIsolation;R&&E.cancelable&&E.preventDefault()}}},[]),d=v.useCallback(function(y,E,x,_){var T={name:y,delta:E,target:x,should:_,shadowParent:MU(x)};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(R){return R!==T})},1)},[]),h=v.useCallback(function(y){n.current=Xu(y),r.current=void 0},[]),f=v.useCallback(function(y){d(y.type,tE(y),y.target,a(y,t.lockRef.current))},[]),m=v.useCallback(function(y){d(y.type,Xu(y),y.target,a(y,t.lockRef.current))},[]);v.useEffect(function(){return jo.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",l,Oo),document.addEventListener("touchmove",l,Oo),document.addEventListener("touchstart",h,Oo),function(){jo=jo.filter(function(y){return y!==i}),document.removeEventListener("wheel",l,Oo),document.removeEventListener("touchmove",l,Oo),document.removeEventListener("touchstart",h,Oo)}},[]);var p=t.removeScrollBar,S=t.inert;return v.createElement(v.Fragment,null,S?v.createElement(i,{styles:RU(s)}):null,p?v.createElement(EU,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function MU(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const OU=cU(oN,DU);var eu=v.forwardRef(function(t,e){return v.createElement(Mf,wr({},t,{ref:e,sideCar:OU}))});eu.classNames=Mf.classNames;var Wg=["Enter"," "],jU=["ArrowDown","PageUp","Home"],dN=["ArrowUp","PageDown","End"],LU=[...jU,...dN],VU={ltr:[...Wg,"ArrowRight"],rtl:[...Wg,"ArrowLeft"]},FU={ltr:["ArrowLeft"],rtl:["ArrowRight"]},tu="Menu",[Nc,UU,$U]=rw(tu),[So,hN]=zr(tu,[$U,Ja,JI]),Of=Ja(),fN=JI(),[BU,Co]=So(tu),[zU,nu]=So(tu),mN=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=t,a=Of(e),[l,d]=v.useState(null),h=v.useRef(!1),f=Or(i),m=sw(s);return v.useEffect(()=>{const p=()=>{h.current=!0,document.addEventListener("pointerdown",S,{capture:!0,once:!0}),document.addEventListener("pointermove",S,{capture:!0,once:!0})},S=()=>h.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",S,{capture:!0}),document.removeEventListener("pointermove",S,{capture:!0})}},[]),c.jsx(fw,{...a,children:c.jsx(BU,{scope:e,open:n,onOpenChange:f,content:l,onContentChange:d,children:c.jsx(zU,{scope:e,onClose:v.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:h,dir:m,modal:o,children:r})})})};mN.displayName=tu;var WU="MenuAnchor",gw=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Of(n);return c.jsx(Af,{...s,...r,ref:e})});gw.displayName=WU;var vw="MenuPortal",[HU,pN]=So(vw,{forceMount:void 0}),gN=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=Co(vw,e);return c.jsx(HU,{scope:e,forceMount:n,children:c.jsx(or,{present:n||i.open,children:c.jsx(Jc,{asChild:!0,container:s,children:r})})})};gN.displayName=vw;var Ln="MenuContent",[qU,yw]=So(Ln),vN=v.forwardRef((t,e)=>{const n=pN(Ln,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Co(Ln,t.__scopeMenu),o=nu(Ln,t.__scopeMenu);return c.jsx(Nc.Provider,{scope:t.__scopeMenu,children:c.jsx(or,{present:r||i.open,children:c.jsx(Nc.Slot,{scope:t.__scopeMenu,children:o.modal?c.jsx(GU,{...s,ref:e}):c.jsx(KU,{...s,ref:e})})})})}),GU=v.forwardRef((t,e)=>{const n=Co(Ln,t.__scopeMenu),r=v.useRef(null),s=Oe(e,r);return v.useEffect(()=>{const i=r.current;if(i)return Df(i)},[]),c.jsx(ww,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ne(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),KU=v.forwardRef((t,e)=>{const n=Co(Ln,t.__scopeMenu);return c.jsx(ww,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),QU=hi("MenuContent.ScrollLock"),ww=v.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:m,onDismiss:p,disableOutsideScroll:S,...y}=t,E=Co(Ln,n),x=nu(Ln,n),_=Of(n),T=fN(n),R=UU(n),[M,O]=v.useState(null),b=v.useRef(null),C=Oe(e,b,E.onContentChange),I=v.useRef(0),k=v.useRef(""),A=v.useRef(0),D=v.useRef(null),P=v.useRef("right"),W=v.useRef(0),Y=S?eu:v.Fragment,Q=S?{as:QU,allowPinchZoom:!0}:void 0,B=L=>{var G,Ee;const H=k.current+L,te=R().filter(Ne=>!Ne.disabled),ee=document.activeElement,pe=(G=te.find(Ne=>Ne.ref.current===ee))==null?void 0:G.textValue,ae=te.map(Ne=>Ne.textValue),De=a9(ae,H,pe),Me=(Ee=te.find(Ne=>Ne.textValue===De))==null?void 0:Ee.ref.current;(function Ne(Te){k.current=Te,window.clearTimeout(I.current),Te!==""&&(I.current=window.setTimeout(()=>Ne(""),1e3))})(H),Me&&setTimeout(()=>Me.focus())};v.useEffect(()=>()=>window.clearTimeout(I.current),[]),If();const j=v.useCallback(L=>{var te,ee;return P.current===((te=D.current)==null?void 0:te.side)&&c9(L,(ee=D.current)==null?void 0:ee.area)},[]);return c.jsx(qU,{scope:n,searchRef:k,onItemEnter:v.useCallback(L=>{j(L)&&L.preventDefault()},[j]),onItemLeave:v.useCallback(L=>{var H;j(L)||((H=b.current)==null||H.focus(),O(null))},[j]),onTriggerLeave:v.useCallback(L=>{j(L)&&L.preventDefault()},[j]),pointerGraceTimerRef:A,onPointerGraceIntentChange:v.useCallback(L=>{D.current=L},[]),children:c.jsx(Y,{...Q,children:c.jsx(Yc,{asChild:!0,trapped:s,onMountAutoFocus:ne(i,L=>{var H;L.preventDefault(),(H=b.current)==null||H.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:c.jsx(Qc,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:m,onDismiss:p,children:c.jsx(Q5,{asChild:!0,...T,dir:x.dir,orientation:"vertical",loop:r,currentTabStopId:M,onCurrentTabStopIdChange:O,onEntryFocus:ne(l,L=>{x.isUsingKeyboardRef.current||L.preventDefault()}),preventScrollOnEntryFocus:!0,children:c.jsx(mw,{role:"menu","aria-orientation":"vertical","data-state":DN(E.open),"data-radix-menu-content":"",dir:x.dir,..._,...y,ref:C,style:{outline:"none",...y.style},onKeyDown:ne(y.onKeyDown,L=>{const te=L.target.closest("[data-radix-menu-content]")===L.currentTarget,ee=L.ctrlKey||L.altKey||L.metaKey,pe=L.key.length===1;te&&(L.key==="Tab"&&L.preventDefault(),!ee&&pe&&B(L.key));const ae=b.current;if(L.target!==ae||!LU.includes(L.key))return;L.preventDefault();const Me=R().filter(G=>!G.disabled).map(G=>G.ref.current);dN.includes(L.key)&&Me.reverse(),i9(Me)}),onBlur:ne(t.onBlur,L=>{L.currentTarget.contains(L.target)||(window.clearTimeout(I.current),k.current="")}),onPointerMove:ne(t.onPointerMove,kc(L=>{const H=L.target,te=W.current!==L.clientX;if(L.currentTarget.contains(H)&&te){const ee=L.clientX>W.current?"right":"left";P.current=ee,W.current=L.clientX}}))})})})})})})});vN.displayName=Ln;var YU="MenuGroup",_w=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return c.jsx(ve.div,{role:"group",...r,ref:e})});_w.displayName=YU;var XU="MenuLabel",yN=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return c.jsx(ve.div,{...r,ref:e})});yN.displayName=XU;var Ih="MenuItem",rE="menu.itemSelect",jf=v.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=v.useRef(null),o=nu(Ih,t.__scopeMenu),a=yw(Ih,t.__scopeMenu),l=Oe(e,i),d=v.useRef(!1),h=()=>{const f=i.current;if(!n&&f){const m=new CustomEvent(rE,{bubbles:!0,cancelable:!0});f.addEventListener(rE,p=>r==null?void 0:r(p),{once:!0}),fI(f,m),m.defaultPrevented?d.current=!1:o.onClose()}};return c.jsx(wN,{...s,ref:l,disabled:n,onClick:ne(t.onClick,h),onPointerDown:f=>{var m;(m=t.onPointerDown)==null||m.call(t,f),d.current=!0},onPointerUp:ne(t.onPointerUp,f=>{var m;d.current||(m=f.currentTarget)==null||m.click()}),onKeyDown:ne(t.onKeyDown,f=>{const m=a.searchRef.current!=="";n||m&&f.key===" "||Wg.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});jf.displayName=Ih;var wN=v.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,o=yw(Ih,n),a=fN(n),l=v.useRef(null),d=Oe(e,l),[h,f]=v.useState(!1),[m,p]=v.useState("");return v.useEffect(()=>{const S=l.current;S&&p((S.textContent??"").trim())},[i.children]),c.jsx(Nc.ItemSlot,{scope:n,disabled:r,textValue:s??m,children:c.jsx(Y5,{asChild:!0,...a,focusable:!r,children:c.jsx(ve.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:d,onPointerMove:ne(t.onPointerMove,kc(S=>{r?o.onItemLeave(S):(o.onItemEnter(S),S.defaultPrevented||S.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ne(t.onPointerLeave,kc(S=>o.onItemLeave(S))),onFocus:ne(t.onFocus,()=>f(!0)),onBlur:ne(t.onBlur,()=>f(!1))})})})}),JU="MenuCheckboxItem",_N=v.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return c.jsx(SN,{scope:t.__scopeMenu,checked:n,children:c.jsx(jf,{role:"menuitemcheckbox","aria-checked":Nh(n)?"mixed":n,...s,ref:e,"data-state":Ew(n),onSelect:ne(s.onSelect,()=>r==null?void 0:r(Nh(n)?!0:!n),{checkForDefaultPrevented:!1})})})});_N.displayName=JU;var xN="MenuRadioGroup",[ZU,e9]=So(xN,{value:void 0,onValueChange:()=>{}}),EN=v.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=Or(r);return c.jsx(ZU,{scope:t.__scopeMenu,value:n,onValueChange:i,children:c.jsx(_w,{...s,ref:e})})});EN.displayName=xN;var TN="MenuRadioItem",bN=v.forwardRef((t,e)=>{const{value:n,...r}=t,s=e9(TN,t.__scopeMenu),i=n===s.value;return c.jsx(SN,{scope:t.__scopeMenu,checked:i,children:c.jsx(jf,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":Ew(i),onSelect:ne(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});bN.displayName=TN;var xw="MenuItemIndicator",[SN,t9]=So(xw,{checked:!1}),CN=v.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=t9(xw,n);return c.jsx(or,{present:r||Nh(i.checked)||i.checked===!0,children:c.jsx(ve.span,{...s,ref:e,"data-state":Ew(i.checked)})})});CN.displayName=xw;var n9="MenuSeparator",IN=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return c.jsx(ve.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});IN.displayName=n9;var r9="MenuArrow",NN=v.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Of(n);return c.jsx(pw,{...s,...r,ref:e})});NN.displayName=r9;var s9="MenuSub",[TW,kN]=So(s9),Al="MenuSubTrigger",PN=v.forwardRef((t,e)=>{const n=Co(Al,t.__scopeMenu),r=nu(Al,t.__scopeMenu),s=kN(Al,t.__scopeMenu),i=yw(Al,t.__scopeMenu),o=v.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=i,d={__scopeMenu:t.__scopeMenu},h=v.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return v.useEffect(()=>h,[h]),v.useEffect(()=>{const f=a.current;return()=>{window.clearTimeout(f),l(null)}},[a,l]),c.jsx(gw,{asChild:!0,...d,children:c.jsx(wN,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":DN(n.open),...t,ref:tf(e,s.onTriggerChange),onClick:f=>{var m;(m=t.onClick)==null||m.call(t,f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ne(t.onPointerMove,kc(f=>{i.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),h()},100))})),onPointerLeave:ne(t.onPointerLeave,kc(f=>{var p,S;h();const m=(p=n.content)==null?void 0:p.getBoundingClientRect();if(m){const y=(S=n.content)==null?void 0:S.dataset.side,E=y==="right",x=E?-5:5,_=m[E?"left":"right"],T=m[E?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+x,y:f.clientY},{x:_,y:m.top},{x:T,y:m.top},{x:T,y:m.bottom},{x:_,y:m.bottom}],side:y}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:ne(t.onKeyDown,f=>{var p;const m=i.searchRef.current!=="";t.disabled||m&&f.key===" "||VU[r.dir].includes(f.key)&&(n.onOpenChange(!0),(p=n.content)==null||p.focus(),f.preventDefault())})})})});PN.displayName=Al;var RN="MenuSubContent",AN=v.forwardRef((t,e)=>{const n=pN(Ln,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Co(Ln,t.__scopeMenu),o=nu(Ln,t.__scopeMenu),a=kN(RN,t.__scopeMenu),l=v.useRef(null),d=Oe(e,l);return c.jsx(Nc.Provider,{scope:t.__scopeMenu,children:c.jsx(or,{present:r||i.open,children:c.jsx(Nc.Slot,{scope:t.__scopeMenu,children:c.jsx(ww,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var f;o.isUsingKeyboardRef.current&&((f=l.current)==null||f.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:ne(t.onFocusOutside,h=>{h.target!==a.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:ne(t.onEscapeKeyDown,h=>{o.onClose(),h.preventDefault()}),onKeyDown:ne(t.onKeyDown,h=>{var p;const f=h.currentTarget.contains(h.target),m=FU[o.dir].includes(h.key);f&&m&&(i.onOpenChange(!1),(p=a.trigger)==null||p.focus(),h.preventDefault())})})})})})});AN.displayName=RN;function DN(t){return t?"open":"closed"}function Nh(t){return t==="indeterminate"}function Ew(t){return Nh(t)?"indeterminate":t?"checked":"unchecked"}function i9(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function o9(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function a9(t,e,n){const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=o9(t,Math.max(i,0));s.length===1&&(o=o.filter(d=>d!==n));const l=o.find(d=>d.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function l9(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],l=e[o],d=a.x,h=a.y,f=l.x,m=l.y;h>r!=m>r&&n<(f-d)*(r-h)/(m-h)+d&&(s=!s)}return s}function c9(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return l9(n,e)}function kc(t){return e=>e.pointerType==="mouse"?t(e):void 0}var u9=mN,d9=gw,h9=gN,f9=vN,m9=_w,p9=yN,g9=jf,v9=_N,y9=EN,w9=bN,_9=CN,x9=IN,E9=NN,T9=PN,b9=AN,Lf="DropdownMenu",[S9]=zr(Lf,[hN]),rn=hN(),[C9,MN]=S9(Lf),ON=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:o,modal:a=!0}=t,l=rn(e),d=v.useRef(null),[h,f]=ho({prop:s,defaultProp:i??!1,onChange:o,caller:Lf});return c.jsx(C9,{scope:e,triggerId:Ar(),triggerRef:d,contentId:Ar(),open:h,onOpenChange:f,onOpenToggle:v.useCallback(()=>f(m=>!m),[f]),modal:a,children:c.jsx(u9,{...l,open:h,onOpenChange:f,dir:r,modal:a,children:n})})};ON.displayName=Lf;var jN="DropdownMenuTrigger",LN=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=MN(jN,n),o=rn(n);return c.jsx(d9,{asChild:!0,...o,children:c.jsx(ve.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:tf(e,i.triggerRef),onPointerDown:ne(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(i.onOpenToggle(),i.open||a.preventDefault())}),onKeyDown:ne(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&i.onOpenToggle(),a.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});LN.displayName=jN;var I9="DropdownMenuPortal",VN=t=>{const{__scopeDropdownMenu:e,...n}=t,r=rn(e);return c.jsx(h9,{...r,...n})};VN.displayName=I9;var FN="DropdownMenuContent",UN=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=MN(FN,n),i=rn(n),o=v.useRef(!1);return c.jsx(f9,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:ne(t.onCloseAutoFocus,a=>{var l;o.current||(l=s.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:ne(t.onInteractOutside,a=>{const l=a.detail.originalEvent,d=l.button===0&&l.ctrlKey===!0,h=l.button===2||d;(!s.modal||h)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});UN.displayName=FN;var N9="DropdownMenuGroup",k9=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=rn(n);return c.jsx(m9,{...s,...r,ref:e})});k9.displayName=N9;var P9="DropdownMenuLabel",$N=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=rn(n);return c.jsx(p9,{...s,...r,ref:e})});$N.displayName=P9;var R9="DropdownMenuItem",BN=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=rn(n);return c.jsx(g9,{...s,...r,ref:e})});BN.displayName=R9;var A9="DropdownMenuCheckboxItem",zN=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=rn(n);return c.jsx(v9,{...s,...r,ref:e})});zN.displayName=A9;var D9="DropdownMenuRadioGroup",M9=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=rn(n);return c.jsx(y9,{...s,...r,ref:e})});M9.displayName=D9;var O9="DropdownMenuRadioItem",WN=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=rn(n);return c.jsx(w9,{...s,...r,ref:e})});WN.displayName=O9;var j9="DropdownMenuItemIndicator",HN=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=rn(n);return c.jsx(_9,{...s,...r,ref:e})});HN.displayName=j9;var L9="DropdownMenuSeparator",qN=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=rn(n);return c.jsx(x9,{...s,...r,ref:e})});qN.displayName=L9;var V9="DropdownMenuArrow",F9=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=rn(n);return c.jsx(E9,{...s,...r,ref:e})});F9.displayName=V9;var U9="DropdownMenuSubTrigger",GN=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=rn(n);return c.jsx(T9,{...s,...r,ref:e})});GN.displayName=U9;var $9="DropdownMenuSubContent",KN=v.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=rn(n);return c.jsx(b9,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});KN.displayName=$9;var B9=ON,z9=LN,W9=VN,QN=UN,YN=$N,XN=BN,JN=zN,ZN=WN,ek=HN,tk=qN,nk=GN,rk=KN;const H9=B9,q9=z9,G9=v.forwardRef(({className:t,inset:e,children:n,...r},s)=>c.jsxs(nk,{ref:s,className:ue("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,c.jsx(TI,{className:"ml-auto h-4 w-4"})]}));G9.displayName=nk.displayName;const K9=v.forwardRef(({className:t,...e},n)=>c.jsx(rk,{ref:n,className:ue("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));K9.displayName=rk.displayName;const sk=v.forwardRef(({className:t,sideOffset:e=4,...n},r)=>c.jsx(W9,{children:c.jsx(QN,{ref:r,sideOffset:e,className:ue("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));sk.displayName=QN.displayName;const Hg=v.forwardRef(({className:t,inset:e,...n},r)=>c.jsx(XN,{ref:r,className:ue("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));Hg.displayName=XN.displayName;const Q9=v.forwardRef(({className:t,children:e,checked:n,...r},s)=>c.jsxs(JN,{ref:s,className:ue("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(ek,{children:c.jsx(tw,{className:"h-4 w-4"})})}),e]}));Q9.displayName=JN.displayName;const Y9=v.forwardRef(({className:t,children:e,...n},r)=>c.jsxs(ZN,{ref:r,className:ue("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(ek,{children:c.jsx(q3,{className:"h-2 w-2 fill-current"})})}),e]}));Y9.displayName=ZN.displayName;const X9=v.forwardRef(({className:t,inset:e,...n},r)=>c.jsx(YN,{ref:r,className:ue("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));X9.displayName=YN.displayName;const J9=v.forwardRef(({className:t,...e},n)=>c.jsx(tk,{ref:n,className:ue("-mx-1 my-1 h-px bg-muted",t),...e}));J9.displayName=tk.displayName;var Vf="Dialog",[ik]=zr(Vf),[Z9,ar]=ik(Vf),ok=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=v.useRef(null),l=v.useRef(null),[d,h]=ho({prop:r,defaultProp:s??!1,onChange:i,caller:Vf});return c.jsx(Z9,{scope:e,triggerRef:a,contentRef:l,contentId:Ar(),titleId:Ar(),descriptionId:Ar(),open:d,onOpenChange:h,onOpenToggle:v.useCallback(()=>h(f=>!f),[h]),modal:o,children:n})};ok.displayName=Vf;var ak="DialogTrigger",lk=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ar(ak,n),i=Oe(e,s.triggerRef);return c.jsx(ve.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Sw(s.open),...r,ref:i,onClick:ne(t.onClick,s.onOpenToggle)})});lk.displayName=ak;var Tw="DialogPortal",[e8,ck]=ik(Tw,{forceMount:void 0}),uk=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=ar(Tw,e);return c.jsx(e8,{scope:e,forceMount:n,children:v.Children.map(r,o=>c.jsx(or,{present:n||i.open,children:c.jsx(Jc,{asChild:!0,container:s,children:o})}))})};uk.displayName=Tw;var kh="DialogOverlay",dk=v.forwardRef((t,e)=>{const n=ck(kh,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=ar(kh,t.__scopeDialog);return i.modal?c.jsx(or,{present:r||i.open,children:c.jsx(n8,{...s,ref:e})}):null});dk.displayName=kh;var t8=hi("DialogOverlay.RemoveScroll"),n8=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ar(kh,n);return c.jsx(eu,{as:t8,allowPinchZoom:!0,shards:[s.contentRef],children:c.jsx(ve.div,{"data-state":Sw(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),mo="DialogContent",hk=v.forwardRef((t,e)=>{const n=ck(mo,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=ar(mo,t.__scopeDialog);return c.jsx(or,{present:r||i.open,children:i.modal?c.jsx(r8,{...s,ref:e}):c.jsx(s8,{...s,ref:e})})});hk.displayName=mo;var r8=v.forwardRef((t,e)=>{const n=ar(mo,t.__scopeDialog),r=v.useRef(null),s=Oe(e,n.contentRef,r);return v.useEffect(()=>{const i=r.current;if(i)return Df(i)},[]),c.jsx(fk,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ne(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ne(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:ne(t.onFocusOutside,i=>i.preventDefault())})}),s8=v.forwardRef((t,e)=>{const n=ar(mo,t.__scopeDialog),r=v.useRef(!1),s=v.useRef(!1);return c.jsx(fk,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,d;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),fk=v.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=ar(mo,n),l=v.useRef(null),d=Oe(e,l);return If(),c.jsxs(c.Fragment,{children:[c.jsx(Yc,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:c.jsx(Qc,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Sw(a.open),...o,ref:d,onDismiss:()=>a.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(i8,{titleId:a.titleId}),c.jsx(a8,{contentRef:l,descriptionId:a.descriptionId})]})]})}),bw="DialogTitle",mk=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ar(bw,n);return c.jsx(ve.h2,{id:s.titleId,...r,ref:e})});mk.displayName=bw;var pk="DialogDescription",gk=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ar(pk,n);return c.jsx(ve.p,{id:s.descriptionId,...r,ref:e})});gk.displayName=pk;var vk="DialogClose",yk=v.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=ar(vk,n);return c.jsx(ve.button,{type:"button",...r,ref:e,onClick:ne(t.onClick,()=>s.onOpenChange(!1))})});yk.displayName=vk;function Sw(t){return t?"open":"closed"}var wk="DialogTitleWarning",[bW,_k]=C3(wk,{contentName:mo,titleName:bw,docsSlug:"dialog"}),i8=({titleId:t})=>{const e=_k(wk),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return v.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},o8="DialogDescriptionWarning",a8=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${_k(o8).contentName}}.`;return v.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},l8=ok,c8=lk,u8=uk,xk=dk,Ek=hk,Tk=mk,bk=gk,d8=yk;const vs=l8,Ff=c8,h8=u8,Sk=v.forwardRef(({className:t,...e},n)=>c.jsx(xk,{ref:n,className:ue("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));Sk.displayName=xk.displayName;const Lr=v.forwardRef(({className:t,children:e,...n},r)=>c.jsxs(h8,{children:[c.jsx(Sk,{}),c.jsxs(Ek,{ref:r,className:ue("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,c.jsxs(d8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[c.jsx(CI,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Lr.displayName=Ek.displayName;const Vr=({className:t,...e})=>c.jsx("div",{className:ue("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Vr.displayName="DialogHeader";const Fr=({className:t,...e})=>c.jsx("div",{className:ue("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Fr.displayName="DialogFooter";const Ur=v.forwardRef(({className:t,...e},n)=>c.jsx(Tk,{ref:n,className:ue("text-lg font-semibold leading-none tracking-tight",t),...e}));Ur.displayName=Tk.displayName;const $r=v.forwardRef(({className:t,...e},n)=>c.jsx(bk,{ref:n,className:ue("text-sm text-muted-foreground",t),...e}));$r.displayName=bk.displayName;const ct=v.forwardRef(({className:t,type:e,...n},r)=>c.jsx("input",{type:e,className:ue("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));ct.displayName="Input";var f8="Label",Ck=v.forwardRef((t,e)=>c.jsx(ve.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Ck.displayName=f8;var Ik=Ck;const m8=Jv("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Re=v.forwardRef(({className:t,...e},n)=>c.jsx(Ik,{ref:n,className:ue(m8(),t),...e}));Re.displayName=Ik.displayName;const ru=v.forwardRef(({className:t,...e},n)=>c.jsx("textarea",{className:ue("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));ru.displayName="Textarea";function sE(t,[e,n]){return Math.min(n,Math.max(e,t))}var Nk=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),p8="VisuallyHidden",g8=v.forwardRef((t,e)=>c.jsx(ve.span,{...t,ref:e,style:{...Nk,...t.style}}));g8.displayName=p8;var v8=[" ","Enter","ArrowUp","ArrowDown"],y8=[" ","Enter"],po="Select",[Uf,$f,w8]=rw(po),[Za]=zr(po,[w8,Ja]),Bf=Ja(),[_8,Ii]=Za(po),[x8,E8]=Za(po),kk=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:d,name:h,autoComplete:f,disabled:m,required:p,form:S}=t,y=Bf(e),[E,x]=v.useState(null),[_,T]=v.useState(null),[R,M]=v.useState(!1),O=sw(d),[b,C]=ho({prop:r,defaultProp:s??!1,onChange:i,caller:po}),[I,k]=ho({prop:o,defaultProp:a,onChange:l,caller:po}),A=v.useRef(null),D=E?S||!!E.closest("form"):!0,[P,W]=v.useState(new Set),Y=Array.from(P).map(Q=>Q.props.value).join(";");return c.jsx(fw,{...y,children:c.jsxs(_8,{required:p,scope:e,trigger:E,onTriggerChange:x,valueNode:_,onValueNodeChange:T,valueNodeHasChildren:R,onValueNodeHasChildrenChange:M,contentId:Ar(),value:I,onValueChange:k,open:b,onOpenChange:C,dir:O,triggerPointerDownPosRef:A,disabled:m,children:[c.jsx(Uf.Provider,{scope:e,children:c.jsx(x8,{scope:t.__scopeSelect,onNativeOptionAdd:v.useCallback(Q=>{W(B=>new Set(B).add(Q))},[]),onNativeOptionRemove:v.useCallback(Q=>{W(B=>{const j=new Set(B);return j.delete(Q),j})},[]),children:n})}),D?c.jsxs(Zk,{"aria-hidden":!0,required:p,tabIndex:-1,name:h,autoComplete:f,value:I,onChange:Q=>k(Q.target.value),disabled:m,form:S,children:[I===void 0?c.jsx("option",{value:""}):null,Array.from(P)]},Y):null]})})};kk.displayName=po;var Pk="SelectTrigger",Rk=v.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=Bf(n),o=Ii(Pk,n),a=o.disabled||r,l=Oe(e,o.onTriggerChange),d=$f(n),h=v.useRef("touch"),[f,m,p]=tP(y=>{const E=d().filter(T=>!T.disabled),x=E.find(T=>T.value===o.value),_=nP(E,y,x);_!==void 0&&o.onValueChange(_.value)}),S=y=>{a||(o.onOpenChange(!0),p()),y&&(o.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return c.jsx(Af,{asChild:!0,...i,children:c.jsx(ve.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":eP(o.value)?"":void 0,...s,ref:l,onClick:ne(s.onClick,y=>{y.currentTarget.focus(),h.current!=="mouse"&&S(y)}),onPointerDown:ne(s.onPointerDown,y=>{h.current=y.pointerType;const E=y.target;E.hasPointerCapture(y.pointerId)&&E.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(S(y),y.preventDefault())}),onKeyDown:ne(s.onKeyDown,y=>{const E=f.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&m(y.key),!(E&&y.key===" ")&&v8.includes(y.key)&&(S(),y.preventDefault())})})})});Rk.displayName=Pk;var Ak="SelectValue",Dk=v.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=Ii(Ak,n),{onValueNodeHasChildrenChange:d}=l,h=i!==void 0,f=Oe(e,l.onValueNodeChange);return Qt(()=>{d(h)},[d,h]),c.jsx(ve.span,{...a,ref:f,style:{pointerEvents:"none"},children:eP(l.value)?c.jsx(c.Fragment,{children:o}):i})});Dk.displayName=Ak;var T8="SelectIcon",Mk=v.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return c.jsx(ve.span,{"aria-hidden":!0,...s,ref:e,children:r||"▼"})});Mk.displayName=T8;var b8="SelectPortal",Ok=t=>c.jsx(Jc,{asChild:!0,...t});Ok.displayName=b8;var go="SelectContent",jk=v.forwardRef((t,e)=>{const n=Ii(go,t.__scopeSelect),[r,s]=v.useState();if(Qt(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?$a.createPortal(c.jsx(Lk,{scope:t.__scopeSelect,children:c.jsx(Uf.Slot,{scope:t.__scopeSelect,children:c.jsx("div",{children:t.children})})}),i):null}return c.jsx(Vk,{...t,ref:e})});jk.displayName=go;var Hn=10,[Lk,Ni]=Za(go),S8="SelectContentImpl",C8=hi("SelectContent.RemoveScroll"),Vk=v.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:m,collisionPadding:p,sticky:S,hideWhenDetached:y,avoidCollisions:E,...x}=t,_=Ii(go,n),[T,R]=v.useState(null),[M,O]=v.useState(null),b=Oe(e,G=>R(G)),[C,I]=v.useState(null),[k,A]=v.useState(null),D=$f(n),[P,W]=v.useState(!1),Y=v.useRef(!1);v.useEffect(()=>{if(T)return Df(T)},[T]),If();const Q=v.useCallback(G=>{const[Ee,...Ne]=D().map(ke=>ke.ref.current),[Te]=Ne.slice(-1),be=document.activeElement;for(const ke of G)if(ke===be||(ke==null||ke.scrollIntoView({block:"nearest"}),ke===Ee&&M&&(M.scrollTop=0),ke===Te&&M&&(M.scrollTop=M.scrollHeight),ke==null||ke.focus(),document.activeElement!==be))return},[D,M]),B=v.useCallback(()=>Q([C,T]),[Q,C,T]);v.useEffect(()=>{P&&B()},[P,B]);const{onOpenChange:j,triggerPointerDownPosRef:L}=_;v.useEffect(()=>{if(T){let G={x:0,y:0};const Ee=Te=>{var be,ke;G={x:Math.abs(Math.round(Te.pageX)-(((be=L.current)==null?void 0:be.x)??0)),y:Math.abs(Math.round(Te.pageY)-(((ke=L.current)==null?void 0:ke.y)??0))}},Ne=Te=>{G.x<=10&&G.y<=10?Te.preventDefault():T.contains(Te.target)||j(!1),document.removeEventListener("pointermove",Ee),L.current=null};return L.current!==null&&(document.addEventListener("pointermove",Ee),document.addEventListener("pointerup",Ne,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ee),document.removeEventListener("pointerup",Ne,{capture:!0})}}},[T,j,L]),v.useEffect(()=>{const G=()=>j(!1);return window.addEventListener("blur",G),window.addEventListener("resize",G),()=>{window.removeEventListener("blur",G),window.removeEventListener("resize",G)}},[j]);const[H,te]=tP(G=>{const Ee=D().filter(be=>!be.disabled),Ne=Ee.find(be=>be.ref.current===document.activeElement),Te=nP(Ee,G,Ne);Te&&setTimeout(()=>Te.ref.current.focus())}),ee=v.useCallback((G,Ee,Ne)=>{const Te=!Y.current&&!Ne;(_.value!==void 0&&_.value===Ee||Te)&&(I(G),Te&&(Y.current=!0))},[_.value]),pe=v.useCallback(()=>T==null?void 0:T.focus(),[T]),ae=v.useCallback((G,Ee,Ne)=>{const Te=!Y.current&&!Ne;(_.value!==void 0&&_.value===Ee||Te)&&A(G)},[_.value]),De=r==="popper"?qg:Fk,Me=De===qg?{side:a,sideOffset:l,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:m,collisionPadding:p,sticky:S,hideWhenDetached:y,avoidCollisions:E}:{};return c.jsx(Lk,{scope:n,content:T,viewport:M,onViewportChange:O,itemRefCallback:ee,selectedItem:C,onItemLeave:pe,itemTextRefCallback:ae,focusSelectedItem:B,selectedItemText:k,position:r,isPositioned:P,searchRef:H,children:c.jsx(eu,{as:C8,allowPinchZoom:!0,children:c.jsx(Yc,{asChild:!0,trapped:_.open,onMountAutoFocus:G=>{G.preventDefault()},onUnmountAutoFocus:ne(s,G=>{var Ee;(Ee=_.trigger)==null||Ee.focus({preventScroll:!0}),G.preventDefault()}),children:c.jsx(Qc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:G=>G.preventDefault(),onDismiss:()=>_.onOpenChange(!1),children:c.jsx(De,{role:"listbox",id:_.contentId,"data-state":_.open?"open":"closed",dir:_.dir,onContextMenu:G=>G.preventDefault(),...x,...Me,onPlaced:()=>W(!0),ref:b,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:ne(x.onKeyDown,G=>{const Ee=G.ctrlKey||G.altKey||G.metaKey;if(G.key==="Tab"&&G.preventDefault(),!Ee&&G.key.length===1&&te(G.key),["ArrowUp","ArrowDown","Home","End"].includes(G.key)){let Te=D().filter(be=>!be.disabled).map(be=>be.ref.current);if(["ArrowUp","End"].includes(G.key)&&(Te=Te.slice().reverse()),["ArrowUp","ArrowDown"].includes(G.key)){const be=G.target,ke=Te.indexOf(be);Te=Te.slice(ke+1)}setTimeout(()=>Q(Te)),G.preventDefault()}})})})})})})});Vk.displayName=S8;var I8="SelectItemAlignedPosition",Fk=v.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=Ii(go,n),o=Ni(go,n),[a,l]=v.useState(null),[d,h]=v.useState(null),f=Oe(e,b=>h(b)),m=$f(n),p=v.useRef(!1),S=v.useRef(!0),{viewport:y,selectedItem:E,selectedItemText:x,focusSelectedItem:_}=o,T=v.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&d&&y&&E&&x){const b=i.trigger.getBoundingClientRect(),C=d.getBoundingClientRect(),I=i.valueNode.getBoundingClientRect(),k=x.getBoundingClientRect();if(i.dir!=="rtl"){const be=k.left-C.left,ke=I.left-be,dt=b.left-ke,Yt=b.width+dt,Hr=Math.max(Yt,C.width),kn=window.innerWidth-Hn,Un=sE(ke,[Hn,Math.max(Hn,kn-Hr)]);a.style.minWidth=Yt+"px",a.style.left=Un+"px"}else{const be=C.right-k.right,ke=window.innerWidth-I.right-be,dt=window.innerWidth-b.right-ke,Yt=b.width+dt,Hr=Math.max(Yt,C.width),kn=window.innerWidth-Hn,Un=sE(ke,[Hn,Math.max(Hn,kn-Hr)]);a.style.minWidth=Yt+"px",a.style.right=Un+"px"}const A=m(),D=window.innerHeight-Hn*2,P=y.scrollHeight,W=window.getComputedStyle(d),Y=parseInt(W.borderTopWidth,10),Q=parseInt(W.paddingTop,10),B=parseInt(W.borderBottomWidth,10),j=parseInt(W.paddingBottom,10),L=Y+Q+P+j+B,H=Math.min(E.offsetHeight*5,L),te=window.getComputedStyle(y),ee=parseInt(te.paddingTop,10),pe=parseInt(te.paddingBottom,10),ae=b.top+b.height/2-Hn,De=D-ae,Me=E.offsetHeight/2,G=E.offsetTop+Me,Ee=Y+Q+G,Ne=L-Ee;if(Ee<=ae){const be=A.length>0&&E===A[A.length-1].ref.current;a.style.bottom="0px";const ke=d.clientHeight-y.offsetTop-y.offsetHeight,dt=Math.max(De,Me+(be?pe:0)+ke+B),Yt=Ee+dt;a.style.height=Yt+"px"}else{const be=A.length>0&&E===A[0].ref.current;a.style.top="0px";const dt=Math.max(ae,Y+y.offsetTop+(be?ee:0)+Me)+Ne;a.style.height=dt+"px",y.scrollTop=Ee-ae+y.offsetTop}a.style.margin=`${Hn}px 0`,a.style.minHeight=H+"px",a.style.maxHeight=D+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[m,i.trigger,i.valueNode,a,d,y,E,x,i.dir,r]);Qt(()=>T(),[T]);const[R,M]=v.useState();Qt(()=>{d&&M(window.getComputedStyle(d).zIndex)},[d]);const O=v.useCallback(b=>{b&&S.current===!0&&(T(),_==null||_(),S.current=!1)},[T,_]);return c.jsx(k8,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:p,onScrollButtonChange:O,children:c.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:R},children:c.jsx(ve.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});Fk.displayName=I8;var N8="SelectPopperPosition",qg=v.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Hn,...i}=t,o=Bf(n);return c.jsx(mw,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});qg.displayName=N8;var[k8,Cw]=Za(go,{}),Gg="SelectViewport",Uk=v.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=Ni(Gg,n),o=Cw(Gg,n),a=Oe(e,i.onViewportChange),l=v.useRef(0);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),c.jsx(Uf.Slot,{scope:n,children:c.jsx(ve.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ne(s.onScroll,d=>{const h=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&f){const p=Math.abs(l.current-h.scrollTop);if(p>0){const S=window.innerHeight-Hn*2,y=parseFloat(f.style.minHeight),E=parseFloat(f.style.height),x=Math.max(y,E);if(x<S){const _=x+p,T=Math.min(S,_),R=_-T;f.style.height=T+"px",f.style.bottom==="0px"&&(h.scrollTop=R>0?R:0,f.style.justifyContent="flex-end")}}}l.current=h.scrollTop})})})]})});Uk.displayName=Gg;var $k="SelectGroup",[P8,R8]=Za($k),A8=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Ar();return c.jsx(P8,{scope:n,id:s,children:c.jsx(ve.div,{role:"group","aria-labelledby":s,...r,ref:e})})});A8.displayName=$k;var Bk="SelectLabel",zk=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=R8(Bk,n);return c.jsx(ve.div,{id:s.id,...r,ref:e})});zk.displayName=Bk;var Ph="SelectItem",[D8,Wk]=Za(Ph),Hk=v.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=Ii(Ph,n),l=Ni(Ph,n),d=a.value===r,[h,f]=v.useState(i??""),[m,p]=v.useState(!1),S=Oe(e,_=>{var T;return(T=l.itemRefCallback)==null?void 0:T.call(l,_,r,s)}),y=Ar(),E=v.useRef("touch"),x=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return c.jsx(D8,{scope:n,value:r,disabled:s,textId:y,isSelected:d,onItemTextChange:v.useCallback(_=>{f(T=>T||((_==null?void 0:_.textContent)??"").trim())},[]),children:c.jsx(Uf.ItemSlot,{scope:n,value:r,disabled:s,textValue:h,children:c.jsx(ve.div,{role:"option","aria-labelledby":y,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:S,onFocus:ne(o.onFocus,()=>p(!0)),onBlur:ne(o.onBlur,()=>p(!1)),onClick:ne(o.onClick,()=>{E.current!=="mouse"&&x()}),onPointerUp:ne(o.onPointerUp,()=>{E.current==="mouse"&&x()}),onPointerDown:ne(o.onPointerDown,_=>{E.current=_.pointerType}),onPointerMove:ne(o.onPointerMove,_=>{var T;E.current=_.pointerType,s?(T=l.onItemLeave)==null||T.call(l):E.current==="mouse"&&_.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ne(o.onPointerLeave,_=>{var T;_.currentTarget===document.activeElement&&((T=l.onItemLeave)==null||T.call(l))}),onKeyDown:ne(o.onKeyDown,_=>{var R;((R=l.searchRef)==null?void 0:R.current)!==""&&_.key===" "||(y8.includes(_.key)&&x(),_.key===" "&&_.preventDefault())})})})})});Hk.displayName=Ph;var Dl="SelectItemText",qk=v.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=Ii(Dl,n),a=Ni(Dl,n),l=Wk(Dl,n),d=E8(Dl,n),[h,f]=v.useState(null),m=Oe(e,x=>f(x),l.onItemTextChange,x=>{var _;return(_=a.itemTextRefCallback)==null?void 0:_.call(a,x,l.value,l.disabled)}),p=h==null?void 0:h.textContent,S=v.useMemo(()=>c.jsx("option",{value:l.value,disabled:l.disabled,children:p},l.value),[l.disabled,l.value,p]),{onNativeOptionAdd:y,onNativeOptionRemove:E}=d;return Qt(()=>(y(S),()=>E(S)),[y,E,S]),c.jsxs(c.Fragment,{children:[c.jsx(ve.span,{id:l.textId,...i,ref:m}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?$a.createPortal(i.children,o.valueNode):null]})});qk.displayName=Dl;var Gk="SelectItemIndicator",Kk=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return Wk(Gk,n).isSelected?c.jsx(ve.span,{"aria-hidden":!0,...r,ref:e}):null});Kk.displayName=Gk;var Kg="SelectScrollUpButton",Qk=v.forwardRef((t,e)=>{const n=Ni(Kg,t.__scopeSelect),r=Cw(Kg,t.__scopeSelect),[s,i]=v.useState(!1),o=Oe(e,r.onScrollButtonChange);return Qt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const d=l.scrollTop>0;i(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?c.jsx(Xk,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});Qk.displayName=Kg;var Qg="SelectScrollDownButton",Yk=v.forwardRef((t,e)=>{const n=Ni(Qg,t.__scopeSelect),r=Cw(Qg,t.__scopeSelect),[s,i]=v.useState(!1),o=Oe(e,r.onScrollButtonChange);return Qt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const d=l.scrollHeight-l.clientHeight,h=Math.ceil(l.scrollTop)<d;i(h)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?c.jsx(Xk,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});Yk.displayName=Qg;var Xk=v.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=Ni("SelectScrollButton",n),o=v.useRef(null),a=$f(n),l=v.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return v.useEffect(()=>()=>l(),[l]),Qt(()=>{var h;const d=a().find(f=>f.ref.current===document.activeElement);(h=d==null?void 0:d.ref.current)==null||h.scrollIntoView({block:"nearest"})},[a]),c.jsx(ve.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:ne(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:ne(s.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:ne(s.onPointerLeave,()=>{l()})})}),M8="SelectSeparator",Jk=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return c.jsx(ve.div,{"aria-hidden":!0,...r,ref:e})});Jk.displayName=M8;var Yg="SelectArrow",O8=v.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Bf(n),i=Ii(Yg,n),o=Ni(Yg,n);return i.open&&o.position==="popper"?c.jsx(pw,{...s,...r,ref:e}):null});O8.displayName=Yg;var j8="SelectBubbleInput",Zk=v.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=v.useRef(null),i=Oe(r,s),o=dI(e);return v.useEffect(()=>{const a=s.current;if(!a)return;const l=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&h){const f=new Event("change",{bubbles:!0});h.call(a,e),a.dispatchEvent(f)}},[o,e]),c.jsx(ve.select,{...n,style:{...Nk,...n.style},ref:i,defaultValue:e})});Zk.displayName=j8;function eP(t){return t===""||t===void 0}function tP(t){const e=Or(t),n=v.useRef(""),r=v.useRef(0),s=v.useCallback(o=>{const a=n.current+o;e(a),function l(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=v.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function nP(t,e,n){const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=L8(t,Math.max(i,0));s.length===1&&(o=o.filter(d=>d!==n));const l=o.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function L8(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var V8=kk,rP=Rk,F8=Dk,U8=Mk,$8=Ok,sP=jk,B8=Uk,iP=zk,oP=Hk,z8=qk,W8=Kk,aP=Qk,lP=Yk,cP=Jk;const Da=V8,Ma=F8,vo=v.forwardRef(({className:t,children:e,...n},r)=>c.jsxs(rP,{ref:r,className:ue("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,c.jsx(U8,{asChild:!0,children:c.jsx(EI,{className:"h-4 w-4 opacity-50"})})]}));vo.displayName=rP.displayName;const uP=v.forwardRef(({className:t,...e},n)=>c.jsx(aP,{ref:n,className:ue("flex cursor-default items-center justify-center py-1",t),...e,children:c.jsx(H3,{className:"h-4 w-4"})}));uP.displayName=aP.displayName;const dP=v.forwardRef(({className:t,...e},n)=>c.jsx(lP,{ref:n,className:ue("flex cursor-default items-center justify-center py-1",t),...e,children:c.jsx(EI,{className:"h-4 w-4"})}));dP.displayName=lP.displayName;const yo=v.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>c.jsx($8,{children:c.jsxs(sP,{ref:s,className:ue("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[c.jsx(uP,{}),c.jsx(B8,{className:ue("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),c.jsx(dP,{})]})}));yo.displayName=sP.displayName;const H8=v.forwardRef(({className:t,...e},n)=>c.jsx(iP,{ref:n,className:ue("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));H8.displayName=iP.displayName;const Tr=v.forwardRef(({className:t,children:e,...n},r)=>c.jsxs(oP,{ref:r,className:ue("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(W8,{children:c.jsx(tw,{className:"h-4 w-4"})})}),c.jsx(z8,{children:e})]}));Tr.displayName=oP.displayName;const q8=v.forwardRef(({className:t,...e},n)=>c.jsx(cP,{ref:n,className:ue("-mx-1 my-1 h-px bg-muted",t),...e}));q8.displayName=cP.displayName;function Oa(t){"@babel/helpers - typeof";return Oa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oa(t)}function yt(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function oe(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function we(t){oe(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||Oa(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function zt(t,e){oe(2,arguments);var n=we(t),r=yt(e);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function sr(t,e){oe(2,arguments);var n=we(t),r=yt(e);if(isNaN(r))return new Date(NaN);if(!r)return n;var s=n.getDate(),i=new Date(n.getTime());i.setMonth(n.getMonth()+r+1,0);var o=i.getDate();return s>=o?i:(n.setFullYear(i.getFullYear(),i.getMonth(),s),n)}function G8(t,e){oe(2,arguments);var n=we(t).getTime(),r=yt(e);return new Date(n+r)}var K8={};function ki(){return K8}function Br(t,e){var n,r,s,i,o,a,l,d;oe(1,arguments);var h=ki(),f=yt((n=(r=(s=(i=e==null?void 0:e.weekStartsOn)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&s!==void 0?s:h.weekStartsOn)!==null&&r!==void 0?r:(l=h.locale)===null||l===void 0||(d=l.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=we(t),p=m.getDay(),S=(p<f?7:0)+p-f;return m.setDate(m.getDate()-S),m.setHours(0,0,0,0),m}function wo(t){return oe(1,arguments),Br(t,{weekStartsOn:1})}function Q8(t){oe(1,arguments);var e=we(t),n=e.getFullYear(),r=new Date(0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);var s=wo(r),i=new Date(0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);var o=wo(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function Y8(t){oe(1,arguments);var e=Q8(t),n=new Date(0);n.setFullYear(e,0,4),n.setHours(0,0,0,0);var r=wo(n);return r}function Pc(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}function ja(t){oe(1,arguments);var e=we(t);return e.setHours(0,0,0,0),e}var X8=864e5;function rs(t,e){oe(2,arguments);var n=ja(t),r=ja(e),s=n.getTime()-Pc(n),i=r.getTime()-Pc(r);return Math.round((s-i)/X8)}function Xg(t,e){oe(2,arguments);var n=yt(e),r=n*7;return zt(t,r)}function J8(t,e){oe(2,arguments);var n=yt(e);return sr(t,n*12)}function Z8(t){oe(1,arguments);var e;if(t&&typeof t.forEach=="function")e=t;else if(Oa(t)==="object"&&t!==null)e=Array.prototype.slice.call(t);else return new Date(NaN);var n;return e.forEach(function(r){var s=we(r);(n===void 0||n<s||isNaN(Number(s)))&&(n=s)}),n||new Date(NaN)}function e$(t){oe(1,arguments);var e;if(t&&typeof t.forEach=="function")e=t;else if(Oa(t)==="object"&&t!==null)e=Array.prototype.slice.call(t);else return new Date(NaN);var n;return e.forEach(function(r){var s=we(r);(n===void 0||n>s||isNaN(s.getDate()))&&(n=s)}),n||new Date(NaN)}function hn(t,e){oe(2,arguments);var n=ja(t),r=ja(e);return n.getTime()===r.getTime()}function Iw(t){return oe(1,arguments),t instanceof Date||Oa(t)==="object"&&Object.prototype.toString.call(t)==="[object Date]"}function t$(t){if(oe(1,arguments),!Iw(t)&&typeof t!="number")return!1;var e=we(t);return!isNaN(Number(e))}function Rc(t,e){oe(2,arguments);var n=we(t),r=we(e),s=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return s*12+i}var n$=6048e5;function r$(t,e,n){oe(2,arguments);var r=Br(t,n),s=Br(e,n),i=r.getTime()-Pc(r),o=s.getTime()-Pc(s);return Math.round((i-o)/n$)}function Nw(t){oe(1,arguments);var e=we(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function gn(t){oe(1,arguments);var e=we(t);return e.setDate(1),e.setHours(0,0,0,0),e}function s$(t){oe(1,arguments);var e=we(t),n=new Date(0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function kw(t,e){var n,r,s,i,o,a,l,d;oe(1,arguments);var h=ki(),f=yt((n=(r=(s=(i=e==null?void 0:e.weekStartsOn)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&s!==void 0?s:h.weekStartsOn)!==null&&r!==void 0?r:(l=h.locale)===null||l===void 0||(d=l.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=we(t),p=m.getDay(),S=(p<f?-7:0)+6-(p-f);return m.setDate(m.getDate()+S),m.setHours(23,59,59,999),m}function hP(t){return oe(1,arguments),kw(t,{weekStartsOn:1})}function i$(t,e){oe(2,arguments);var n=yt(e);return G8(t,-n)}var o$=864e5;function a$(t){oe(1,arguments);var e=we(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=e.getTime(),s=n-r;return Math.floor(s/o$)+1}function Rh(t){oe(1,arguments);var e=1,n=we(t),r=n.getUTCDay(),s=(r<e?7:0)+r-e;return n.setUTCDate(n.getUTCDate()-s),n.setUTCHours(0,0,0,0),n}function fP(t){oe(1,arguments);var e=we(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var s=Rh(r),i=new Date(0);i.setUTCFullYear(n,0,4),i.setUTCHours(0,0,0,0);var o=Rh(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function l$(t){oe(1,arguments);var e=fP(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var r=Rh(n);return r}var c$=6048e5;function u$(t){oe(1,arguments);var e=we(t),n=Rh(e).getTime()-l$(e).getTime();return Math.round(n/c$)+1}function Ah(t,e){var n,r,s,i,o,a,l,d;oe(1,arguments);var h=ki(),f=yt((n=(r=(s=(i=e==null?void 0:e.weekStartsOn)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.weekStartsOn)!==null&&s!==void 0?s:h.weekStartsOn)!==null&&r!==void 0?r:(l=h.locale)===null||l===void 0||(d=l.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&n!==void 0?n:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=we(t),p=m.getUTCDay(),S=(p<f?7:0)+p-f;return m.setUTCDate(m.getUTCDate()-S),m.setUTCHours(0,0,0,0),m}function mP(t,e){var n,r,s,i,o,a,l,d;oe(1,arguments);var h=we(t),f=h.getUTCFullYear(),m=ki(),p=yt((n=(r=(s=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&s!==void 0?s:m.firstWeekContainsDate)!==null&&r!==void 0?r:(l=m.locale)===null||l===void 0||(d=l.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var S=new Date(0);S.setUTCFullYear(f+1,0,p),S.setUTCHours(0,0,0,0);var y=Ah(S,e),E=new Date(0);E.setUTCFullYear(f,0,p),E.setUTCHours(0,0,0,0);var x=Ah(E,e);return h.getTime()>=y.getTime()?f+1:h.getTime()>=x.getTime()?f:f-1}function d$(t,e){var n,r,s,i,o,a,l,d;oe(1,arguments);var h=ki(),f=yt((n=(r=(s=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&s!==void 0?s:h.firstWeekContainsDate)!==null&&r!==void 0?r:(l=h.locale)===null||l===void 0||(d=l.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&n!==void 0?n:1),m=mP(t,e),p=new Date(0);p.setUTCFullYear(m,0,f),p.setUTCHours(0,0,0,0);var S=Ah(p,e);return S}var h$=6048e5;function f$(t,e){oe(1,arguments);var n=we(t),r=Ah(n,e).getTime()-d$(n,e).getTime();return Math.round(r/h$)+1}function Ve(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}var As={y:function(e,n){var r=e.getUTCFullYear(),s=r>0?r:1-r;return Ve(n==="yy"?s%100:s,n.length)},M:function(e,n){var r=e.getUTCMonth();return n==="M"?String(r+1):Ve(r+1,2)},d:function(e,n){return Ve(e.getUTCDate(),n.length)},a:function(e,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,n){return Ve(e.getUTCHours()%12||12,n.length)},H:function(e,n){return Ve(e.getUTCHours(),n.length)},m:function(e,n){return Ve(e.getUTCMinutes(),n.length)},s:function(e,n){return Ve(e.getUTCSeconds(),n.length)},S:function(e,n){var r=n.length,s=e.getUTCMilliseconds(),i=Math.floor(s*Math.pow(10,r-3));return Ve(i,n.length)}},Lo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},m$={G:function(e,n,r){var s=e.getUTCFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return r.era(s,{width:"abbreviated"});case"GGGGG":return r.era(s,{width:"narrow"});case"GGGG":default:return r.era(s,{width:"wide"})}},y:function(e,n,r){if(n==="yo"){var s=e.getUTCFullYear(),i=s>0?s:1-s;return r.ordinalNumber(i,{unit:"year"})}return As.y(e,n)},Y:function(e,n,r,s){var i=mP(e,s),o=i>0?i:1-i;if(n==="YY"){var a=o%100;return Ve(a,2)}return n==="Yo"?r.ordinalNumber(o,{unit:"year"}):Ve(o,n.length)},R:function(e,n){var r=fP(e);return Ve(r,n.length)},u:function(e,n){var r=e.getUTCFullYear();return Ve(r,n.length)},Q:function(e,n,r){var s=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"Q":return String(s);case"QQ":return Ve(s,2);case"Qo":return r.ordinalNumber(s,{unit:"quarter"});case"QQQ":return r.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,n,r){var s=Math.ceil((e.getUTCMonth()+1)/3);switch(n){case"q":return String(s);case"qq":return Ve(s,2);case"qo":return r.ordinalNumber(s,{unit:"quarter"});case"qqq":return r.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,n,r){var s=e.getUTCMonth();switch(n){case"M":case"MM":return As.M(e,n);case"Mo":return r.ordinalNumber(s+1,{unit:"month"});case"MMM":return r.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(s,{width:"wide",context:"formatting"})}},L:function(e,n,r){var s=e.getUTCMonth();switch(n){case"L":return String(s+1);case"LL":return Ve(s+1,2);case"Lo":return r.ordinalNumber(s+1,{unit:"month"});case"LLL":return r.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(s,{width:"wide",context:"standalone"})}},w:function(e,n,r,s){var i=f$(e,s);return n==="wo"?r.ordinalNumber(i,{unit:"week"}):Ve(i,n.length)},I:function(e,n,r){var s=u$(e);return n==="Io"?r.ordinalNumber(s,{unit:"week"}):Ve(s,n.length)},d:function(e,n,r){return n==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):As.d(e,n)},D:function(e,n,r){var s=a$(e);return n==="Do"?r.ordinalNumber(s,{unit:"dayOfYear"}):Ve(s,n.length)},E:function(e,n,r){var s=e.getUTCDay();switch(n){case"E":case"EE":case"EEE":return r.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(s,{width:"short",context:"formatting"});case"EEEE":default:return r.day(s,{width:"wide",context:"formatting"})}},e:function(e,n,r,s){var i=e.getUTCDay(),o=(i-s.weekStartsOn+8)%7||7;switch(n){case"e":return String(o);case"ee":return Ve(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,n,r,s){var i=e.getUTCDay(),o=(i-s.weekStartsOn+8)%7||7;switch(n){case"c":return String(o);case"cc":return Ve(o,n.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,n,r){var s=e.getUTCDay(),i=s===0?7:s;switch(n){case"i":return String(i);case"ii":return Ve(i,n.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(s,{width:"short",context:"formatting"});case"iiii":default:return r.day(s,{width:"wide",context:"formatting"})}},a:function(e,n,r){var s=e.getUTCHours(),i=s/12>=1?"pm":"am";switch(n){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,n,r){var s=e.getUTCHours(),i;switch(s===12?i=Lo.noon:s===0?i=Lo.midnight:i=s/12>=1?"pm":"am",n){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,n,r){var s=e.getUTCHours(),i;switch(s>=17?i=Lo.evening:s>=12?i=Lo.afternoon:s>=4?i=Lo.morning:i=Lo.night,n){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,n,r){if(n==="ho"){var s=e.getUTCHours()%12;return s===0&&(s=12),r.ordinalNumber(s,{unit:"hour"})}return As.h(e,n)},H:function(e,n,r){return n==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):As.H(e,n)},K:function(e,n,r){var s=e.getUTCHours()%12;return n==="Ko"?r.ordinalNumber(s,{unit:"hour"}):Ve(s,n.length)},k:function(e,n,r){var s=e.getUTCHours();return s===0&&(s=24),n==="ko"?r.ordinalNumber(s,{unit:"hour"}):Ve(s,n.length)},m:function(e,n,r){return n==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):As.m(e,n)},s:function(e,n,r){return n==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):As.s(e,n)},S:function(e,n){return As.S(e,n)},X:function(e,n,r,s){var i=s._originalDate||e,o=i.getTimezoneOffset();if(o===0)return"Z";switch(n){case"X":return oE(o);case"XXXX":case"XX":return Wi(o);case"XXXXX":case"XXX":default:return Wi(o,":")}},x:function(e,n,r,s){var i=s._originalDate||e,o=i.getTimezoneOffset();switch(n){case"x":return oE(o);case"xxxx":case"xx":return Wi(o);case"xxxxx":case"xxx":default:return Wi(o,":")}},O:function(e,n,r,s){var i=s._originalDate||e,o=i.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+iE(o,":");case"OOOO":default:return"GMT"+Wi(o,":")}},z:function(e,n,r,s){var i=s._originalDate||e,o=i.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+iE(o,":");case"zzzz":default:return"GMT"+Wi(o,":")}},t:function(e,n,r,s){var i=s._originalDate||e,o=Math.floor(i.getTime()/1e3);return Ve(o,n.length)},T:function(e,n,r,s){var i=s._originalDate||e,o=i.getTime();return Ve(o,n.length)}};function iE(t,e){var n=t>0?"-":"+",r=Math.abs(t),s=Math.floor(r/60),i=r%60;if(i===0)return n+String(s);var o=e;return n+String(s)+o+Ve(i,2)}function oE(t,e){if(t%60===0){var n=t>0?"-":"+";return n+Ve(Math.abs(t)/60,2)}return Wi(t,e)}function Wi(t,e){var n=e||"",r=t>0?"-":"+",s=Math.abs(t),i=Ve(Math.floor(s/60),2),o=Ve(s%60,2);return r+i+n+o}var aE=function(e,n){switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},pP=function(e,n){switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},p$=function(e,n){var r=e.match(/(P+)(p+)?/)||[],s=r[1],i=r[2];if(!i)return aE(e,n);var o;switch(s){case"P":o=n.dateTime({width:"short"});break;case"PP":o=n.dateTime({width:"medium"});break;case"PPP":o=n.dateTime({width:"long"});break;case"PPPP":default:o=n.dateTime({width:"full"});break}return o.replace("{{date}}",aE(s,n)).replace("{{time}}",pP(i,n))},g$={p:pP,P:p$},v$=["D","DD"],y$=["YY","YYYY"];function w$(t){return v$.indexOf(t)!==-1}function _$(t){return y$.indexOf(t)!==-1}function lE(t,e,n){if(t==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(t==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var x$={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},E$=function(e,n,r){var s,i=x$[e];return typeof i=="string"?s=i:n===1?s=i.one:s=i.other.replace("{{count}}",n.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};function ga(t){return function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth,r=t.formats[n]||t.formats[t.defaultWidth];return r}}var T$={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},b$={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},S$={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},C$={date:ga({formats:T$,defaultWidth:"full"}),time:ga({formats:b$,defaultWidth:"full"}),dateTime:ga({formats:S$,defaultWidth:"full"})},I$={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},N$=function(e,n,r,s){return I$[e]};function _r(t){return function(e,n){var r=n!=null&&n.context?String(n.context):"standalone",s;if(r==="formatting"&&t.formattingValues){var i=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):i;s=t.formattingValues[o]||t.formattingValues[i]}else{var a=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[l]||t.values[a]}var d=t.argumentCallback?t.argumentCallback(e):e;return s[d]}}var k$={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},P$={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},R$={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},A$={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},D$={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},M$={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},O$=function(e,n){var r=Number(e),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},j$={ordinalNumber:O$,era:_r({values:k$,defaultWidth:"wide"}),quarter:_r({values:P$,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:_r({values:R$,defaultWidth:"wide"}),day:_r({values:A$,defaultWidth:"wide"}),dayPeriod:_r({values:D$,defaultWidth:"wide",formattingValues:M$,defaultFormattingWidth:"wide"})};function xr(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;var o=i[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?V$(a,function(f){return f.test(o)}):L$(a,function(f){return f.test(o)}),d;d=t.valueCallback?t.valueCallback(l):l,d=n.valueCallback?n.valueCallback(d):d;var h=e.slice(o.length);return{value:d,rest:h}}}function L$(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}function V$(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}function gP(t){return function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=e.match(t.matchPattern);if(!r)return null;var s=r[0],i=e.match(t.parsePattern);if(!i)return null;var o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;var a=e.slice(s.length);return{value:o,rest:a}}}var F$=/^(\d+)(th|st|nd|rd)?/i,U$=/\d+/i,$$={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},B$={any:[/^b/i,/^(a|c)/i]},z$={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},W$={any:[/1/i,/2/i,/3/i,/4/i]},H$={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},q$={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},G$={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},K$={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Q$={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Y$={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},X$={ordinalNumber:gP({matchPattern:F$,parsePattern:U$,valueCallback:function(e){return parseInt(e,10)}}),era:xr({matchPatterns:$$,defaultMatchWidth:"wide",parsePatterns:B$,defaultParseWidth:"any"}),quarter:xr({matchPatterns:z$,defaultMatchWidth:"wide",parsePatterns:W$,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:xr({matchPatterns:H$,defaultMatchWidth:"wide",parsePatterns:q$,defaultParseWidth:"any"}),day:xr({matchPatterns:G$,defaultMatchWidth:"wide",parsePatterns:K$,defaultParseWidth:"any"}),dayPeriod:xr({matchPatterns:Q$,defaultMatchWidth:"any",parsePatterns:Y$,defaultParseWidth:"any"})},vP={code:"en-US",formatDistance:E$,formatLong:C$,formatRelative:N$,localize:j$,match:X$,options:{weekStartsOn:0,firstWeekContainsDate:1}},J$=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Z$=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,e7=/^'([^]*?)'?$/,t7=/''/g,n7=/[a-zA-Z]/;function Pi(t,e,n){var r,s,i,o,a,l,d,h,f,m,p,S,y,E,x,_,T,R;oe(2,arguments);var M=String(e),O=ki(),b=(r=(s=n==null?void 0:n.locale)!==null&&s!==void 0?s:O.locale)!==null&&r!==void 0?r:vP,C=yt((i=(o=(a=(l=n==null?void 0:n.firstWeekContainsDate)!==null&&l!==void 0?l:n==null||(d=n.locale)===null||d===void 0||(h=d.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&a!==void 0?a:O.firstWeekContainsDate)!==null&&o!==void 0?o:(f=O.locale)===null||f===void 0||(m=f.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(C>=1&&C<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var I=yt((p=(S=(y=(E=n==null?void 0:n.weekStartsOn)!==null&&E!==void 0?E:n==null||(x=n.locale)===null||x===void 0||(_=x.options)===null||_===void 0?void 0:_.weekStartsOn)!==null&&y!==void 0?y:O.weekStartsOn)!==null&&S!==void 0?S:(T=O.locale)===null||T===void 0||(R=T.options)===null||R===void 0?void 0:R.weekStartsOn)!==null&&p!==void 0?p:0);if(!(I>=0&&I<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!b.localize)throw new RangeError("locale must contain localize property");if(!b.formatLong)throw new RangeError("locale must contain formatLong property");var k=we(t);if(!t$(k))throw new RangeError("Invalid time value");var A=Pc(k),D=i$(k,A),P={firstWeekContainsDate:C,weekStartsOn:I,locale:b,_originalDate:k},W=M.match(Z$).map(function(Y){var Q=Y[0];if(Q==="p"||Q==="P"){var B=g$[Q];return B(Y,b.formatLong)}return Y}).join("").match(J$).map(function(Y){if(Y==="''")return"'";var Q=Y[0];if(Q==="'")return r7(Y);var B=m$[Q];if(B)return!(n!=null&&n.useAdditionalWeekYearTokens)&&_$(Y)&&lE(Y,e,String(t)),!(n!=null&&n.useAdditionalDayOfYearTokens)&&w$(Y)&&lE(Y,e,String(t)),B(D,Y,b.localize,P);if(Q.match(n7))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Q+"`");return Y}).join("");return W}function r7(t){var e=t.match(e7);return e?e[1].replace(t7,"'"):t}function s7(t){oe(1,arguments);var e=we(t),n=e.getFullYear(),r=e.getMonth(),s=new Date(0);return s.setFullYear(n,r+1,0),s.setHours(0,0,0,0),s.getDate()}var i7=6048e5;function o7(t){oe(1,arguments);var e=we(t),n=wo(e).getTime()-Y8(e).getTime();return Math.round(n/i7)+1}function a7(t){oe(1,arguments);var e=we(t),n=e.getTime();return n}function l7(t){return oe(1,arguments),Math.floor(a7(t)/1e3)}function c7(t,e){var n,r,s,i,o,a,l,d;oe(1,arguments);var h=we(t),f=h.getFullYear(),m=ki(),p=yt((n=(r=(s=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&s!==void 0?s:m.firstWeekContainsDate)!==null&&r!==void 0?r:(l=m.locale)===null||l===void 0||(d=l.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(p>=1&&p<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var S=new Date(0);S.setFullYear(f+1,0,p),S.setHours(0,0,0,0);var y=Br(S,e),E=new Date(0);E.setFullYear(f,0,p),E.setHours(0,0,0,0);var x=Br(E,e);return h.getTime()>=y.getTime()?f+1:h.getTime()>=x.getTime()?f:f-1}function u7(t,e){var n,r,s,i,o,a,l,d;oe(1,arguments);var h=ki(),f=yt((n=(r=(s=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(a=o.options)===null||a===void 0?void 0:a.firstWeekContainsDate)!==null&&s!==void 0?s:h.firstWeekContainsDate)!==null&&r!==void 0?r:(l=h.locale)===null||l===void 0||(d=l.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&n!==void 0?n:1),m=c7(t,e),p=new Date(0);p.setFullYear(m,0,f),p.setHours(0,0,0,0);var S=Br(p,e);return S}var d7=6048e5;function h7(t,e){oe(1,arguments);var n=we(t),r=Br(n,e).getTime()-u7(n,e).getTime();return Math.round(r/d7)+1}function f7(t){oe(1,arguments);var e=we(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(0,0,0,0),e}function m7(t,e){return oe(1,arguments),r$(f7(t),gn(t),e)+1}function Jg(t,e){oe(2,arguments);var n=we(t),r=we(e);return n.getTime()>r.getTime()}function yP(t,e){oe(2,arguments);var n=we(t),r=we(e);return n.getTime()<r.getTime()}function Pw(t,e){oe(2,arguments);var n=we(t),r=we(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function p7(t,e){oe(2,arguments);var n=we(t),r=we(e);return n.getFullYear()===r.getFullYear()}function ap(t,e){oe(2,arguments);var n=yt(e);return zt(t,-n)}function lp(t,e){oe(2,arguments);var n=we(t),r=yt(e),s=n.getFullYear(),i=n.getDate(),o=new Date(0);o.setFullYear(s,r,15),o.setHours(0,0,0,0);var a=s7(o);return n.setMonth(r,Math.min(i,a)),n}function Ju(t,e){oe(2,arguments);var n=we(t),r=yt(e);return n.setHours(r),n}function Zu(t,e){oe(2,arguments);var n=we(t),r=yt(e);return n.setMinutes(r),n}function cE(t,e){oe(2,arguments);var n=we(t),r=yt(e);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}var g7={lessThanXSeconds:{one:"dưới 1 giây",other:"dưới {{count}} giây"},xSeconds:{one:"1 giây",other:"{{count}} giây"},halfAMinute:"nửa phút",lessThanXMinutes:{one:"dưới 1 phút",other:"dưới {{count}} phút"},xMinutes:{one:"1 phút",other:"{{count}} phút"},aboutXHours:{one:"khoảng 1 giờ",other:"khoảng {{count}} giờ"},xHours:{one:"1 giờ",other:"{{count}} giờ"},xDays:{one:"1 ngày",other:"{{count}} ngày"},aboutXWeeks:{one:"khoảng 1 tuần",other:"khoảng {{count}} tuần"},xWeeks:{one:"1 tuần",other:"{{count}} tuần"},aboutXMonths:{one:"khoảng 1 tháng",other:"khoảng {{count}} tháng"},xMonths:{one:"1 tháng",other:"{{count}} tháng"},aboutXYears:{one:"khoảng 1 năm",other:"khoảng {{count}} năm"},xYears:{one:"1 năm",other:"{{count}} năm"},overXYears:{one:"hơn 1 năm",other:"hơn {{count}} năm"},almostXYears:{one:"gần 1 năm",other:"gần {{count}} năm"}},v7=function(e,n,r){var s,i=g7[e];return typeof i=="string"?s=i:n===1?s=i.one:s=i.other.replace("{{count}}",String(n)),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?s+" nữa":s+" trước":s},y7={full:"EEEE, 'ngày' d MMMM 'năm' y",long:"'ngày' d MMMM 'năm' y",medium:"d MMM 'năm' y",short:"dd/MM/y"},w7={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},_7={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},x7={date:ga({formats:y7,defaultWidth:"full"}),time:ga({formats:w7,defaultWidth:"full"}),dateTime:ga({formats:_7,defaultWidth:"full"})},E7={lastWeek:"eeee 'tuần trước vào lúc' p",yesterday:"'hôm qua vào lúc' p",today:"'hôm nay vào lúc' p",tomorrow:"'ngày mai vào lúc' p",nextWeek:"eeee 'tới vào lúc' p",other:"P"},T7=function(e,n,r,s){return E7[e]},b7={narrow:["TCN","SCN"],abbreviated:["trước CN","sau CN"],wide:["trước Công Nguyên","sau Công Nguyên"]},S7={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["Quý 1","Quý 2","Quý 3","Quý 4"]},C7={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["quý I","quý II","quý III","quý IV"]},I7={narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["Thg 1","Thg 2","Thg 3","Thg 4","Thg 5","Thg 6","Thg 7","Thg 8","Thg 9","Thg 10","Thg 11","Thg 12"],wide:["Tháng Một","Tháng Hai","Tháng Ba","Tháng Tư","Tháng Năm","Tháng Sáu","Tháng Bảy","Tháng Tám","Tháng Chín","Tháng Mười","Tháng Mười Một","Tháng Mười Hai"]},N7={narrow:["01","02","03","04","05","06","07","08","09","10","11","12"],abbreviated:["thg 1","thg 2","thg 3","thg 4","thg 5","thg 6","thg 7","thg 8","thg 9","thg 10","thg 11","thg 12"],wide:["tháng 01","tháng 02","tháng 03","tháng 04","tháng 05","tháng 06","tháng 07","tháng 08","tháng 09","tháng 10","tháng 11","tháng 12"]},k7={narrow:["CN","T2","T3","T4","T5","T6","T7"],short:["CN","Th 2","Th 3","Th 4","Th 5","Th 6","Th 7"],abbreviated:["CN","Thứ 2","Thứ 3","Thứ 4","Thứ 5","Thứ 6","Thứ 7"],wide:["Chủ Nhật","Thứ Hai","Thứ Ba","Thứ Tư","Thứ Năm","Thứ Sáu","Thứ Bảy"]},P7={narrow:{am:"am",pm:"pm",midnight:"nửa đêm",noon:"tr",morning:"sg",afternoon:"ch",evening:"tối",night:"đêm"},abbreviated:{am:"AM",pm:"PM",midnight:"nửa đêm",noon:"trưa",morning:"sáng",afternoon:"chiều",evening:"tối",night:"đêm"},wide:{am:"SA",pm:"CH",midnight:"nửa đêm",noon:"trưa",morning:"sáng",afternoon:"chiều",evening:"tối",night:"đêm"}},R7={narrow:{am:"am",pm:"pm",midnight:"nửa đêm",noon:"tr",morning:"sg",afternoon:"ch",evening:"tối",night:"đêm"},abbreviated:{am:"AM",pm:"PM",midnight:"nửa đêm",noon:"trưa",morning:"sáng",afternoon:"chiều",evening:"tối",night:"đêm"},wide:{am:"SA",pm:"CH",midnight:"nửa đêm",noon:"giữa trưa",morning:"vào buổi sáng",afternoon:"vào buổi chiều",evening:"vào buổi tối",night:"vào ban đêm"}},A7=function(e,n){var r=Number(e),s=n==null?void 0:n.unit;if(s==="quarter")switch(r){case 1:return"I";case 2:return"II";case 3:return"III";case 4:return"IV"}else if(s==="day")switch(r){case 1:return"thứ 2";case 2:return"thứ 3";case 3:return"thứ 4";case 4:return"thứ 5";case 5:return"thứ 6";case 6:return"thứ 7";case 7:return"chủ nhật"}else{if(s==="week")return r===1?"thứ nhất":"thứ "+r;if(s==="dayOfYear")return r===1?"đầu tiên":"thứ "+r}return String(r)},D7={ordinalNumber:A7,era:_r({values:b7,defaultWidth:"wide"}),quarter:_r({values:S7,defaultWidth:"wide",formattingValues:C7,defaultFormattingWidth:"wide",argumentCallback:function(e){return e-1}}),month:_r({values:I7,defaultWidth:"wide",formattingValues:N7,defaultFormattingWidth:"wide"}),day:_r({values:k7,defaultWidth:"wide"}),dayPeriod:_r({values:P7,defaultWidth:"wide",formattingValues:R7,defaultFormattingWidth:"wide"})},M7=/^(\d+)/i,O7=/\d+/i,j7={narrow:/^(tcn|scn)/i,abbreviated:/^(trước CN|sau CN)/i,wide:/^(trước Công Nguyên|sau Công Nguyên)/i},L7={any:[/^t/i,/^s/i]},V7={narrow:/^([1234]|i{1,3}v?)/i,abbreviated:/^q([1234]|i{1,3}v?)/i,wide:/^quý ([1234]|i{1,3}v?)/i},F7={any:[/(1|i)$/i,/(2|ii)$/i,/(3|iii)$/i,/(4|iv)$/i]},U7={narrow:/^(0?[2-9]|10|11|12|0?1)/i,abbreviated:/^thg[ _]?(0?[1-9](?!\d)|10|11|12)/i,wide:/^tháng ?(Một|Hai|Ba|Tư|Năm|Sáu|Bảy|Tám|Chín|Mười|Mười ?Một|Mười ?Hai|0?[1-9](?!\d)|10|11|12)/i},$7={narrow:[/0?1$/i,/0?2/i,/3/,/4/,/5/,/6/,/7/,/8/,/9/,/10/,/11/,/12/],abbreviated:[/^thg[ _]?0?1(?!\d)/i,/^thg[ _]?0?2/i,/^thg[ _]?0?3/i,/^thg[ _]?0?4/i,/^thg[ _]?0?5/i,/^thg[ _]?0?6/i,/^thg[ _]?0?7/i,/^thg[ _]?0?8/i,/^thg[ _]?0?9/i,/^thg[ _]?10/i,/^thg[ _]?11/i,/^thg[ _]?12/i],wide:[/^tháng ?(Một|0?1(?!\d))/i,/^tháng ?(Hai|0?2)/i,/^tháng ?(Ba|0?3)/i,/^tháng ?(Tư|0?4)/i,/^tháng ?(Năm|0?5)/i,/^tháng ?(Sáu|0?6)/i,/^tháng ?(Bảy|0?7)/i,/^tháng ?(Tám|0?8)/i,/^tháng ?(Chín|0?9)/i,/^tháng ?(Mười|10)/i,/^tháng ?(Mười ?Một|11)/i,/^tháng ?(Mười ?Hai|12)/i]},B7={narrow:/^(CN|T2|T3|T4|T5|T6|T7)/i,short:/^(CN|Th ?2|Th ?3|Th ?4|Th ?5|Th ?6|Th ?7)/i,abbreviated:/^(CN|Th ?2|Th ?3|Th ?4|Th ?5|Th ?6|Th ?7)/i,wide:/^(Chủ ?Nhật|Chúa ?Nhật|thứ ?Hai|thứ ?Ba|thứ ?Tư|thứ ?Năm|thứ ?Sáu|thứ ?Bảy)/i},z7={narrow:[/CN/i,/2/i,/3/i,/4/i,/5/i,/6/i,/7/i],short:[/CN/i,/2/i,/3/i,/4/i,/5/i,/6/i,/7/i],abbreviated:[/CN/i,/2/i,/3/i,/4/i,/5/i,/6/i,/7/i],wide:[/(Chủ|Chúa) ?Nhật/i,/Hai/i,/Ba/i,/Tư/i,/Năm/i,/Sáu/i,/Bảy/i]},W7={narrow:/^(a|p|nửa đêm|trưa|(giờ) (sáng|chiều|tối|đêm))/i,abbreviated:/^(am|pm|nửa đêm|trưa|(giờ) (sáng|chiều|tối|đêm))/i,wide:/^(ch[^i]*|sa|nửa đêm|trưa|(giờ) (sáng|chiều|tối|đêm))/i},H7={any:{am:/^(a|sa)/i,pm:/^(p|ch[^i]*)/i,midnight:/nửa đêm/i,noon:/trưa/i,morning:/sáng/i,afternoon:/chiều/i,evening:/tối/i,night:/^đêm/i}},q7={ordinalNumber:gP({matchPattern:M7,parsePattern:O7,valueCallback:function(e){return parseInt(e,10)}}),era:xr({matchPatterns:j7,defaultMatchWidth:"wide",parsePatterns:L7,defaultParseWidth:"any"}),quarter:xr({matchPatterns:V7,defaultMatchWidth:"wide",parsePatterns:F7,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:xr({matchPatterns:U7,defaultMatchWidth:"wide",parsePatterns:$7,defaultParseWidth:"wide"}),day:xr({matchPatterns:B7,defaultMatchWidth:"wide",parsePatterns:z7,defaultParseWidth:"wide"}),dayPeriod:xr({matchPatterns:W7,defaultMatchWidth:"wide",parsePatterns:H7,defaultParseWidth:"any"})},uE={code:"vi",formatDistance:v7,formatLong:x7,formatRelative:T7,localize:D7,match:q7,options:{weekStartsOn:1,firstWeekContainsDate:1}},de=function(){return de=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},de.apply(this,arguments)};function G7(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function wP(t,e,n){for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function su(t){return t.mode==="multiple"}function iu(t){return t.mode==="range"}function zf(t){return t.mode==="single"}var K7={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function Q7(t,e){return Pi(t,"LLLL y",e)}function Y7(t,e){return Pi(t,"d",e)}function X7(t,e){return Pi(t,"LLLL",e)}function J7(t){return"".concat(t)}function Z7(t,e){return Pi(t,"cccccc",e)}function eB(t,e){return Pi(t,"yyyy",e)}var tB=Object.freeze({__proto__:null,formatCaption:Q7,formatDay:Y7,formatMonthCaption:X7,formatWeekNumber:J7,formatWeekdayName:Z7,formatYearCaption:eB}),nB=function(t,e,n){return Pi(t,"do MMMM (EEEE)",n)},rB=function(){return"Month: "},sB=function(){return"Go to next month"},iB=function(){return"Go to previous month"},oB=function(t,e){return Pi(t,"cccc",e)},aB=function(t){return"Week n. ".concat(t)},lB=function(){return"Year: "},cB=Object.freeze({__proto__:null,labelDay:nB,labelMonthDropdown:rB,labelNext:sB,labelPrevious:iB,labelWeekNumber:aB,labelWeekday:oB,labelYearDropdown:lB});function uB(){var t="buttons",e=K7,n=vP,r={},s={},i=1,o={},a=new Date;return{captionLayout:t,classNames:e,formatters:tB,labels:cB,locale:n,modifiersClassNames:r,modifiers:s,numberOfMonths:i,styles:o,today:a,mode:"default"}}function dB(t){var e=t.fromYear,n=t.toYear,r=t.fromMonth,s=t.toMonth,i=t.fromDate,o=t.toDate;return r?i=gn(r):e&&(i=new Date(e,0,1)),s?o=Nw(s):n&&(o=new Date(n,11,31)),{fromDate:i?ja(i):void 0,toDate:o?ja(o):void 0}}var _P=v.createContext(void 0);function hB(t){var e,n=t.initialProps,r=uB(),s=dB(n),i=s.fromDate,o=s.toDate,a=(e=n.captionLayout)!==null&&e!==void 0?e:r.captionLayout;a!=="buttons"&&(!i||!o)&&(a="buttons");var l;(zf(n)||su(n)||iu(n))&&(l=n.onSelect);var d=de(de(de({},r),n),{captionLayout:a,classNames:de(de({},r.classNames),n.classNames),components:de({},n.components),formatters:de(de({},r.formatters),n.formatters),fromDate:i,labels:de(de({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:de(de({},r.modifiers),n.modifiers),modifiersClassNames:de(de({},r.modifiersClassNames),n.modifiersClassNames),onSelect:l,styles:de(de({},r.styles),n.styles),toDate:o});return c.jsx(_P.Provider,{value:d,children:t.children})}function Ge(){var t=v.useContext(_P);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function xP(t){var e=Ge(),n=e.locale,r=e.classNames,s=e.styles,i=e.formatters.formatCaption;return c.jsx("div",{className:r.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:i(t.displayMonth,{locale:n})})}function fB(t){return c.jsx("svg",de({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:c.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function EP(t){var e,n,r=t.onChange,s=t.value,i=t.children,o=t.caption,a=t.className,l=t.style,d=Ge(),h=(n=(e=d.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&n!==void 0?n:fB;return c.jsxs("div",{className:a,style:l,children:[c.jsx("span",{className:d.classNames.vhidden,children:t["aria-label"]}),c.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:d.classNames.dropdown,style:d.styles.dropdown,value:s,onChange:r,children:i}),c.jsxs("div",{className:d.classNames.caption_label,style:d.styles.caption_label,"aria-hidden":"true",children:[o,c.jsx(h,{className:d.classNames.dropdown_icon,style:d.styles.dropdown_icon})]})]})}function mB(t){var e,n=Ge(),r=n.fromDate,s=n.toDate,i=n.styles,o=n.locale,a=n.formatters.formatMonthCaption,l=n.classNames,d=n.components,h=n.labels.labelMonthDropdown;if(!r)return c.jsx(c.Fragment,{});if(!s)return c.jsx(c.Fragment,{});var f=[];if(p7(r,s))for(var m=gn(r),p=r.getMonth();p<=s.getMonth();p++)f.push(lp(m,p));else for(var m=gn(new Date),p=0;p<=11;p++)f.push(lp(m,p));var S=function(E){var x=Number(E.target.value),_=lp(gn(t.displayMonth),x);t.onChange(_)},y=(e=d==null?void 0:d.Dropdown)!==null&&e!==void 0?e:EP;return c.jsx(y,{name:"months","aria-label":h(),className:l.dropdown_month,style:i.dropdown_month,onChange:S,value:t.displayMonth.getMonth(),caption:a(t.displayMonth,{locale:o}),children:f.map(function(E){return c.jsx("option",{value:E.getMonth(),children:a(E,{locale:o})},E.getMonth())})})}function pB(t){var e,n=t.displayMonth,r=Ge(),s=r.fromDate,i=r.toDate,o=r.locale,a=r.styles,l=r.classNames,d=r.components,h=r.formatters.formatYearCaption,f=r.labels.labelYearDropdown,m=[];if(!s)return c.jsx(c.Fragment,{});if(!i)return c.jsx(c.Fragment,{});for(var p=s.getFullYear(),S=i.getFullYear(),y=p;y<=S;y++)m.push(cE(s$(new Date),y));var E=function(_){var T=cE(gn(n),Number(_.target.value));t.onChange(T)},x=(e=d==null?void 0:d.Dropdown)!==null&&e!==void 0?e:EP;return c.jsx(x,{name:"years","aria-label":f(),className:l.dropdown_year,style:a.dropdown_year,onChange:E,value:n.getFullYear(),caption:h(n,{locale:o}),children:m.map(function(_){return c.jsx("option",{value:_.getFullYear(),children:h(_,{locale:o})},_.getFullYear())})})}function gB(t,e){var n=v.useState(t),r=n[0],s=n[1],i=e===void 0?r:e;return[i,s]}function vB(t){var e=t.month,n=t.defaultMonth,r=t.today,s=e||n||r||new Date,i=t.toDate,o=t.fromDate,a=t.numberOfMonths,l=a===void 0?1:a;if(i&&Rc(i,s)<0){var d=-1*(l-1);s=sr(i,d)}return o&&Rc(s,o)<0&&(s=o),gn(s)}function yB(){var t=Ge(),e=vB(t),n=gB(e,t.month),r=n[0],s=n[1],i=function(o){var a;if(!t.disableNavigation){var l=gn(o);s(l),(a=t.onMonthChange)===null||a===void 0||a.call(t,l)}};return[r,i]}function wB(t,e){for(var n=e.reverseMonths,r=e.numberOfMonths,s=gn(t),i=gn(sr(s,r)),o=Rc(i,s),a=[],l=0;l<o;l++){var d=sr(s,l);a.push(d)}return n&&(a=a.reverse()),a}function _B(t,e){if(!e.disableNavigation){var n=e.toDate,r=e.pagedNavigation,s=e.numberOfMonths,i=s===void 0?1:s,o=r?i:1,a=gn(t);if(!n)return sr(a,o);var l=Rc(n,t);if(!(l<i))return sr(a,o)}}function xB(t,e){if(!e.disableNavigation){var n=e.fromDate,r=e.pagedNavigation,s=e.numberOfMonths,i=s===void 0?1:s,o=r?i:1,a=gn(t);if(!n)return sr(a,-o);var l=Rc(a,n);if(!(l<=0))return sr(a,-o)}}var TP=v.createContext(void 0);function EB(t){var e=Ge(),n=yB(),r=n[0],s=n[1],i=wB(r,e),o=_B(r,e),a=xB(r,e),l=function(f){return i.some(function(m){return Pw(f,m)})},d=function(f,m){l(f)||(m&&yP(f,m)?s(sr(f,1+e.numberOfMonths*-1)):s(f))},h={currentMonth:r,displayMonths:i,goToMonth:s,goToDate:d,previousMonth:a,nextMonth:o,isDateDisplayed:l};return c.jsx(TP.Provider,{value:h,children:t.children})}function ou(){var t=v.useContext(TP);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function dE(t){var e,n=Ge(),r=n.classNames,s=n.styles,i=n.components,o=ou().goToMonth,a=function(h){o(sr(h,t.displayIndex?-t.displayIndex:0))},l=(e=i==null?void 0:i.CaptionLabel)!==null&&e!==void 0?e:xP,d=c.jsx(l,{id:t.id,displayMonth:t.displayMonth});return c.jsxs("div",{className:r.caption_dropdowns,style:s.caption_dropdowns,children:[c.jsx("div",{className:r.vhidden,children:d}),c.jsx(mB,{onChange:a,displayMonth:t.displayMonth}),c.jsx(pB,{onChange:a,displayMonth:t.displayMonth})]})}function TB(t){return c.jsx("svg",de({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:c.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function bB(t){return c.jsx("svg",de({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:c.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Dh=v.forwardRef(function(t,e){var n=Ge(),r=n.classNames,s=n.styles,i=[r.button_reset,r.button];t.className&&i.push(t.className);var o=i.join(" "),a=de(de({},s.button_reset),s.button);return t.style&&Object.assign(a,t.style),c.jsx("button",de({},t,{ref:e,type:"button",className:o,style:a}))});function SB(t){var e,n,r=Ge(),s=r.dir,i=r.locale,o=r.classNames,a=r.styles,l=r.labels,d=l.labelPrevious,h=l.labelNext,f=r.components;if(!t.nextMonth&&!t.previousMonth)return c.jsx(c.Fragment,{});var m=d(t.previousMonth,{locale:i}),p=[o.nav_button,o.nav_button_previous].join(" "),S=h(t.nextMonth,{locale:i}),y=[o.nav_button,o.nav_button_next].join(" "),E=(e=f==null?void 0:f.IconRight)!==null&&e!==void 0?e:bB,x=(n=f==null?void 0:f.IconLeft)!==null&&n!==void 0?n:TB;return c.jsxs("div",{className:o.nav,style:a.nav,children:[!t.hidePrevious&&c.jsx(Dh,{name:"previous-month","aria-label":m,className:p,style:a.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:s==="rtl"?c.jsx(E,{className:o.nav_icon,style:a.nav_icon}):c.jsx(x,{className:o.nav_icon,style:a.nav_icon})}),!t.hideNext&&c.jsx(Dh,{name:"next-month","aria-label":S,className:y,style:a.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:s==="rtl"?c.jsx(x,{className:o.nav_icon,style:a.nav_icon}):c.jsx(E,{className:o.nav_icon,style:a.nav_icon})})]})}function hE(t){var e=Ge().numberOfMonths,n=ou(),r=n.previousMonth,s=n.nextMonth,i=n.goToMonth,o=n.displayMonths,a=o.findIndex(function(S){return Pw(t.displayMonth,S)}),l=a===0,d=a===o.length-1,h=e>1&&(l||!d),f=e>1&&(d||!l),m=function(){r&&i(r)},p=function(){s&&i(s)};return c.jsx(SB,{displayMonth:t.displayMonth,hideNext:h,hidePrevious:f,nextMonth:s,previousMonth:r,onPreviousClick:m,onNextClick:p})}function CB(t){var e,n=Ge(),r=n.classNames,s=n.disableNavigation,i=n.styles,o=n.captionLayout,a=n.components,l=(e=a==null?void 0:a.CaptionLabel)!==null&&e!==void 0?e:xP,d;return s?d=c.jsx(l,{id:t.id,displayMonth:t.displayMonth}):o==="dropdown"?d=c.jsx(dE,{displayMonth:t.displayMonth,id:t.id}):o==="dropdown-buttons"?d=c.jsxs(c.Fragment,{children:[c.jsx(dE,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),c.jsx(hE,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):d=c.jsxs(c.Fragment,{children:[c.jsx(l,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),c.jsx(hE,{displayMonth:t.displayMonth,id:t.id})]}),c.jsx("div",{className:r.caption,style:i.caption,children:d})}function IB(t){var e=Ge(),n=e.footer,r=e.styles,s=e.classNames.tfoot;return n?c.jsx("tfoot",{className:s,style:r.tfoot,children:c.jsx("tr",{children:c.jsx("td",{colSpan:8,children:n})})}):c.jsx(c.Fragment,{})}function NB(t,e,n){for(var r=n?wo(new Date):Br(new Date,{locale:t,weekStartsOn:e}),s=[],i=0;i<7;i++){var o=zt(r,i);s.push(o)}return s}function kB(){var t=Ge(),e=t.classNames,n=t.styles,r=t.showWeekNumber,s=t.locale,i=t.weekStartsOn,o=t.ISOWeek,a=t.formatters.formatWeekdayName,l=t.labels.labelWeekday,d=NB(s,i,o);return c.jsxs("tr",{style:n.head_row,className:e.head_row,children:[r&&c.jsx("td",{style:n.head_cell,className:e.head_cell}),d.map(function(h,f){return c.jsx("th",{scope:"col",className:e.head_cell,style:n.head_cell,"aria-label":l(h,{locale:s}),children:a(h,{locale:s})},f)})]})}function PB(){var t,e=Ge(),n=e.classNames,r=e.styles,s=e.components,i=(t=s==null?void 0:s.HeadRow)!==null&&t!==void 0?t:kB;return c.jsx("thead",{style:r.head,className:n.head,children:c.jsx(i,{})})}function RB(t){var e=Ge(),n=e.locale,r=e.formatters.formatDay;return c.jsx(c.Fragment,{children:r(t.date,{locale:n})})}var Rw=v.createContext(void 0);function AB(t){if(!su(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return c.jsx(Rw.Provider,{value:e,children:t.children})}return c.jsx(DB,{initialProps:t.initialProps,children:t.children})}function DB(t){var e=t.initialProps,n=t.children,r=e.selected,s=e.min,i=e.max,o=function(d,h,f){var m,p;(m=e.onDayClick)===null||m===void 0||m.call(e,d,h,f);var S=!!(h.selected&&s&&(r==null?void 0:r.length)===s);if(!S){var y=!!(!h.selected&&i&&(r==null?void 0:r.length)===i);if(!y){var E=r?wP([],r):[];if(h.selected){var x=E.findIndex(function(_){return hn(d,_)});E.splice(x,1)}else E.push(d);(p=e.onSelect)===null||p===void 0||p.call(e,E,d,h,f)}}},a={disabled:[]};r&&a.disabled.push(function(d){var h=i&&r.length>i-1,f=r.some(function(m){return hn(m,d)});return!!(h&&!f)});var l={selected:r,onDayClick:o,modifiers:a};return c.jsx(Rw.Provider,{value:l,children:n})}function Aw(){var t=v.useContext(Rw);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function MB(t,e){var n=e||{},r=n.from,s=n.to;return r&&s?hn(s,t)&&hn(r,t)?void 0:hn(s,t)?{from:s,to:void 0}:hn(r,t)?void 0:Jg(r,t)?{from:t,to:s}:{from:r,to:t}:s?Jg(t,s)?{from:s,to:t}:{from:t,to:s}:r?yP(t,r)?{from:t,to:r}:{from:r,to:t}:{from:t,to:void 0}}var Dw=v.createContext(void 0);function OB(t){if(!iu(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return c.jsx(Dw.Provider,{value:e,children:t.children})}return c.jsx(jB,{initialProps:t.initialProps,children:t.children})}function jB(t){var e=t.initialProps,n=t.children,r=e.selected,s=r||{},i=s.from,o=s.to,a=e.min,l=e.max,d=function(p,S,y){var E,x;(E=e.onDayClick)===null||E===void 0||E.call(e,p,S,y);var _=MB(p,r);(x=e.onSelect)===null||x===void 0||x.call(e,_,p,S,y)},h={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(h.range_start=[i],o?(h.range_end=[o],hn(i,o)||(h.range_middle=[{after:i,before:o}])):h.range_end=[i]):o&&(h.range_start=[o],h.range_end=[o]),a&&(i&&!o&&h.disabled.push({after:ap(i,a-1),before:zt(i,a-1)}),i&&o&&h.disabled.push({after:i,before:zt(i,a-1)}),!i&&o&&h.disabled.push({after:ap(o,a-1),before:zt(o,a-1)})),l){if(i&&!o&&(h.disabled.push({before:zt(i,-l+1)}),h.disabled.push({after:zt(i,l-1)})),i&&o){var f=rs(o,i)+1,m=l-f;h.disabled.push({before:ap(i,m)}),h.disabled.push({after:zt(o,m)})}!i&&o&&(h.disabled.push({before:zt(o,-l+1)}),h.disabled.push({after:zt(o,l-1)}))}return c.jsx(Dw.Provider,{value:{selected:r,onDayClick:d,modifiers:h},children:n})}function Mw(){var t=v.useContext(Dw);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function Nd(t){return Array.isArray(t)?wP([],t):t!==void 0?[t]:[]}function LB(t){var e={};return Object.entries(t).forEach(function(n){var r=n[0],s=n[1];e[r]=Nd(s)}),e}var ir;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(ir||(ir={}));var VB=ir.Selected,Qr=ir.Disabled,FB=ir.Hidden,UB=ir.Today,cp=ir.RangeEnd,up=ir.RangeMiddle,dp=ir.RangeStart,$B=ir.Outside;function BB(t,e,n){var r,s=(r={},r[VB]=Nd(t.selected),r[Qr]=Nd(t.disabled),r[FB]=Nd(t.hidden),r[UB]=[t.today],r[cp]=[],r[up]=[],r[dp]=[],r[$B]=[],r);return t.fromDate&&s[Qr].push({before:t.fromDate}),t.toDate&&s[Qr].push({after:t.toDate}),su(t)?s[Qr]=s[Qr].concat(e.modifiers[Qr]):iu(t)&&(s[Qr]=s[Qr].concat(n.modifiers[Qr]),s[dp]=n.modifiers[dp],s[up]=n.modifiers[up],s[cp]=n.modifiers[cp]),s}var bP=v.createContext(void 0);function zB(t){var e=Ge(),n=Aw(),r=Mw(),s=BB(e,n,r),i=LB(e.modifiers),o=de(de({},s),i);return c.jsx(bP.Provider,{value:o,children:t.children})}function SP(){var t=v.useContext(bP);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function WB(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function HB(t){return!!(t&&typeof t=="object"&&"from"in t)}function qB(t){return!!(t&&typeof t=="object"&&"after"in t)}function GB(t){return!!(t&&typeof t=="object"&&"before"in t)}function KB(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function QB(t,e){var n,r=e.from,s=e.to;if(r&&s){var i=rs(s,r)<0;i&&(n=[s,r],r=n[0],s=n[1]);var o=rs(t,r)>=0&&rs(s,t)>=0;return o}return s?hn(s,t):r?hn(r,t):!1}function YB(t){return Iw(t)}function XB(t){return Array.isArray(t)&&t.every(Iw)}function JB(t,e){return e.some(function(n){if(typeof n=="boolean")return n;if(YB(n))return hn(t,n);if(XB(n))return n.includes(t);if(HB(n))return QB(t,n);if(KB(n))return n.dayOfWeek.includes(t.getDay());if(WB(n)){var r=rs(n.before,t),s=rs(n.after,t),i=r>0,o=s<0,a=Jg(n.before,n.after);return a?o&&i:i||o}return qB(n)?rs(t,n.after)>0:GB(n)?rs(n.before,t)>0:typeof n=="function"?n(t):!1})}function Ow(t,e,n){var r=Object.keys(e).reduce(function(i,o){var a=e[o];return JB(t,a)&&i.push(o),i},[]),s={};return r.forEach(function(i){return s[i]=!0}),n&&!Pw(t,n)&&(s.outside=!0),s}function ZB(t,e){for(var n=gn(t[0]),r=Nw(t[t.length-1]),s,i,o=n;o<=r;){var a=Ow(o,e),l=!a.disabled&&!a.hidden;if(!l){o=zt(o,1);continue}if(a.selected)return o;a.today&&!i&&(i=o),s||(s=o),o=zt(o,1)}return i||s}var ez=365;function CP(t,e){var n=e.moveBy,r=e.direction,s=e.context,i=e.modifiers,o=e.retry,a=o===void 0?{count:0,lastFocused:t}:o,l=s.weekStartsOn,d=s.fromDate,h=s.toDate,f=s.locale,m={day:zt,week:Xg,month:sr,year:J8,startOfWeek:function(E){return s.ISOWeek?wo(E):Br(E,{locale:f,weekStartsOn:l})},endOfWeek:function(E){return s.ISOWeek?hP(E):kw(E,{locale:f,weekStartsOn:l})}},p=m[n](t,r==="after"?1:-1);r==="before"&&d?p=Z8([d,p]):r==="after"&&h&&(p=e$([h,p]));var S=!0;if(i){var y=Ow(p,i);S=!y.disabled&&!y.hidden}return S?p:a.count>ez?a.lastFocused:CP(p,{moveBy:n,direction:r,context:s,modifiers:i,retry:de(de({},a),{count:a.count+1})})}var IP=v.createContext(void 0);function tz(t){var e=ou(),n=SP(),r=v.useState(),s=r[0],i=r[1],o=v.useState(),a=o[0],l=o[1],d=ZB(e.displayMonths,n),h=s??(a&&e.isDateDisplayed(a))?a:d,f=function(){l(s),i(void 0)},m=function(E){i(E)},p=Ge(),S=function(E,x){if(s){var _=CP(s,{moveBy:E,direction:x,context:p,modifiers:n});hn(s,_)||(e.goToDate(_,s),m(_))}},y={focusedDay:s,focusTarget:h,blur:f,focus:m,focusDayAfter:function(){return S("day","after")},focusDayBefore:function(){return S("day","before")},focusWeekAfter:function(){return S("week","after")},focusWeekBefore:function(){return S("week","before")},focusMonthBefore:function(){return S("month","before")},focusMonthAfter:function(){return S("month","after")},focusYearBefore:function(){return S("year","before")},focusYearAfter:function(){return S("year","after")},focusStartOfWeek:function(){return S("startOfWeek","before")},focusEndOfWeek:function(){return S("endOfWeek","after")}};return c.jsx(IP.Provider,{value:y,children:t.children})}function jw(){var t=v.useContext(IP);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function nz(t,e){var n=SP(),r=Ow(t,n,e);return r}var Lw=v.createContext(void 0);function rz(t){if(!zf(t.initialProps)){var e={selected:void 0};return c.jsx(Lw.Provider,{value:e,children:t.children})}return c.jsx(sz,{initialProps:t.initialProps,children:t.children})}function sz(t){var e=t.initialProps,n=t.children,r=function(i,o,a){var l,d,h;if((l=e.onDayClick)===null||l===void 0||l.call(e,i,o,a),o.selected&&!e.required){(d=e.onSelect)===null||d===void 0||d.call(e,void 0,i,o,a);return}(h=e.onSelect)===null||h===void 0||h.call(e,i,i,o,a)},s={selected:e.selected,onDayClick:r};return c.jsx(Lw.Provider,{value:s,children:n})}function NP(){var t=v.useContext(Lw);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function iz(t,e){var n=Ge(),r=NP(),s=Aw(),i=Mw(),o=jw(),a=o.focusDayAfter,l=o.focusDayBefore,d=o.focusWeekAfter,h=o.focusWeekBefore,f=o.blur,m=o.focus,p=o.focusMonthBefore,S=o.focusMonthAfter,y=o.focusYearBefore,E=o.focusYearAfter,x=o.focusStartOfWeek,_=o.focusEndOfWeek,T=function(B){var j,L,H,te;zf(n)?(j=r.onDayClick)===null||j===void 0||j.call(r,t,e,B):su(n)?(L=s.onDayClick)===null||L===void 0||L.call(s,t,e,B):iu(n)?(H=i.onDayClick)===null||H===void 0||H.call(i,t,e,B):(te=n.onDayClick)===null||te===void 0||te.call(n,t,e,B)},R=function(B){var j;m(t),(j=n.onDayFocus)===null||j===void 0||j.call(n,t,e,B)},M=function(B){var j;f(),(j=n.onDayBlur)===null||j===void 0||j.call(n,t,e,B)},O=function(B){var j;(j=n.onDayMouseEnter)===null||j===void 0||j.call(n,t,e,B)},b=function(B){var j;(j=n.onDayMouseLeave)===null||j===void 0||j.call(n,t,e,B)},C=function(B){var j;(j=n.onDayPointerEnter)===null||j===void 0||j.call(n,t,e,B)},I=function(B){var j;(j=n.onDayPointerLeave)===null||j===void 0||j.call(n,t,e,B)},k=function(B){var j;(j=n.onDayTouchCancel)===null||j===void 0||j.call(n,t,e,B)},A=function(B){var j;(j=n.onDayTouchEnd)===null||j===void 0||j.call(n,t,e,B)},D=function(B){var j;(j=n.onDayTouchMove)===null||j===void 0||j.call(n,t,e,B)},P=function(B){var j;(j=n.onDayTouchStart)===null||j===void 0||j.call(n,t,e,B)},W=function(B){var j;(j=n.onDayKeyUp)===null||j===void 0||j.call(n,t,e,B)},Y=function(B){var j;switch(B.key){case"ArrowLeft":B.preventDefault(),B.stopPropagation(),n.dir==="rtl"?a():l();break;case"ArrowRight":B.preventDefault(),B.stopPropagation(),n.dir==="rtl"?l():a();break;case"ArrowDown":B.preventDefault(),B.stopPropagation(),d();break;case"ArrowUp":B.preventDefault(),B.stopPropagation(),h();break;case"PageUp":B.preventDefault(),B.stopPropagation(),B.shiftKey?y():p();break;case"PageDown":B.preventDefault(),B.stopPropagation(),B.shiftKey?E():S();break;case"Home":B.preventDefault(),B.stopPropagation(),x();break;case"End":B.preventDefault(),B.stopPropagation(),_();break}(j=n.onDayKeyDown)===null||j===void 0||j.call(n,t,e,B)},Q={onClick:T,onFocus:R,onBlur:M,onKeyDown:Y,onKeyUp:W,onMouseEnter:O,onMouseLeave:b,onPointerEnter:C,onPointerLeave:I,onTouchCancel:k,onTouchEnd:A,onTouchMove:D,onTouchStart:P};return Q}function oz(){var t=Ge(),e=NP(),n=Aw(),r=Mw(),s=zf(t)?e.selected:su(t)?n.selected:iu(t)?r.selected:void 0;return s}function az(t){return Object.values(ir).includes(t)}function lz(t,e){var n=[t.classNames.day];return Object.keys(e).forEach(function(r){var s=t.modifiersClassNames[r];if(s)n.push(s);else if(az(r)){var i=t.classNames["day_".concat(r)];i&&n.push(i)}}),n}function cz(t,e){var n=de({},t.styles.day);return Object.keys(e).forEach(function(r){var s;n=de(de({},n),(s=t.modifiersStyles)===null||s===void 0?void 0:s[r])}),n}function uz(t,e,n){var r,s,i,o=Ge(),a=jw(),l=nz(t,e),d=iz(t,l),h=oz(),f=!!(o.onDayClick||o.mode!=="default");v.useEffect(function(){var O;l.outside||a.focusedDay&&f&&hn(a.focusedDay,t)&&((O=n.current)===null||O===void 0||O.focus())},[a.focusedDay,t,n,f,l.outside]);var m=lz(o,l).join(" "),p=cz(o,l),S=!!(l.outside&&!o.showOutsideDays||l.hidden),y=(i=(s=o.components)===null||s===void 0?void 0:s.DayContent)!==null&&i!==void 0?i:RB,E=c.jsx(y,{date:t,displayMonth:e,activeModifiers:l}),x={style:p,className:m,children:E,role:"gridcell"},_=a.focusTarget&&hn(a.focusTarget,t)&&!l.outside,T=a.focusedDay&&hn(a.focusedDay,t),R=de(de(de({},x),(r={disabled:l.disabled,role:"gridcell"},r["aria-selected"]=l.selected,r.tabIndex=T||_?0:-1,r)),d),M={isButton:f,isHidden:S,activeModifiers:l,selectedDays:h,buttonProps:R,divProps:x};return M}function dz(t){var e=v.useRef(null),n=uz(t.date,t.displayMonth,e);return n.isHidden?c.jsx("div",{role:"gridcell"}):n.isButton?c.jsx(Dh,de({name:"day",ref:e},n.buttonProps)):c.jsx("div",de({},n.divProps))}function hz(t){var e=t.number,n=t.dates,r=Ge(),s=r.onWeekNumberClick,i=r.styles,o=r.classNames,a=r.locale,l=r.labels.labelWeekNumber,d=r.formatters.formatWeekNumber,h=d(Number(e),{locale:a});if(!s)return c.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:h});var f=l(Number(e),{locale:a}),m=function(p){s(e,n,p)};return c.jsx(Dh,{name:"week-number","aria-label":f,className:o.weeknumber,style:i.weeknumber,onClick:m,children:h})}function fz(t){var e,n,r=Ge(),s=r.styles,i=r.classNames,o=r.showWeekNumber,a=r.components,l=(e=a==null?void 0:a.Day)!==null&&e!==void 0?e:dz,d=(n=a==null?void 0:a.WeekNumber)!==null&&n!==void 0?n:hz,h;return o&&(h=c.jsx("td",{className:i.cell,style:s.cell,children:c.jsx(d,{number:t.weekNumber,dates:t.dates})})),c.jsxs("tr",{className:i.row,style:s.row,children:[h,t.dates.map(function(f){return c.jsx("td",{className:i.cell,style:s.cell,role:"presentation",children:c.jsx(l,{displayMonth:t.displayMonth,date:f})},l7(f))})]})}function fE(t,e,n){for(var r=n!=null&&n.ISOWeek?hP(e):kw(e,n),s=n!=null&&n.ISOWeek?wo(t):Br(t,n),i=rs(r,s),o=[],a=0;a<=i;a++)o.push(zt(s,a));var l=o.reduce(function(d,h){var f=n!=null&&n.ISOWeek?o7(h):h7(h,n),m=d.find(function(p){return p.weekNumber===f});return m?(m.dates.push(h),d):(d.push({weekNumber:f,dates:[h]}),d)},[]);return l}function mz(t,e){var n=fE(gn(t),Nw(t),e);if(e!=null&&e.useFixedWeeks){var r=m7(t,e);if(r<6){var s=n[n.length-1],i=s.dates[s.dates.length-1],o=Xg(i,6-r),a=fE(Xg(i,1),o,e);n.push.apply(n,a)}}return n}function pz(t){var e,n,r,s=Ge(),i=s.locale,o=s.classNames,a=s.styles,l=s.hideHead,d=s.fixedWeeks,h=s.components,f=s.weekStartsOn,m=s.firstWeekContainsDate,p=s.ISOWeek,S=mz(t.displayMonth,{useFixedWeeks:!!d,ISOWeek:p,locale:i,weekStartsOn:f,firstWeekContainsDate:m}),y=(e=h==null?void 0:h.Head)!==null&&e!==void 0?e:PB,E=(n=h==null?void 0:h.Row)!==null&&n!==void 0?n:fz,x=(r=h==null?void 0:h.Footer)!==null&&r!==void 0?r:IB;return c.jsxs("table",{id:t.id,className:o.table,style:a.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!l&&c.jsx(y,{}),c.jsx("tbody",{className:o.tbody,style:a.tbody,children:S.map(function(_){return c.jsx(E,{displayMonth:t.displayMonth,dates:_.dates,weekNumber:_.weekNumber},_.weekNumber)})}),c.jsx(x,{displayMonth:t.displayMonth})]})}function gz(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var vz=gz()?v.useLayoutEffect:v.useEffect,hp=!1,yz=0;function mE(){return"react-day-picker-".concat(++yz)}function wz(t){var e,n=t??(hp?mE():null),r=v.useState(n),s=r[0],i=r[1];return vz(function(){s===null&&i(mE())},[]),v.useEffect(function(){hp===!1&&(hp=!0)},[]),(e=t??s)!==null&&e!==void 0?e:void 0}function _z(t){var e,n,r=Ge(),s=r.dir,i=r.classNames,o=r.styles,a=r.components,l=ou().displayMonths,d=wz(r.id?"".concat(r.id,"-").concat(t.displayIndex):void 0),h=r.id?"".concat(r.id,"-grid-").concat(t.displayIndex):void 0,f=[i.month],m=o.month,p=t.displayIndex===0,S=t.displayIndex===l.length-1,y=!p&&!S;s==="rtl"&&(e=[p,S],S=e[0],p=e[1]),p&&(f.push(i.caption_start),m=de(de({},m),o.caption_start)),S&&(f.push(i.caption_end),m=de(de({},m),o.caption_end)),y&&(f.push(i.caption_between),m=de(de({},m),o.caption_between));var E=(n=a==null?void 0:a.Caption)!==null&&n!==void 0?n:CB;return c.jsxs("div",{className:f.join(" "),style:m,children:[c.jsx(E,{id:d,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),c.jsx(pz,{id:h,"aria-labelledby":d,displayMonth:t.displayMonth})]},t.displayIndex)}function xz(t){var e=Ge(),n=e.classNames,r=e.styles;return c.jsx("div",{className:n.months,style:r.months,children:t.children})}function Ez(t){var e,n,r=t.initialProps,s=Ge(),i=jw(),o=ou(),a=v.useState(!1),l=a[0],d=a[1];v.useEffect(function(){s.initialFocus&&i.focusTarget&&(l||(i.focus(i.focusTarget),d(!0)))},[s.initialFocus,l,i.focus,i.focusTarget,i]);var h=[s.classNames.root,s.className];s.numberOfMonths>1&&h.push(s.classNames.multiple_months),s.showWeekNumber&&h.push(s.classNames.with_weeknumber);var f=de(de({},s.styles.root),s.style),m=Object.keys(r).filter(function(S){return S.startsWith("data-")}).reduce(function(S,y){var E;return de(de({},S),(E={},E[y]=r[y],E))},{}),p=(n=(e=r.components)===null||e===void 0?void 0:e.Months)!==null&&n!==void 0?n:xz;return c.jsx("div",de({className:h.join(" "),style:f,dir:s.dir,id:s.id,nonce:r.nonce,title:r.title,lang:r.lang},m,{children:c.jsx(p,{children:o.displayMonths.map(function(S,y){return c.jsx(_z,{displayIndex:y,displayMonth:S},y)})})}))}function Tz(t){var e=t.children,n=G7(t,["children"]);return c.jsx(hB,{initialProps:n,children:c.jsx(EB,{children:c.jsx(rz,{initialProps:n,children:c.jsx(AB,{initialProps:n,children:c.jsx(OB,{initialProps:n,children:c.jsx(zB,{children:c.jsx(tz,{children:e})})})})})})})}function bz(t){return c.jsx(Tz,de({},t,{children:c.jsx(Ez,{initialProps:t})}))}function kP({className:t,classNames:e,showOutsideDays:n=!0,...r}){return c.jsx(bz,{showOutsideDays:n,className:ue("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:ue(ug({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:ue(ug({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:()=>c.jsx(W3,{className:"h-4 w-4"}),IconRight:()=>c.jsx(TI,{className:"h-4 w-4"})},...r})}kP.displayName="Calendar";var Wf="Popover",[PP]=zr(Wf,[Ja]),au=Ja(),[Sz,Ri]=PP(Wf),RP=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!1}=t,a=au(e),l=v.useRef(null),[d,h]=v.useState(!1),[f,m]=ho({prop:r,defaultProp:s??!1,onChange:i,caller:Wf});return c.jsx(fw,{...a,children:c.jsx(Sz,{scope:e,contentId:Ar(),triggerRef:l,open:f,onOpenChange:m,onOpenToggle:v.useCallback(()=>m(p=>!p),[m]),hasCustomAnchor:d,onCustomAnchorAdd:v.useCallback(()=>h(!0),[]),onCustomAnchorRemove:v.useCallback(()=>h(!1),[]),modal:o,children:n})})};RP.displayName=Wf;var AP="PopoverAnchor",Cz=v.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Ri(AP,n),i=au(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:a}=s;return v.useEffect(()=>(o(),()=>a()),[o,a]),c.jsx(Af,{...i,...r,ref:e})});Cz.displayName=AP;var DP="PopoverTrigger",MP=v.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Ri(DP,n),i=au(n),o=Oe(e,s.triggerRef),a=c.jsx(ve.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":FP(s.open),...r,ref:o,onClick:ne(t.onClick,s.onOpenToggle)});return s.hasCustomAnchor?a:c.jsx(Af,{asChild:!0,...i,children:a})});MP.displayName=DP;var Vw="PopoverPortal",[Iz,Nz]=PP(Vw,{forceMount:void 0}),OP=t=>{const{__scopePopover:e,forceMount:n,children:r,container:s}=t,i=Ri(Vw,e);return c.jsx(Iz,{scope:e,forceMount:n,children:c.jsx(or,{present:n||i.open,children:c.jsx(Jc,{asChild:!0,container:s,children:r})})})};OP.displayName=Vw;var La="PopoverContent",jP=v.forwardRef((t,e)=>{const n=Nz(La,t.__scopePopover),{forceMount:r=n.forceMount,...s}=t,i=Ri(La,t.__scopePopover);return c.jsx(or,{present:r||i.open,children:i.modal?c.jsx(Pz,{...s,ref:e}):c.jsx(Rz,{...s,ref:e})})});jP.displayName=La;var kz=hi("PopoverContent.RemoveScroll"),Pz=v.forwardRef((t,e)=>{const n=Ri(La,t.__scopePopover),r=v.useRef(null),s=Oe(e,r),i=v.useRef(!1);return v.useEffect(()=>{const o=r.current;if(o)return Df(o)},[]),c.jsx(eu,{as:kz,allowPinchZoom:!0,children:c.jsx(LP,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ne(t.onCloseAutoFocus,o=>{var a;o.preventDefault(),i.current||(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:ne(t.onPointerDownOutside,o=>{const a=o.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0,d=a.button===2||l;i.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:ne(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),Rz=v.forwardRef((t,e)=>{const n=Ri(La,t.__scopePopover),r=v.useRef(!1),s=v.useRef(!1);return c.jsx(LP,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,d;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),LP=v.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:d,onInteractOutside:h,...f}=t,m=Ri(La,n),p=au(n);return If(),c.jsx(Yc,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:c.jsx(Qc,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:h,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:d,onDismiss:()=>m.onOpenChange(!1),children:c.jsx(mw,{"data-state":FP(m.open),role:"dialog",id:m.contentId,...p,...f,ref:e,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),VP="PopoverClose",Az=v.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=Ri(VP,n);return c.jsx(ve.button,{type:"button",...r,ref:e,onClick:ne(t.onClick,()=>s.onOpenChange(!1))})});Az.displayName=VP;var Dz="PopoverArrow",Mz=v.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,s=au(n);return c.jsx(pw,{...s,...r,ref:e})});Mz.displayName=Dz;function FP(t){return t?"open":"closed"}var Oz=RP,jz=MP,Lz=OP,UP=jP;const Vz=Oz,Fz=jz,$P=v.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},s)=>c.jsx(Lz,{children:c.jsx(UP,{ref:s,align:e,sideOffset:n,className:ue("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));$P.displayName=UP.displayName;function Mh({value:t,onChange:e,placeholder:n="Chọn ngày & giờ",disabled:r=!1}){const[s,i]=v.useState(!1),[o,a]=v.useState(t?new Date(t):void 0),[l,d]=v.useState(t?new Date(t).getHours().toString():"9"),[h,f]=v.useState(t?new Date(t).getMinutes().toString():"0"),m=E=>{const x=zt(new Date,E),_=Zu(Ju(x,parseInt(l)),parseInt(h));a(_),e(_.toISOString()),i(!1)},p=E=>{if(!E)return;const x=Zu(Ju(E,parseInt(l)),parseInt(h));a(x)},S=(E,x)=>{if(d(E),f(x),o){const _=Zu(Ju(o,parseInt(E)),parseInt(x));a(_),e(_.toISOString())}},y=()=>{if(o){const E=Zu(Ju(o,parseInt(l)),parseInt(h));e(E.toISOString()),i(!1)}};return c.jsxs(Vz,{open:s,onOpenChange:i,children:[c.jsx(Fz,{asChild:!0,children:c.jsxs(re,{variant:"outline",className:ue("w-full justify-start text-left font-normal",!t&&"text-muted-foreground"),disabled:r,children:[c.jsx(Sc,{className:"mr-2 h-4 w-4"}),t?Pi(new Date(t),"PPP 'lúc' HH:mm",{locale:uE}):c.jsx("span",{children:n})]})}),c.jsxs($P,{className:"w-auto p-0",align:"start",children:[c.jsxs("div",{className:"p-3 border-b",children:[c.jsx("div",{className:"text-sm font-medium mb-2",children:"Chọn nhanh"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(re,{variant:"outline",size:"sm",onClick:()=>m(0),children:"Hôm nay"}),c.jsx(re,{variant:"outline",size:"sm",onClick:()=>m(1),children:"Ngày mai"}),c.jsx(re,{variant:"outline",size:"sm",onClick:()=>m(7),children:"Tuần sau"})]})]}),c.jsx(kP,{mode:"single",selected:o,onSelect:p,initialFocus:!0,locale:uE}),c.jsxs("div",{className:"p-3 border-t",children:[c.jsx("div",{className:"text-sm font-medium mb-2",children:"Chọn giờ"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(Da,{value:l,onValueChange:E=>S(E,h),children:[c.jsx(vo,{className:"w-[100px]",children:c.jsx(Ma,{placeholder:"Giờ"})}),c.jsx(yo,{children:Array.from({length:24},(E,x)=>c.jsx(Tr,{value:x.toString(),children:x.toString().padStart(2,"0")},x))})]}),c.jsx("span",{className:"flex items-center",children:":"}),c.jsxs(Da,{value:h,onValueChange:E=>S(l,E),children:[c.jsx(vo,{className:"w-[100px]",children:c.jsx(Ma,{placeholder:"Phút"})}),c.jsx(yo,{children:[0,15,30,45].map(E=>c.jsx(Tr,{value:E.toString(),children:E.toString().padStart(2,"0")},E))})]})]})]}),c.jsx("div",{className:"p-3 border-t",children:c.jsx(re,{className:"w-full",onClick:y,children:"Áp dụng"})})]})]})}const Uz=[{value:"UI",label:"🔴 Khẩn cấp & Quan trọng"},{value:"UNI",label:"🟡 Quan trọng nhưng không khẩn cấp"},{value:"NUI",label:"🟢 Khẩn cấp nhưng không quan trọng"},{value:"NUNI",label:"🔵 Không khẩn cấp & không quan trọng"}];function $z({task:t,onSuccess:e}){const[n,r]=v.useState(!1),[s,i]=v.useState(t.title),[o,a]=v.useState(t.notes||""),[l,d]=v.useState(t.dueDate||""),[h,f]=v.useState(t.priority),m=gt.tasks.update.useMutation({onSuccess:()=>{ie.success("Đã cập nhật công việc"),r(!1),e()},onError:y=>{ie.error(`Lỗi: ${y.message}`)}}),p=y=>{if(y.preventDefault(),!s.trim()){ie.error("Vui lòng nhập tên công việc");return}m.mutate({id:t.id,title:s.trim(),notes:o.trim()||void 0,dueDate:l||void 0,priority:h})},S=()=>{i(t.title),a(t.notes||""),d(t.dueDate||""),f(t.priority),r(!0)};return c.jsxs(c.Fragment,{children:[c.jsx(re,{variant:"ghost",size:"sm",onClick:S,children:c.jsx(nw,{className:"h-4 w-4"})}),c.jsx(vs,{open:n,onOpenChange:r,children:c.jsx(Lr,{className:"sm:max-w-[500px]",children:c.jsxs("form",{onSubmit:p,children:[c.jsxs(Vr,{children:[c.jsx(Ur,{children:"Chỉnh sửa công việc"}),c.jsx($r,{children:"Cập nhật thông tin công việc"})]}),c.jsxs("div",{className:"grid gap-4 py-4",children:[c.jsxs("div",{className:"grid gap-2",children:[c.jsx(Re,{htmlFor:"title",children:"Tên công việc *"}),c.jsx(ct,{id:"title",value:s,onChange:y=>i(y.target.value),placeholder:"Ví dụ: Hoàn thành báo cáo",autoFocus:!0})]}),c.jsxs("div",{className:"grid gap-2",children:[c.jsx(Re,{htmlFor:"notes",children:"Ghi chú"}),c.jsx(ru,{id:"notes",value:o,onChange:y=>a(y.target.value),placeholder:"Thêm mô tả chi tiết...",rows:3})]}),c.jsxs("div",{className:"grid gap-2",children:[c.jsx(Re,{htmlFor:"due-date",children:"Hạn hoàn thành"}),c.jsx(Mh,{value:l,onChange:d,placeholder:"Chọn ngày & giờ deadline"})]}),c.jsxs("div",{className:"grid gap-2",children:[c.jsx(Re,{htmlFor:"priority",children:"Mức độ ưu tiên *"}),c.jsxs(Da,{value:h,onValueChange:y=>f(y),children:[c.jsx(vo,{id:"priority",children:c.jsx(Ma,{})}),c.jsx(yo,{children:Uz.map(y=>c.jsx(Tr,{value:y.value,children:y.label},y.value))})]})]})]}),c.jsxs(Fr,{children:[c.jsx(re,{type:"button",variant:"outline",onClick:()=>r(!1),children:"Hủy"}),c.jsx(re,{type:"submit",disabled:m.isPending,children:m.isPending?"Đang cập nhật...":"Cập nhật"})]})]})})})]})}function Bz({task:t,onUpdate:e}){const[n,r]=v.useState(!1),[s,i]=v.useState(""),[o,a]=v.useState(""),{user:l}=ef(),d=gt.tasks.update.useMutation({onSuccess:()=>{e(),ie.success(t.completed?"Đánh dấu chưa hoàn thành":"Đã hoàn thành!")}}),h=gt.tasks.delete.useMutation({onSuccess:()=>{e(),ie.success("Đã xóa công việc")}}),f=gt.reminders.create.useMutation({onSuccess:()=>{r(!1),i(""),ie.success("Đã đặt lời nhắc")}}),m=()=>{d.mutate({id:t.id,completed:!t.completed,completedAt:t.completed?void 0:new Date().toISOString()})},p=()=>{confirm("Bạn có chắc muốn xóa công việc này?")&&h.mutate({id:t.id})},S=()=>{if(!s){ie.error("Vui lòng chọn thời gian nhắc");return}f.mutate({taskId:t.id,reminderTime:s,email:o.trim()||void 0})},E=(()=>{if(!t.dueDate)return null;const x=new Date(t.dueDate),_=x.toLocaleString("vi-VN",{timeZone:"Asia/Singapore",day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),T=new Date,R=x.getTime()-T.getTime(),M=Math.ceil(R/(1e3*60*60*24));let O="secondary",b="";return M<0?(O="destructive",b=`Quá hạn ${Math.abs(M)} ngày`):M===0?(O="destructive",b="Hạn hôm nay"):M<=3?(O="default",b=`Còn ${M} ngày`):(O="secondary",b=`Còn ${M} ngày`),{formatted:_,variant:O,label:b}})();return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"p-3 bg-white rounded-lg border hover:shadow-sm transition-shadow",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(Eh,{checked:t.completed,onCheckedChange:m,className:"mt-1"}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("div",{className:`font-medium ${t.completed?"line-through text-muted-foreground":""}`,children:t.title}),t.notes&&c.jsx("div",{className:"text-sm text-muted-foreground mt-1 line-clamp-2",children:t.notes}),c.jsxs("div",{className:"flex flex-col gap-2 mt-2",children:[E&&c.jsxs("div",{className:"text-sm text-muted-foreground",children:["📅 ",E.formatted]}),c.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[E&&c.jsx(Fe,{variant:E.variant,className:"text-xs",children:E.label}),t.rolloverCount>0&&c.jsxs(Fe,{variant:"outline",className:"text-xs",children:["🔄 Rollover: ",t.rolloverCount]})]})]})]}),c.jsxs(H9,{children:[c.jsx(q9,{asChild:!0,children:c.jsx(re,{variant:"ghost",size:"icon",className:"h-8 w-8",children:c.jsx(X3,{className:"h-4 w-4"})})}),c.jsxs(sk,{align:"end",children:[c.jsx($z,{task:t,onSuccess:e}),c.jsxs(Hg,{onClick:()=>r(!0),children:[c.jsx(xI,{className:"mr-2 h-4 w-4"}),"Đặt lời nhắc"]}),c.jsxs(Hg,{onClick:p,className:"text-destructive",children:[c.jsx(Cf,{className:"mr-2 h-4 w-4"}),"Xóa"]})]})]})]})}),c.jsx(vs,{open:n,onOpenChange:r,children:c.jsxs(Lr,{children:[c.jsxs(Vr,{children:[c.jsx(Ur,{children:"Đặt lời nhắc"}),c.jsx($r,{children:"Chọn thời gian bạn muốn nhận email nhắc nhở về công việc này"})]}),c.jsxs("div",{className:"space-y-4 py-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Re,{htmlFor:"reminder-time",children:"Thời gian nhắc"}),c.jsx(ct,{id:"reminder-time",type:"datetime-local",value:s,onChange:x=>i(x.target.value)})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Re,{htmlFor:"custom-email",children:"Email nhận thông báo (tùy chọn)"}),c.jsx(ct,{id:"custom-email",type:"email",placeholder:(l==null?void 0:l.email)||"Nhập email...",value:o,onChange:x=>a(x.target.value)}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:["Mặc định: ",(l==null?void 0:l.email)||"Email đăng ký"]})]})]}),c.jsxs(Fr,{children:[c.jsx(re,{variant:"outline",onClick:()=>r(!1),children:"Hủy"}),c.jsx(re,{onClick:S,disabled:f.isPending,children:f.isPending?"Đang đặt...":"Đặt lời nhắc"})]})]})})]})}function zz({priority:t,onSuccess:e}){const[n,r]=v.useState(!1),[s,i]=v.useState(""),[o,a]=v.useState(""),[l,d]=v.useState(""),h=gt.tasks.create.useMutation({onSuccess:()=>{i(""),a(""),d(""),r(!1),e(),ie.success("Đã thêm công việc")},onError:p=>{ie.error(`Lỗi: ${p.message}`)}}),f=p=>{if(p.preventDefault(),!s.trim()){ie.error("Vui lòng nhập tên công việc");return}h.mutate({title:s.trim(),notes:o.trim()||void 0,dueDate:l||void 0,priority:t})},m=()=>{i(""),a(""),d(""),r(!1)};return n?c.jsxs("form",{onSubmit:f,className:"space-y-3 p-3 bg-white rounded-lg border",children:[c.jsx(ct,{autoFocus:!0,placeholder:"Tên công việc...",value:s,onChange:p=>i(p.target.value),disabled:h.isPending}),c.jsx(ru,{placeholder:"Ghi chú (tùy chọn)...",value:o,onChange:p=>a(p.target.value),disabled:h.isPending,rows:2}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm font-medium mb-1 block",children:"Hạn hoàn thành"}),c.jsx(Mh,{value:l,onChange:d,placeholder:"Chọn ngày & giờ deadline",disabled:h.isPending})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(re,{type:"submit",size:"sm",className:"flex-1",disabled:h.isPending,children:h.isPending?"Đang thêm...":"Thêm"}),c.jsx(re,{type:"button",variant:"outline",size:"sm",onClick:m,disabled:h.isPending,children:c.jsx(CI,{className:"h-4 w-4"})})]})]}):c.jsxs(re,{variant:"outline",size:"sm",className:"w-full border-dashed",onClick:()=>r(!0),children:[c.jsx(SI,{className:"h-4 w-4 mr-2"}),"Thêm nhanh"]})}const Wz={UI:{icon:"🔴",label:"Khẩn cấp & Quan trọng",color:"bg-red-50 border-red-200",badgeColor:"bg-red-500",iconColor:"text-red-500"},UNI:{icon:"🟡",label:"Quan trọng nhưng không khẩn cấp",color:"bg-yellow-50 border-yellow-200",badgeColor:"bg-yellow-500",iconColor:"text-yellow-500"},NUI:{icon:"🟢",label:"Khẩn cấp nhưng không quan trọng",color:"bg-green-50 border-green-200",badgeColor:"bg-green-500",iconColor:"text-green-500"},NUNI:{icon:"🔵",label:"Không khẩn cấp & không quan trọng",color:"bg-blue-50 border-blue-200",badgeColor:"bg-blue-500",iconColor:"text-blue-500"}};function Hz({tasks:t,onRefresh:e}){const n={UI:t.filter(r=>r.priority==="UI"),UNI:t.filter(r=>r.priority==="UNI"),NUI:t.filter(r=>r.priority==="NUI"),NUNI:t.filter(r=>r.priority==="NUNI")};return c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(Wz).map(([r,s])=>c.jsxs(Be,{className:`${s.color} border-2`,children:[c.jsx(kt,{children:c.jsxs(Pt,{className:"flex items-center gap-2 text-base",children:[c.jsx("span",{className:"text-lg",children:s.icon}),s.label,c.jsx(Fe,{variant:"outline",className:"ml-auto",children:n[r].length})]})}),c.jsx(ze,{children:c.jsxs("div",{className:"space-y-2",children:[n[r].length===0?c.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Không có công việc"}):n[r].map(i=>c.jsx(Bz,{task:i,onUpdate:e},i.id)),c.jsx(zz,{priority:r,onSuccess:e})]})})]},r))})}function qz(t){return btoa(JSON.stringify(t))}function Gz({onRefresh:t}){const{user:e}=ef(),[n,r]=v.useState(!1),[s,i]=v.useState((e==null?void 0:e.name)||""),[o,a]=v.useState((e==null?void 0:e.email)||""),[l,d]=v.useState(""),[h,f]=v.useState(""),[m,p]=v.useState(""),[S,y]=v.useState(!1),[E,x]=v.useState(localStorage.getItem("drive_file_id")||null),[_,T]=v.useState(!1),R=gt.tasks.deleteAll.useMutation({onSuccess:()=>{ie.success("Đã xóa tất cả công việc"),y(!1),t==null||t()},onError:W=>{ie.error(`Lỗi: ${W.message}`)}}),M=gt.tasks.replaceAll.useMutation(),O=gt.reminders.replaceAll.useMutation(),b=()=>window.__googleAccessToken||null,C=()=>{const W="demo-google-token-"+Date.now();window.__googleAccessToken=W,T(!0),ie.success("Đã kết nối Google thành công")},I=async()=>{if(!b()){ie.error("Cần kết nối Google để sao lưu");return}try{const{data:Y}=gt.tasks.list.useQuery(),{data:Q}=gt.reminders.list.useQuery(),B=qz({tasks:Y||[],reminders:Q||[]}),j=(e==null?void 0:e.email)==="phuonglh43@gmail.com"?"focus-matrix-system-backup.json":"focus-matrix-user-backup.json",L=`demo-file-${Date.now()}`;x(L),localStorage.setItem("drive_file_id",L),console.log("Demo backup:",{name:j,payload:B.substring(0,100)+"..."}),ie.success("Đã sao lưu lên Google Drive (Demo)")}catch(Y){ie.error(`Lỗi sao lưu: ${Y.message}`)}},k=async()=>{if(!b()||!E){ie.error("Chưa có kết nối Google hoặc file sao lưu");return}try{const Y={tasks:[],reminders:[]};M.mutate({tasks:Y.tasks||[]}),O.mutate({reminders:Y.reminders||[]}),t==null||t(),console.log("Demo restore from:",E),ie.success("Khôi phục dữ liệu thành công (Demo)")}catch(Y){ie.error(`Lỗi khôi phục: ${Y.message}`)}},A=()=>{if(!s.trim()){ie.error("Vui lòng nhập tên");return}if(!o.trim()){ie.error("Vui lòng nhập email");return}const W={...e,name:s.trim(),email:o.trim()};localStorage.setItem("user",JSON.stringify(W)),ie.success("Đã cập nhật thông tin cá nhân"),r(!1)},D=()=>{if(!l){ie.error("Vui lòng nhập mật khẩu hiện tại");return}if(!h){ie.error("Vui lòng nhập mật khẩu mới");return}if(h!==m){ie.error("Mật khẩu xác nhận không khớp");return}if(h.length<6){ie.error("Mật khẩu phải có ít nhất 6 ký tự");return}ie.success("Đã thay đổi mật khẩu thành công"),d(""),f(""),p("")},P=()=>{R.mutate()};return c.jsxs(c.Fragment,{children:[c.jsxs(vs,{open:n,onOpenChange:r,children:[c.jsx(Ff,{asChild:!0,children:c.jsxs(re,{variant:"outline",size:"sm",children:[c.jsx(D1,{className:"mr-2 h-4 w-4"}),"Hồ sơ"]})}),c.jsxs(Lr,{className:"sm:max-w-[600px]",children:[c.jsxs(Vr,{children:[c.jsxs(Ur,{className:"flex items-center gap-2",children:[c.jsx(e6,{className:"h-5 w-5"}),"Quản lý hồ sơ"]}),c.jsx($r,{children:"Cập nhật thông tin cá nhân và bảo mật tài khoản"})]}),c.jsxs("div",{className:"space-y-6 py-4",children:[c.jsxs(Be,{children:[c.jsx(kt,{children:c.jsxs(Pt,{className:"text-base flex items-center gap-2",children:[c.jsx(D1,{className:"h-4 w-4"}),"Thông tin cá nhân"]})}),c.jsxs(ze,{className:"space-y-4",children:[c.jsxs("div",{className:"grid gap-2",children:[c.jsx(Re,{htmlFor:"name",children:"Tên hiển thị"}),c.jsx(ct,{id:"name",value:s,onChange:W=>i(W.target.value),placeholder:"Nhập tên của bạn"})]}),c.jsxs("div",{className:"grid gap-2",children:[c.jsx(Re,{htmlFor:"email",children:"Email"}),c.jsx(ct,{id:"email",type:"email",value:o,onChange:W=>a(W.target.value),placeholder:"Nhập email của bạn"})]})]})]}),c.jsxs(Be,{children:[c.jsx(kt,{children:c.jsxs(Pt,{className:"text-base flex items-center gap-2",children:[c.jsx(Km,{className:"h-4 w-4"}),"Sao lưu & Khôi phục (Google Drive)"]})}),c.jsxs(ze,{className:"space-y-3",children:[_?c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600",children:[c.jsx(Km,{className:"h-4 w-4"}),"Đã kết nối Google"]}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsx(re,{variant:"outline",size:"sm",onClick:I,children:"Sao lưu lên Drive"}),c.jsx(re,{variant:"outline",size:"sm",onClick:k,disabled:!E,children:"Khôi phục từ Drive"})]}),E?c.jsxs("p",{className:"text-xs text-muted-foreground",children:["Đã liên kết file: ",E]}):c.jsx("p",{className:"text-xs text-muted-foreground",children:'Chưa có file sao lưu. Hãy bấm "Sao lưu lên Drive".'})]}):c.jsxs("div",{className:"space-y-2",children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Cần kết nối Google để sao lưu dữ liệu"}),c.jsxs(re,{variant:"outline",size:"sm",onClick:C,children:[c.jsx(Km,{className:"mr-2 h-4 w-4"}),"Kết nối Google"]})]}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Lưu ý: Phiên bản demo sử dụng token giả lập. Production sẽ dùng OAuth thực tế."})]})]}),c.jsxs(Be,{children:[c.jsx(kt,{children:c.jsxs(Pt,{className:"text-base flex items-center gap-2",children:[c.jsx(C1,{className:"h-4 w-4"}),"Bảo mật"]})}),c.jsxs(ze,{className:"space-y-4",children:[c.jsxs("div",{className:"grid gap-2",children:[c.jsx(Re,{htmlFor:"current-password",children:"Mật khẩu hiện tại"}),c.jsx(ct,{id:"current-password",type:"password",value:l,onChange:W=>d(W.target.value),placeholder:"Nhập mật khẩu hiện tại"})]}),c.jsxs("div",{className:"grid gap-2",children:[c.jsx(Re,{htmlFor:"new-password",children:"Mật khẩu mới"}),c.jsx(ct,{id:"new-password",type:"password",value:h,onChange:W=>f(W.target.value),placeholder:"Nhập mật khẩu mới"})]}),c.jsxs("div",{className:"grid gap-2",children:[c.jsx(Re,{htmlFor:"confirm-password",children:"Xác nhận mật khẩu"}),c.jsx(ct,{id:"confirm-password",type:"password",value:m,onChange:W=>p(W.target.value),placeholder:"Nhập lại mật khẩu mới"})]}),c.jsxs(re,{onClick:D,variant:"outline",size:"sm",children:[c.jsx(C1,{className:"mr-2 h-4 w-4"}),"Thay đổi mật khẩu"]})]})]}),c.jsxs(Be,{className:"border-red-200",children:[c.jsx(kt,{children:c.jsxs(Pt,{className:"text-base flex items-center gap-2 text-red-600",children:[c.jsx(T1,{className:"h-4 w-4"}),"Nguy hiểm"]})}),c.jsx(ze,{children:c.jsxs("div",{className:"space-y-4",children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Thao tác này sẽ xóa tất cả công việc và không thể hoàn tác."}),c.jsxs(re,{variant:"destructive",size:"sm",onClick:()=>y(!0),className:"w-full",children:[c.jsx(Cf,{className:"mr-2 h-4 w-4"}),"Reset toàn bộ"]})]})})]})]}),c.jsxs(Fr,{className:"gap-2",children:[c.jsx(re,{variant:"outline",onClick:()=>r(!1),children:"Hủy"}),c.jsx(re,{onClick:A,children:"Lưu thay đổi"})]})]})]}),c.jsx(vs,{open:S,onOpenChange:y,children:c.jsxs(Lr,{children:[c.jsxs(Vr,{children:[c.jsxs(Ur,{className:"flex items-center gap-2 text-red-600",children:[c.jsx(T1,{className:"h-5 w-5"}),"Xác nhận Reset toàn bộ"]}),c.jsx($r,{children:"Thao tác này sẽ xóa TẤT CẢ công việc và không thể hoàn tác. Bạn có chắc chắn muốn tiếp tục?"})]}),c.jsxs(Fr,{children:[c.jsx(re,{variant:"outline",onClick:()=>y(!1),children:"Hủy"}),c.jsx(re,{variant:"destructive",onClick:P,disabled:R.isPending,children:R.isPending?"Đang xóa...":"Xóa tất cả"})]})]})})]})}var Fw="Progress",Uw=100,[Kz]=zr(Fw),[Qz,Yz]=Kz(Fw),BP=v.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:i=Xz,...o}=t;(s||s===0)&&!pE(s)&&console.error(Jz(`${s}`,"Progress"));const a=pE(s)?s:Uw;r!==null&&!gE(r,a)&&console.error(Zz(`${r}`,"Progress"));const l=gE(r,a)?r:null,d=Oh(l)?i(l,a):void 0;return c.jsx(Qz,{scope:n,value:l,max:a,children:c.jsx(ve.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":Oh(l)?l:void 0,"aria-valuetext":d,role:"progressbar","data-state":HP(l,a),"data-value":l??void 0,"data-max":a,...o,ref:e})})});BP.displayName=Fw;var zP="ProgressIndicator",WP=v.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,s=Yz(zP,n);return c.jsx(ve.div,{"data-state":HP(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:e})});WP.displayName=zP;function Xz(t,e){return`${Math.round(t/e*100)}%`}function HP(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Oh(t){return typeof t=="number"}function pE(t){return Oh(t)&&!isNaN(t)&&t>0}function gE(t,e){return Oh(t)&&!isNaN(t)&&t<=e&&t>=0}function Jz(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Uw}\`.`}function Zz(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Uw} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var qP=BP,eW=WP;const GP=v.forwardRef(({className:t,value:e,...n},r)=>c.jsx(qP,{ref:r,className:ue("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:c.jsx(eW,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));GP.displayName=qP.displayName;function tW({tasks:t,reminders:e}){const[n,r]=v.useState("week"),s=()=>{const b=new Date;let C,I=b;switch(n){case"day":C=new Date(b.getFullYear(),b.getMonth(),b.getDate());break;case"week":C=new Date(b),C.setDate(b.getDate()-b.getDay());break;case"month":C=new Date(b.getFullYear(),b.getMonth(),1);break;case"year":C=new Date(b.getFullYear(),0,1);break}return{startDate:C,endDate:I}},{startDate:i,endDate:o}=s(),a=t.filter(b=>{const C=new Date(b.createdAt);return C>=i&&C<=o}),l=a.filter(b=>b.completed).length,d=a.length,h=d>0?Math.round(l/d*100):0,f={UI:t.filter(b=>b.priority==="UI").length,UNI:t.filter(b=>b.priority==="UNI").length,NUI:t.filter(b=>b.priority==="NUI").length,NUNI:t.filter(b=>b.priority==="NUNI").length},m=new Date().toISOString().split("T")[0],p=t.filter(b=>b.completed&&b.completedAt&&b.completedAt.split("T")[0]===m).length,S=t.filter(b=>!b.completed&&b.dueDate&&b.dueDate.split("T")[0]===m).length,y=new Date;y.setDate(y.getDate()-y.getDay());const E=new Date(y);E.setDate(E.getDate()+6);const x=t.filter(b=>b.completed&&b.completedAt&&new Date(b.completedAt)>=y&&new Date(b.completedAt)<=E).length,_=t.filter(b=>!b.completed&&b.dueDate&&new Date(b.dueDate)<new Date).length,T=t.filter(b=>b.rolloverCount>0).length,R=t.reduce((b,C)=>b+C.rolloverCount,0),M=e.length,O=e.filter(b=>new Date(b.reminderTime).toISOString().split("T")[0]===m).length;return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h3",{className:"text-lg font-semibold",children:"Thống kê theo thời gian"}),c.jsxs(Da,{value:n,onValueChange:b=>r(b),children:[c.jsx(vo,{className:"w-40",children:c.jsx(Ma,{})}),c.jsxs(yo,{children:[c.jsx(Tr,{value:"day",children:"Hôm nay"}),c.jsx(Tr,{value:"week",children:"Tuần này"}),c.jsx(Tr,{value:"month",children:"Tháng này"}),c.jsx(Tr,{value:"year",children:"Năm này"})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[c.jsx(Be,{className:"bg-gradient-to-r from-indigo-500 to-indigo-600 text-white",children:c.jsx(ze,{className:"p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-indigo-100 text-sm",children:"Tổng công việc"}),c.jsx("p",{className:"text-3xl font-bold",children:d})]}),c.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center",children:c.jsx(N1,{className:"h-6 w-6 text-white"})})]})})}),c.jsx(Be,{className:"bg-gradient-to-r from-emerald-500 to-emerald-600 text-white",children:c.jsx(ze,{className:"p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-emerald-100 text-sm",children:"Đã hoàn thành"}),c.jsx("p",{className:"text-3xl font-bold",children:l})]}),c.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center",children:c.jsx(b1,{className:"h-6 w-6 text-white"})})]})})}),c.jsx(Be,{className:"bg-gradient-to-r from-amber-500 to-amber-600 text-white",children:c.jsx(ze,{className:"p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-amber-100 text-sm",children:"Tỷ lệ hoàn thành"}),c.jsxs("p",{className:"text-3xl font-bold",children:[h,"%"]})]}),c.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center",children:c.jsx(t6,{className:"h-6 w-6 text-white"})})]})})}),c.jsx(Be,{className:"bg-gradient-to-r from-violet-500 to-violet-600 text-white",children:c.jsx(ze,{className:"p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-violet-100 text-sm",children:"Lời nhắc"}),c.jsx("p",{className:"text-3xl font-bold",children:M})]}),c.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-full flex items-center justify-center",children:c.jsx(Td,{className:"h-6 w-6 text-white"})})]})})})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs(Be,{children:[c.jsx(kt,{children:c.jsxs(Pt,{className:"flex items-center gap-2",children:[c.jsx(J3,{className:"h-5 w-5"}),"Phân bố theo ưu tiên"]})}),c.jsx(ze,{children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-red-500",children:"🔴"}),c.jsx("span",{className:"text-sm",children:"Khẩn cấp & Quan trọng"})]}),c.jsx(Fe,{variant:"destructive",children:f.UI})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-yellow-500",children:"🟡"}),c.jsx("span",{className:"text-sm",children:"Quan trọng nhưng không khẩn cấp"})]}),c.jsx(Fe,{variant:"outline",className:"border-yellow-200 text-yellow-600",children:f.UNI})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-green-500",children:"🟢"}),c.jsx("span",{className:"text-sm",children:"Khẩn cấp nhưng không quan trọng"})]}),c.jsx(Fe,{variant:"outline",className:"border-green-200 text-green-600",children:f.NUI})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:"text-blue-500",children:"🔵"}),c.jsx("span",{className:"text-sm",children:"Không ưu tiên"})]}),c.jsx(Fe,{variant:"outline",className:"border-blue-200 text-blue-600",children:f.NUNI})]})]})})]}),c.jsxs(Be,{children:[c.jsx(kt,{children:c.jsxs(Pt,{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-6 h-6 bg-cyan-100 rounded-full flex items-center justify-center",children:c.jsx(B3,{className:"h-4 w-4 text-cyan-600"})}),"Thống kê thời gian"]})}),c.jsx(ze,{children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:c.jsx(b1,{className:"h-4 w-4 text-green-600"})}),c.jsx("span",{className:"text-sm",children:"Hoàn thành hôm nay"})]}),c.jsx(Fe,{variant:"secondary",children:p})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:c.jsx(Td,{className:"h-4 w-4 text-blue-600"})}),c.jsx("span",{className:"text-sm",children:"Hạn hôm nay"})]}),c.jsx(Fe,{variant:"outline",children:S})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center",children:c.jsx($3,{className:"h-4 w-4 text-red-600"})}),c.jsx("span",{className:"text-sm",children:"Quá hạn"})]}),c.jsx(Fe,{variant:"destructive",children:_})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center",children:c.jsx(Gm,{className:"h-4 w-4 text-purple-600"})}),c.jsx("span",{className:"text-sm",children:"Hoàn thành tuần này"})]}),c.jsx(Fe,{variant:"secondary",children:x})]})]})})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs(Be,{children:[c.jsx(kt,{children:c.jsxs(Pt,{className:"flex items-center gap-2",children:[c.jsx(Lg,{className:"h-5 w-5"}),"Tiến độ hoàn thành"]})}),c.jsx(ze,{children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-sm font-medium",children:"Tỷ lệ hoàn thành"}),c.jsxs("span",{className:"text-sm text-muted-foreground",children:[h,"%"]})]}),c.jsx(GP,{value:h,className:"h-2"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-2xl font-bold text-green-600",children:l}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Hoàn thành"})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-2xl font-bold text-orange-600",children:d-l}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Chưa hoàn thành"})]})]})]})})]}),c.jsxs(Be,{children:[c.jsx(kt,{children:c.jsxs(Pt,{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-6 h-6 bg-orange-100 rounded-full flex items-center justify-center",children:c.jsx(k1,{className:"h-4 w-4 text-orange-600"})}),"Rollover & Reminders"]})}),c.jsx(ze,{children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center",children:c.jsx(Gm,{className:"h-4 w-4 text-orange-600"})}),c.jsx("span",{className:"text-sm",children:"Công việc rollover"})]}),c.jsx(Fe,{variant:"outline",className:"border-orange-200 text-orange-600",children:T})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center",children:c.jsx(k1,{className:"h-4 w-4 text-red-600"})}),c.jsx("span",{className:"text-sm",children:"Tổng rollovers"})]}),c.jsx(Fe,{variant:"destructive",children:R})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:c.jsx(Td,{className:"h-4 w-4 text-blue-600"})}),c.jsx("span",{className:"text-sm",children:"Lời nhắc hôm nay"})]}),c.jsx(Fe,{variant:"outline",className:"border-blue-200 text-blue-600",children:O})]})]})})]})]}),c.jsxs(Be,{children:[c.jsx(kt,{children:c.jsxs(Pt,{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-6 h-6 bg-teal-100 rounded-full flex items-center justify-center",children:c.jsx(z3,{className:"h-4 w-4 text-teal-600"})}),"Hành động nhanh"]})}),c.jsx(ze,{children:c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[c.jsxs(re,{variant:"outline",size:"sm",className:"h-12 flex-col gap-1",children:[c.jsx("div",{className:"w-6 h-6 bg-indigo-100 rounded-full flex items-center justify-center",children:c.jsx(N1,{className:"h-3 w-3 text-indigo-600"})}),c.jsx("span",{className:"text-xs",children:"Thêm công việc"})]}),c.jsxs(re,{variant:"outline",size:"sm",className:"h-12 flex-col gap-1",children:[c.jsx("div",{className:"w-6 h-6 bg-cyan-100 rounded-full flex items-center justify-center",children:c.jsx(Sc,{className:"h-3 w-3 text-cyan-600"})}),c.jsx("span",{className:"text-xs",children:"Import ICS"})]}),c.jsxs(re,{variant:"outline",size:"sm",className:"h-12 flex-col gap-1",children:[c.jsx("div",{className:"w-6 h-6 bg-pink-100 rounded-full flex items-center justify-center",children:c.jsx(Lg,{className:"h-3 w-3 text-pink-600"})}),c.jsx("span",{className:"text-xs",children:"Xem báo cáo"})]}),c.jsxs(re,{variant:"outline",size:"sm",className:"h-12 flex-col gap-1",children:[c.jsx("div",{className:"w-6 h-6 bg-lime-100 rounded-full flex items-center justify-center",children:c.jsx(Gm,{className:"h-3 w-3 text-lime-600"})}),c.jsx("span",{className:"text-xs",children:"Rollover"})]})]})})]})]})}function nW({reminder:t,onSuccess:e}){const[n,r]=v.useState(!1),[s,i]=v.useState(new Date(t.reminderTime).toISOString().slice(0,16)),[o,a]=v.useState(t.email||""),l=gt.reminders.update.useMutation({onSuccess:()=>{ie.success("Đã cập nhật lời nhắc"),r(!1),e()},onError:f=>{ie.error(`Lỗi: ${f.message}`)}}),d=f=>{if(f.preventDefault(),!s){ie.error("Vui lòng chọn thời gian nhắc");return}l.mutate({id:t.id,reminderTime:new Date(s).toISOString(),email:o.trim()||void 0})},h=()=>{i(new Date(t.reminderTime).toISOString().slice(0,16)),a(t.email||""),r(!0)};return c.jsxs(c.Fragment,{children:[c.jsx(re,{variant:"ghost",size:"sm",onClick:h,children:c.jsx(nw,{className:"h-4 w-4"})}),c.jsx(vs,{open:n,onOpenChange:r,children:c.jsx(Lr,{className:"sm:max-w-[400px]",children:c.jsxs("form",{onSubmit:d,children:[c.jsxs(Vr,{children:[c.jsxs(Ur,{className:"flex items-center gap-2",children:[c.jsx(Td,{className:"h-5 w-5"}),"Chỉnh sửa lời nhắc"]}),c.jsx($r,{children:"Cập nhật thời gian và email nhận thông báo"})]}),c.jsxs("div",{className:"grid gap-4 py-4",children:[c.jsxs("div",{className:"grid gap-2",children:[c.jsx(Re,{htmlFor:"reminder-time",children:"Thời gian nhắc *"}),c.jsx(ct,{id:"reminder-time",type:"datetime-local",value:s,onChange:f=>i(f.target.value)})]}),c.jsxs("div",{className:"grid gap-2",children:[c.jsx(Re,{htmlFor:"email",children:"Email nhận thông báo"}),c.jsx(ct,{id:"email",type:"email",value:o,onChange:f=>a(f.target.value),placeholder:"Nhập email nhận thông báo"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Để trống để sử dụng email mặc định"})]})]}),c.jsxs(Fr,{children:[c.jsx(re,{type:"button",variant:"outline",onClick:()=>r(!1),children:"Hủy"}),c.jsx(re,{type:"submit",disabled:l.isPending,children:l.isPending?"Đang cập nhật...":"Cập nhật"})]})]})})})]})}function rW(){const{login:t}=ef(),[e,n]=v.useState(!0),[r,s]=v.useState(""),[i,o]=v.useState(""),[a,l]=v.useState(""),[d,h]=v.useState(""),[f,m]=v.useState(!1),p=gt.auth.login.useMutation({onSuccess:E=>{t({id:E.id,name:E.name,email:E.email}),ie.success(`Đăng nhập thành công! Xin chào ${E.name}`),m(!1)},onError:E=>{ie.error(`Đăng nhập thất bại: ${E.message}`),m(!1)}}),S=gt.auth.register.useMutation({onSuccess:E=>{t({id:E.id,name:E.name,email:E.email}),ie.success(`Đăng ký thành công! Xin chào ${E.name}`),m(!1)},onError:E=>{ie.error(`Đăng ký thất bại: ${E.message}`),m(!1)}}),y=async E=>{if(E.preventDefault(),m(!0),e){if(!r||!i){ie.error("Vui lòng nhập đầy đủ thông tin"),m(!1);return}p.mutate({email:r,password:i})}else{if(!r||!i||!a){ie.error("Vui lòng nhập đầy đủ thông tin"),m(!1);return}if(i!==d){ie.error("Mật khẩu xác nhận không khớp"),m(!1);return}if(i.length<6){ie.error("Mật khẩu phải có ít nhất 6 ký tự"),m(!1);return}S.mutate({name:a,email:r,password:i})}};return c.jsxs(vs,{children:[c.jsx(Ff,{asChild:!0,children:c.jsxs(re,{variant:"outline",children:[c.jsx(Qm,{className:"mr-2 h-4 w-4"}),"Đăng nhập"]})}),c.jsxs(Lr,{className:"sm:max-w-[425px]",children:[c.jsxs(Vr,{children:[c.jsx(Ur,{children:e?"Đăng nhập":"Đăng ký tài khoản"}),c.jsx($r,{children:e?"Nhập thông tin để đăng nhập vào tài khoản của bạn":"Tạo tài khoản mới để sử dụng ứng dụng"})]}),c.jsxs("form",{onSubmit:y,className:"space-y-4",children:[!e&&c.jsxs("div",{className:"space-y-2",children:[c.jsx(Re,{htmlFor:"name",children:"Họ và tên"}),c.jsx(ct,{id:"name",type:"text",value:a,onChange:E=>l(E.target.value),placeholder:"Nhập họ và tên",required:!e})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Re,{htmlFor:"email",children:"Email"}),c.jsx(ct,{id:"email",type:"email",value:r,onChange:E=>s(E.target.value),placeholder:"Nhập email",required:!0})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Re,{htmlFor:"password",children:"Mật khẩu"}),c.jsx(ct,{id:"password",type:"password",value:i,onChange:E=>o(E.target.value),placeholder:"Nhập mật khẩu",required:!0})]}),!e&&c.jsxs("div",{className:"space-y-2",children:[c.jsx(Re,{htmlFor:"confirmPassword",children:"Xác nhận mật khẩu"}),c.jsx(ct,{id:"confirmPassword",type:"password",value:d,onChange:E=>h(E.target.value),placeholder:"Nhập lại mật khẩu",required:!e})]}),c.jsxs(Fr,{className:"flex-col gap-2",children:[c.jsx(re,{type:"submit",className:"w-full",disabled:f,children:f?c.jsxs(c.Fragment,{children:[c.jsx(bI,{className:"mr-2 h-4 w-4 animate-spin"}),"Đang xử lý..."]}):c.jsxs(c.Fragment,{children:[e?c.jsx(Qm,{className:"mr-2 h-4 w-4"}):c.jsx(R1,{className:"mr-2 h-4 w-4"}),e?"Đăng nhập":"Đăng ký"]})}),c.jsx(re,{type:"button",variant:"ghost",className:"w-full",onClick:()=>n(!e),children:e?c.jsxs(c.Fragment,{children:[c.jsx(R1,{className:"mr-2 h-4 w-4"}),"Chưa có tài khoản? Đăng ký"]}):c.jsxs(c.Fragment,{children:[c.jsx(Qm,{className:"mr-2 h-4 w-4"}),"Đã có tài khoản? Đăng nhập"]})})]})]})]})]})}const KP=v.forwardRef(({className:t,...e},n)=>c.jsx("div",{className:"relative w-full overflow-auto",children:c.jsx("table",{ref:n,className:ue("w-full caption-bottom text-sm",t),...e})}));KP.displayName="Table";const QP=v.forwardRef(({className:t,...e},n)=>c.jsx("thead",{ref:n,className:ue("[&_tr]:border-b",t),...e}));QP.displayName="TableHeader";const YP=v.forwardRef(({className:t,...e},n)=>c.jsx("tbody",{ref:n,className:ue("[&_tr:last-child]:border-0",t),...e}));YP.displayName="TableBody";const sW=v.forwardRef(({className:t,...e},n)=>c.jsx("tfoot",{ref:n,className:ue("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));sW.displayName="TableFooter";const Zg=v.forwardRef(({className:t,...e},n)=>c.jsx("tr",{ref:n,className:ue("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));Zg.displayName="TableRow";const Os=v.forwardRef(({className:t,...e},n)=>c.jsx("th",{ref:n,className:ue("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Os.displayName="TableHead";const js=v.forwardRef(({className:t,...e},n)=>c.jsx("td",{ref:n,className:ue("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));js.displayName="TableCell";const iW=v.forwardRef(({className:t,...e},n)=>c.jsx("caption",{ref:n,className:ue("mt-4 text-sm text-muted-foreground",t),...e}));iW.displayName="TableCaption";function XP(){const[t,e]=v.useState(0);return v.useEffect(()=>{const n=()=>{console.log("State change detected, refreshing..."),e(r=>r+1)};return window.addEventListener("trpc-state-change",n),()=>{window.removeEventListener("trpc-state-change",n)}},[]),t}function oW(){XP();const{data:t=[]}=gt.users.list.useQuery(),[e,n]=v.useState(""),[r,s]=v.useState("all"),[i,o]=v.useState("all"),[a,l]=v.useState(null),[d,h]=v.useState(!1),f=t.filter(T=>{const R=T.name.toLowerCase().includes(e.toLowerCase())||T.email.toLowerCase().includes(e.toLowerCase()),M=r==="all"||T.role===r,O=i==="all"||T.status===i;return R&&M&&O}),m=T=>{l(T),h(!0)},p=gt.users.delete.useMutation({onSuccess:()=>{ie.success("Đã xóa người dùng")},onError:T=>{ie.error(`Lỗi: ${T.message}`)}}),S=gt.users.update.useMutation({onSuccess:()=>{ie.success("Đã cập nhật người dùng"),h(!1)},onError:T=>{ie.error(`Lỗi: ${T.message}`)}}),y=T=>{confirm("Bạn có chắc muốn xóa người dùng này?")&&p.mutate({id:T})},E=T=>{const R=t.find(M=>M.id===T);R&&S.mutate({id:T,status:R.status==="active"?"inactive":"active"})},x=T=>T==="active"?c.jsxs(Fe,{variant:"default",className:"bg-green-500",children:[c.jsx(Ym,{className:"mr-1 h-3 w-3"}),"Hoạt động"]}):c.jsxs(Fe,{variant:"secondary",children:[c.jsx(A1,{className:"mr-1 h-3 w-3"}),"Không hoạt động"]}),_=T=>T==="admin"?c.jsxs(Fe,{variant:"destructive",children:[c.jsx(I1,{className:"mr-1 h-3 w-3"}),"Quản trị"]}):c.jsxs(Fe,{variant:"outline",children:[c.jsx(bd,{className:"mr-1 h-3 w-3"}),"Người dùng"]});return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold",children:"Quản lý người dùng"}),c.jsx("p",{className:"text-muted-foreground",children:"Quản lý tất cả người dùng trong hệ thống"})]}),c.jsx("div",{className:"flex items-center gap-2",children:c.jsxs(Fe,{variant:"outline",children:[c.jsx(bd,{className:"mr-1 h-3 w-3"}),t.length," người dùng"]})})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[c.jsx(Be,{children:c.jsx(ze,{className:"p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Tổng người dùng"}),c.jsx("p",{className:"text-2xl font-bold",children:t.length})]}),c.jsx(bd,{className:"h-8 w-8 text-blue-500"})]})})}),c.jsx(Be,{children:c.jsx(ze,{className:"p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Đang hoạt động"}),c.jsx("p",{className:"text-2xl font-bold text-green-600",children:t.filter(T=>T.status==="active").length})]}),c.jsx(Ym,{className:"h-8 w-8 text-green-500"})]})})}),c.jsx(Be,{children:c.jsx(ze,{className:"p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Quản trị viên"}),c.jsx("p",{className:"text-2xl font-bold text-red-600",children:t.filter(T=>T.role==="admin").length})]}),c.jsx(I1,{className:"h-8 w-8 text-red-500"})]})})}),c.jsx(Be,{children:c.jsx(ze,{className:"p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Tổng công việc"}),c.jsx("p",{className:"text-2xl font-bold text-purple-600",children:t.length})]}),c.jsx(Sc,{className:"h-8 w-8 text-purple-500"})]})})})]}),c.jsx(Be,{children:c.jsx(ze,{className:"p-4",children:c.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[c.jsx("div",{className:"flex-1",children:c.jsxs("div",{className:"relative",children:[c.jsx(Z3,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),c.jsx(ct,{placeholder:"Tìm kiếm theo tên hoặc email...",value:e,onChange:T=>n(T.target.value),className:"pl-10"})]})}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("select",{value:r,onChange:T=>s(T.target.value),className:"px-3 py-2 border rounded-md",children:[c.jsx("option",{value:"all",children:"Tất cả vai trò"}),c.jsx("option",{value:"admin",children:"Quản trị"}),c.jsx("option",{value:"user",children:"Người dùng"})]}),c.jsxs("select",{value:i,onChange:T=>o(T.target.value),className:"px-3 py-2 border rounded-md",children:[c.jsx("option",{value:"all",children:"Tất cả trạng thái"}),c.jsx("option",{value:"active",children:"Hoạt động"}),c.jsx("option",{value:"inactive",children:"Không hoạt động"})]})]})]})})}),c.jsxs(Be,{children:[c.jsx(kt,{children:c.jsx(Pt,{children:"Danh sách người dùng"})}),c.jsx(ze,{children:c.jsxs(KP,{children:[c.jsx(QP,{children:c.jsxs(Zg,{children:[c.jsx(Os,{children:"Người dùng"}),c.jsx(Os,{children:"Vai trò"}),c.jsx(Os,{children:"Trạng thái"}),c.jsx(Os,{children:"Tham gia"}),c.jsx(Os,{children:"Đăng nhập cuối"}),c.jsx(Os,{children:"Công việc"}),c.jsx(Os,{children:"Thao tác"})]})}),c.jsx(YP,{children:f.map(T=>c.jsxs(Zg,{children:[c.jsx(js,{children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white font-medium",children:T.name.charAt(0)}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium",children:T.name}),c.jsxs("div",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[c.jsx(Y3,{className:"h-3 w-3"}),T.email]})]})]})}),c.jsx(js,{children:_(T.role)}),c.jsx(js,{children:x(T.status)}),c.jsx(js,{className:"text-sm",children:T.joinedAt?new Date(T.joinedAt).toLocaleDateString("vi-VN"):"N/A"}),c.jsx(js,{className:"text-sm",children:"Hôm nay"}),c.jsx(js,{children:c.jsxs("div",{className:"text-sm",children:[c.jsx("div",{children:"0 tổng"}),c.jsx("div",{className:"text-green-600",children:"0 hoàn thành"})]})}),c.jsx(js,{children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(re,{variant:"ghost",size:"sm",onClick:()=>m(T),children:c.jsx(nw,{className:"h-4 w-4"})}),c.jsx(re,{variant:"ghost",size:"sm",onClick:()=>E(T.id),children:T.status==="active"?c.jsx(A1,{className:"h-4 w-4"}):c.jsx(Ym,{className:"h-4 w-4"})}),c.jsx(re,{variant:"ghost",size:"sm",onClick:()=>y(T.id),className:"text-red-500 hover:text-red-700",children:c.jsx(Cf,{className:"h-4 w-4"})})]})})]},T.id))})]})})]}),c.jsx(vs,{open:d,onOpenChange:h,children:c.jsxs(Lr,{children:[c.jsxs(Vr,{children:[c.jsx(Ur,{children:"Chỉnh sửa người dùng"}),c.jsx($r,{children:"Cập nhật thông tin người dùng"})]}),a&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Re,{htmlFor:"user-name",children:"Họ và tên"}),c.jsx(ct,{id:"user-name",defaultValue:a.name})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Re,{htmlFor:"user-email",children:"Email"}),c.jsx(ct,{id:"user-email",type:"email",defaultValue:a.email})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Re,{htmlFor:"user-role",children:"Vai trò"}),c.jsxs("select",{id:"user-role",defaultValue:a.role,className:"w-full px-3 py-2 border rounded-md",children:[c.jsx("option",{value:"user",children:"Người dùng"}),c.jsx("option",{value:"admin",children:"Quản trị"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Re,{htmlFor:"user-status",children:"Trạng thái"}),c.jsxs("select",{id:"user-status",defaultValue:a.status,className:"w-full px-3 py-2 border rounded-md",children:[c.jsx("option",{value:"active",children:"Hoạt động"}),c.jsx("option",{value:"inactive",children:"Không hoạt động"})]})]})]}),c.jsxs(Fr,{children:[c.jsx(re,{variant:"outline",onClick:()=>h(!1),children:"Hủy"}),c.jsx(re,{onClick:()=>{ie.success("Đã cập nhật thông tin người dùng"),h(!1)},children:"Lưu thay đổi"})]})]})})]})}const aW=[{value:"UI",label:"🔴 Khẩn cấp & Quan trọng"},{value:"UNI",label:"🟡 Quan trọng nhưng không khẩn cấp"},{value:"NUI",label:"🟢 Khẩn cấp nhưng không quan trọng"},{value:"NUNI",label:"🔵 Không khẩn cấp & không quan trọng"}],lW=[{value:"work",label:"💼 Công việc"},{value:"personal",label:"👤 Cá nhân"},{value:"health",label:"🏥 Sức khỏe"},{value:"learning",label:"📚 Học tập"},{value:"family",label:"👨‍👩‍👧‍👦 Gia đình"},{value:"other",label:"📝 Khác"}];function cW({onSuccess:t}){const[e,n]=v.useState(!1),[r,s]=v.useState(""),[i,o]=v.useState(""),[a,l]=v.useState(""),[d,h]=v.useState("UNI"),[f,m]=v.useState("work"),[p,S]=v.useState(!1),[y,E]=v.useState(""),[x,_]=v.useState(""),[T,R]=v.useState(!0),M=gt.tasks.create.useMutation({onSuccess:()=>{ie.success("Đã thêm công việc"),n(!1),O(),t()},onError:I=>{ie.error(`Lỗi: ${I.message}`)}}),O=()=>{s(""),o(""),l(""),h("UNI"),m("work"),S(!1),E(""),_(""),R(!0)},b=(I,k)=>{if(!T)return d;const A=new Date,D=I?new Date(I):null,P=D&&D.getTime()-A.getTime()<=24*60*60*1e3,Y=["work","health","family"].includes(k);return P&&Y?"UI":!P&&Y?"UNI":P&&!Y?"NUI":"NUNI"},C=I=>{if(I.preventDefault(),!r.trim()){ie.error("Vui lòng nhập tên công việc");return}if(p&&!y){ie.error("Vui lòng chọn thời gian nhắc nhở");return}const k=T?b(a,f):d;M.mutate({title:r.trim(),notes:i.trim()||void 0,dueDate:a||void 0,priority:k,taskType:f,reminder:p?{time:y,email:x||void 0}:void 0})};return c.jsxs(vs,{open:e,onOpenChange:n,children:[c.jsx(Ff,{asChild:!0,children:c.jsxs(re,{children:[c.jsx(SI,{className:"mr-2 h-4 w-4"}),"Thêm công việc"]})}),c.jsx(Lr,{className:"sm:max-w-[500px]",children:c.jsxs("form",{onSubmit:C,children:[c.jsxs(Vr,{children:[c.jsx(Ur,{children:"Thêm công việc mới"}),c.jsx($r,{children:"Tạo công việc mới và phân loại theo ma trận Eisenhower"})]}),c.jsxs("div",{className:"grid gap-4 py-4",children:[c.jsxs("div",{className:"grid gap-2",children:[c.jsx(Re,{htmlFor:"title",children:"Tên công việc *"}),c.jsx(ct,{id:"title",value:r,onChange:I=>s(I.target.value),placeholder:"Ví dụ: Hoàn thành báo cáo",autoFocus:!0})]}),c.jsxs("div",{className:"grid gap-2",children:[c.jsx(Re,{htmlFor:"notes",children:"Ghi chú"}),c.jsx(ru,{id:"notes",value:i,onChange:I=>o(I.target.value),placeholder:"Thêm mô tả chi tiết...",rows:3})]}),c.jsxs("div",{className:"grid gap-2",children:[c.jsx(Re,{htmlFor:"task-type",children:"Loại công việc"}),c.jsxs(Da,{value:f,onValueChange:m,children:[c.jsx(vo,{id:"task-type",children:c.jsx(Ma,{})}),c.jsx(yo,{children:lW.map(I=>c.jsx(Tr,{value:I.value,children:I.label},I.value))})]})]}),c.jsxs("div",{className:"grid gap-2",children:[c.jsx(Re,{htmlFor:"due-date",children:"Hạn hoàn thành (tùy chọn)"}),c.jsx(Mh,{value:a,onChange:l,placeholder:"Chọn ngày & giờ deadline"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Eh,{id:"auto-classify",checked:T,onCheckedChange:I=>R(I)}),c.jsx(Re,{htmlFor:"auto-classify",className:"text-sm",children:"Tự động phân loại theo deadline và loại công việc"})]}),c.jsxs("div",{className:"grid gap-2",children:[c.jsxs(Re,{htmlFor:"priority",children:["Mức độ ưu tiên ",T?"(tự động)":"*"]}),c.jsxs(Da,{value:d,onValueChange:I=>h(I),disabled:T,children:[c.jsx(vo,{id:"priority",children:c.jsx(Ma,{})}),c.jsx(yo,{children:aW.map(I=>c.jsx(Tr,{value:I.value,children:I.label},I.value))})]})]}),c.jsxs("div",{className:"space-y-3 border-t pt-4",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Eh,{id:"enable-reminder",checked:p,onCheckedChange:I=>S(I)}),c.jsxs(Re,{htmlFor:"enable-reminder",className:"text-sm font-medium",children:[c.jsx(xI,{className:"inline mr-1 h-4 w-4"}),"Đặt lời nhắc"]})]}),p&&c.jsxs("div",{className:"space-y-3 pl-6",children:[c.jsxs("div",{className:"grid gap-2",children:[c.jsx(Re,{htmlFor:"reminder-time",children:"Thời gian nhắc nhở"}),c.jsx(Mh,{value:y,onChange:E,placeholder:"Chọn thời gian nhắc nhở"})]}),c.jsxs("div",{className:"grid gap-2",children:[c.jsx(Re,{htmlFor:"reminder-email",children:"Email nhắc nhở (tùy chọn)"}),c.jsx(ct,{id:"reminder-email",type:"email",value:x,onChange:I=>_(I.target.value),placeholder:"email@example.com"})]})]})]})]}),c.jsxs(Fr,{children:[c.jsx(re,{type:"button",variant:"outline",onClick:()=>n(!1),children:"Hủy"}),c.jsx(re,{type:"submit",disabled:M.isPending,children:M.isPending?"Đang thêm...":"Thêm"})]})]})})]})}function uW({onSuccess:t}){const[e,n]=v.useState(!1),[r,s]=v.useState(""),[i,o]=v.useState("google"),a=()=>{if(!r.trim()){ie.error("Vui lòng nhập nội dung ICS");return}try{const h=r.split(`
`),f=[];let m={};for(const p of h)p.startsWith("BEGIN:VEVENT")?m={}:p.startsWith("END:VEVENT")?(m.SUMMARY&&f.push(m),m={}):p.startsWith("SUMMARY:")?m.SUMMARY=p.substring(8):p.startsWith("DTSTART:")?m.DTSTART=p.substring(8):p.startsWith("DTEND:")?m.DTEND=p.substring(6):p.startsWith("DESCRIPTION:")&&(m.DESCRIPTION=p.substring(12));ie.success(`Đã import ${f.length} sự kiện từ lịch`),n(!1),t==null||t()}catch{ie.error("Lỗi khi import lịch")}},l=()=>{const h=d();if(i==="google"){const f=`https://calendar.google.com/calendar/render?action=TEMPLATE&text=Focus Matrix Tasks&dates=${new Date().toISOString().replace(/[-:]/g,"").split(".")[0]}/${new Date(Date.now()+864e5).toISOString().replace(/[-:]/g,"").split(".")[0]}`;window.open(f,"_blank"),ie.success("Đã mở Google Calendar")}else{const f=new Blob([h],{type:"text/calendar"}),m=URL.createObjectURL(f),p=document.createElement("a");p.href=m,p.download="focus-matrix-tasks.ics",p.click(),URL.revokeObjectURL(m),ie.success("Đã tải xuống file lịch")}},d=()=>{const h=new Date;return["BEGIN:VCALENDAR","VERSION:2.0","PRODID:-//Focus Matrix//Tasks//EN","BEGIN:VEVENT","UID:"+h.getTime()+"@focus-matrix.com","DTSTAMP:"+h.toISOString().replace(/[-:]/g,"").split(".")[0]+"Z","DTSTART:"+h.toISOString().replace(/[-:]/g,"").split(".")[0]+"Z","DTEND:"+new Date(h.getTime()+60*60*1e3).toISOString().replace(/[-:]/g,"").split(".")[0]+"Z","SUMMARY:Focus Matrix Tasks","DESCRIPTION:Tasks from Focus Matrix application","END:VEVENT","END:VCALENDAR"].join(`
`)};return c.jsxs(vs,{open:e,onOpenChange:n,children:[c.jsx(Ff,{asChild:!0,children:c.jsxs(re,{variant:"outline",size:"sm",children:[c.jsx(Sc,{className:"mr-2 h-4 w-4"}),"Đồng bộ lịch"]})}),c.jsxs(Lr,{className:"sm:max-w-[600px]",children:[c.jsxs(Vr,{children:[c.jsxs(Ur,{className:"flex items-center gap-2",children:[c.jsx(Sc,{className:"h-5 w-5"}),"Đồng bộ với lịch"]}),c.jsx($r,{children:"Import/Export lịch với Google Calendar, Apple Calendar, Microsoft Outlook"})]}),c.jsxs("div",{className:"space-y-6 py-4",children:[c.jsxs(Be,{children:[c.jsx(kt,{children:c.jsxs(Pt,{className:"text-base flex items-center gap-2",children:[c.jsx(P1,{className:"h-4 w-4"}),"Import từ lịch"]})}),c.jsxs(ze,{className:"space-y-4",children:[c.jsxs("div",{className:"grid gap-2",children:[c.jsx(Re,{htmlFor:"ics-content",children:"Nội dung file ICS (.ics)"}),c.jsx(ru,{id:"ics-content",value:r,onChange:h=>s(h.target.value),placeholder:"Dán nội dung file .ics vào đây...",rows:6})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(re,{variant:"outline",size:"sm",children:[c.jsx(G3,{className:"mr-2 h-4 w-4"}),"Chọn file .ics"]}),c.jsxs(re,{onClick:a,size:"sm",children:[c.jsx(P1,{className:"mr-2 h-4 w-4"}),"Import"]})]}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Hỗ trợ định dạng ICS từ Google Calendar, Apple Calendar, Microsoft Outlook"})]})]}),c.jsxs(Be,{children:[c.jsx(kt,{children:c.jsxs(Pt,{className:"text-base flex items-center gap-2",children:[c.jsx(S1,{className:"h-4 w-4"}),"Export ra lịch"]})}),c.jsxs(ze,{className:"space-y-4",children:[c.jsxs("div",{className:"grid gap-2",children:[c.jsx(Re,{children:"Chọn nền tảng lịch"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(re,{variant:i==="google"?"default":"outline",size:"sm",onClick:()=>o("google"),children:"📅 Google Calendar"}),c.jsx(re,{variant:i==="apple"?"default":"outline",size:"sm",onClick:()=>o("apple"),children:"🍎 Apple Calendar"}),c.jsx(re,{variant:i==="microsoft"?"default":"outline",size:"sm",onClick:()=>o("microsoft"),children:"📧 Microsoft Outlook"})]})]}),c.jsxs(re,{onClick:l,className:"w-full",children:[c.jsx(S1,{className:"mr-2 h-4 w-4"}),i==="google"?"Mở Google Calendar":"Tải xuống file .ics"]}),c.jsx("p",{className:"text-xs text-muted-foreground",children:i==="google"?"Sẽ mở Google Calendar với các công việc đã tạo":"Tải xuống file .ics để import vào lịch của bạn"})]})]})]}),c.jsx(Fr,{children:c.jsx(re,{variant:"outline",onClick:()=>n(!1),children:"Đóng"})})]})]})}function dW(){return new Date}function hW(){const{user:t,loading:e,isAuthenticated:n,logout:r}=ef(),[s,i]=v.useState("matrix");v.useEffect(()=>{(t==null?void 0:t.email)==="phuonglh43@gmail.com"?i("admin"):t&&i("matrix")},[t]);const o=XP();console.log("Home render:",{user:t,loading:e,isAuthenticated:n,refreshKey:o});const{data:a,refetch:l}=gt.tasks.list.useQuery(),{data:d,refetch:h}=gt.reminders.list.useQuery(),f=()=>{console.log("Force refresh called"),l(),window.dispatchEvent(new CustomEvent("trpc-state-change"))},m=gt.reminders.delete.useMutation({onSuccess:()=>{h(),ie.success("Đã xóa lời nhắc")}});if(e)return c.jsx("div",{className:"min-h-screen flex items-center justify-center",children:c.jsx(bI,{className:"h-8 w-8 animate-spin text-primary"})});if(!n)return c.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gradient-to-br from-blue-50 via-white to-yellow-50 p-4",children:c.jsxs("div",{className:"max-w-md w-full text-center space-y-6",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:K_}),c.jsx("p",{className:"text-lg text-muted-foreground",children:"Quản lý công việc thông minh với Ma trận Eisenhower"}),c.jsxs("div",{className:"flex flex-wrap justify-center gap-2 pt-2",children:[c.jsx(Fe,{variant:"outline",children:"🔴 Khẩn cấp & Quan trọng"}),c.jsx(Fe,{variant:"outline",children:"🟡 Quan trọng"}),c.jsx(Fe,{variant:"outline",children:"🟢 Khẩn cấp"}),c.jsx(Fe,{variant:"outline",children:"🔵 Không ưu tiên"})]})]}),c.jsx("div",{className:"w-full space-y-3",children:c.jsx(rW,{})}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"✅ Offline-first • 🔒 Mã hóa E2EE • ☁️ Sync Google Drive"})]})});const p=dW().toISOString().split("T")[0],S=(a==null?void 0:a.filter(T=>T.completed&&T.completedAt&&T.completedAt.split("T")[0]===p))||[],y=(a==null?void 0:a.filter(T=>!T.completed&&T.dueDate&&T.dueDate.split("T")[0]===p))||[],E=(a==null?void 0:a.length)||0,x=(a==null?void 0:a.filter(T=>T.completed).length)||0,_=E-x;return c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsx("header",{className:"border-b bg-white sticky top-0 z-10",children:c.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold",children:K_}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:["Xin chào, ",(t==null?void 0:t.name)||(t==null?void 0:t.email)]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs(re,{variant:s==="matrix"?"default":"outline",size:"sm",onClick:()=>i("matrix"),children:[c.jsx(K3,{className:"mr-2 h-4 w-4"}),"Ma trận"]}),c.jsxs(re,{variant:s==="dashboard"?"default":"outline",size:"sm",onClick:()=>i("dashboard"),children:[c.jsx(Lg,{className:"mr-2 h-4 w-4"}),"Dashboard"]}),(t==null?void 0:t.email)==="phuonglh43@gmail.com"&&c.jsxs(re,{variant:s==="admin"?"default":"outline",size:"sm",onClick:()=>i("admin"),children:[c.jsx(bd,{className:"mr-2 h-4 w-4"}),"Quản trị"]}),c.jsx(Gz,{onRefresh:f}),c.jsxs(re,{variant:"outline",onClick:()=>r(),children:[c.jsx(Q3,{className:"mr-2 h-4 w-4"}),"Đăng xuất"]})]})]})}),c.jsx("main",{className:"container mx-auto px-4 py-6",children:s==="matrix"?c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[c.jsxs("div",{className:"lg:col-span-3",children:[c.jsxs("div",{className:"mb-4",children:[c.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Ma trận Eisenhower"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Phân loại công việc theo mức độ khẩn cấp và quan trọng"})]}),c.jsx(Hz,{tasks:a||[],onRefresh:f})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs(Be,{children:[c.jsx(kt,{children:c.jsx(Pt,{className:"text-base",children:"Hôm nay"})}),c.jsxs(ze,{className:"space-y-3",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm text-muted-foreground",children:"Đã hoàn thành"}),c.jsx(Fe,{variant:"secondary",children:S.length})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm text-muted-foreground",children:"Chưa hoàn thành"}),c.jsx(Fe,{variant:"destructive",children:y.length})]})]})]}),c.jsxs(Be,{children:[c.jsx(kt,{children:c.jsx(Pt,{className:"text-base",children:"Tổng quan"})}),c.jsxs(ze,{className:"space-y-3",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm text-muted-foreground",children:"Tổng công việc"}),c.jsx(Fe,{children:E})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm text-muted-foreground",children:"Đã hoàn thành"}),c.jsx(Fe,{variant:"secondary",children:x})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm text-muted-foreground",children:"Chưa hoàn thành"}),c.jsx(Fe,{variant:"outline",children:_})]})]})]}),c.jsxs(Be,{children:[c.jsx(kt,{children:c.jsx(Pt,{className:"text-base",children:"Thêm công việc"})}),c.jsxs(ze,{className:"space-y-3",children:[c.jsx(cW,{onSuccess:f}),c.jsx(uW,{onSuccess:f}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Tự động phân loại theo deadline và loại công việc"})]})]}),c.jsxs(Be,{children:[c.jsx(kt,{children:c.jsxs(Pt,{className:"text-base flex items-center justify-between",children:["Lời nhắc",c.jsx(Fe,{variant:"secondary",children:(d==null?void 0:d.length)||0})]})}),c.jsx(ze,{children:!d||d.length===0?c.jsx("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Chưa có lời nhắc nào"}):c.jsx("ul",{className:"space-y-2",children:d.map(T=>{const R=a==null?void 0:a.find(M=>M.id===T.taskId);return c.jsxs("li",{className:"text-sm p-2 bg-muted rounded flex items-start justify-between gap-2",children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("div",{className:"font-medium truncate",children:(R==null?void 0:R.title)||"Công việc"}),c.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(T.reminderTime).toLocaleString("vi-VN")}),T.email&&c.jsxs("div",{className:"text-xs text-muted-foreground truncate",children:["📧 ",T.email]})]}),c.jsxs("div",{className:"flex gap-1",children:[c.jsx(nW,{reminder:T,onSuccess:()=>h()}),c.jsx(re,{variant:"ghost",size:"icon",className:"h-6 w-6 flex-shrink-0",onClick:()=>m.mutate({id:T.id}),children:c.jsx(Cf,{className:"h-3 w-3"})})]})]},T.id)})})})]})]})]}):s==="dashboard"?c.jsxs("div",{children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Dashboard thông minh"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Tổng quan và thống kê chi tiết về công việc của bạn"})]}),c.jsx(tW,{tasks:a||[],reminders:d||[],onRefresh:f})]}):c.jsx(oW,{})})]})}const fW=async()=>{try{if(console.log("Starting migration from localStorage to Firebase..."),localStorage.getItem("firebase_migration_done")){console.log("Migration already completed");return}const e=JSON.parse(localStorage.getItem("focus_matrix_users")||"[]");console.log(`Migrating ${e.length} users...`);for(const s of e)try{await zi.createUser({name:s.name,email:s.email,role:s.role,status:s.status,joinedAt:s.joinedAt}),console.log(`Migrated user: ${s.email}`)}catch(i){console.error(`Error migrating user ${s.email}:`,i)}const n=JSON.parse(localStorage.getItem("focus_matrix_tasks")||"{}");console.log(`Migrating tasks for ${Object.keys(n).length} users...`);for(const[s,i]of Object.entries(n))if(Array.isArray(i)&&i.length>0)try{await Ds.replaceUserTasks(s,i),console.log(`Migrated ${i.length} tasks for user ${s}`)}catch(o){console.error(`Error migrating tasks for user ${s}:`,o)}const r=JSON.parse(localStorage.getItem("focus_matrix_reminders")||"{}");console.log(`Migrating reminders for ${Object.keys(r).length} users...`);for(const[s,i]of Object.entries(r))if(Array.isArray(i)&&i.length>0)try{await Yr.replaceUserReminders(s,i),console.log(`Migrated ${i.length} reminders for user ${s}`)}catch(o){console.error(`Error migrating reminders for user ${s}:`,o)}localStorage.setItem("firebase_migration_done","true"),console.log("Migration completed successfully!")}catch(t){throw console.error("Migration failed:",t),t}},mW=()=>{fW().catch(console.error)},pW=new iD({defaultOptions:{queries:{staleTime:1e3*60*5}}});function gW(){const t="your-google-client-id";return console.log("Google Client ID:",t),v.useEffect(()=>{mW()},[]),c.jsx(lD,{client:pW,children:c.jsx(VD,{clientId:t,children:c.jsx(UD,{children:c.jsxs("div",{className:"min-h-screen bg-background",children:[c.jsx(hW,{}),c.jsx(OD,{})]})})})})}fp.createRoot(document.getElementById("root")).render(c.jsx(q.StrictMode,{children:c.jsx(gW,{})}));
